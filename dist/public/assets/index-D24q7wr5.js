var yv=t=>{throw TypeError(t)};var Rd=(t,e,n)=>e.has(t)||yv("Cannot "+n);var D=(t,e,n)=>(Rd(t,e,"read from private field"),n?n.call(t):e.get(t)),J=(t,e,n)=>e.has(t)?yv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),G=(t,e,n,r)=>(Rd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ue=(t,e,n)=>(Rd(t,e,"access private method"),n);var Iu=(t,e,n,r)=>({set _(i){G(t,e,i,n)},get _(){return D(t,e,r)}});function vA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _A(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tE={exports:{}},yh={},nE={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),wA=Symbol.for("react.portal"),EA=Symbol.for("react.fragment"),TA=Symbol.for("react.strict_mode"),xA=Symbol.for("react.profiler"),IA=Symbol.for("react.provider"),SA=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),AA=Symbol.for("react.suspense"),RA=Symbol.for("react.memo"),PA=Symbol.for("react.lazy"),vv=Symbol.iterator;function bA(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var rE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iE=Object.assign,sE={};function $o(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||rE}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oE(){}oE.prototype=$o.prototype;function dm(t,e,n){this.props=t,this.context=e,this.refs=sE,this.updater=n||rE}var fm=dm.prototype=new oE;fm.constructor=dm;iE(fm,$o.prototype);fm.isPureReactComponent=!0;var _v=Array.isArray,aE=Object.prototype.hasOwnProperty,pm={current:null},lE={key:!0,ref:!0,__self:!0,__source:!0};function uE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)aE.call(e,r)&&!lE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ul,type:t,key:s,ref:o,props:i,_owner:pm.current}}function kA(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function NA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function Pd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NA(""+t.key):e.toString(36)}function tc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ul:case wA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Pd(o,0):r,_v(i)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),tc(i,e,n,"",function(c){return c})):i!=null&&(mm(i)&&(i=kA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_v(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Pd(s,a);o+=tc(s,e,n,u,i)}else if(u=bA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Pd(s,a++),o+=tc(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Su(t,e,n){if(t==null)return t;var r=[],i=0;return tc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},nc={transition:null},DA={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:nc,ReactCurrentOwner:pm};function cE(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Su,forEach:function(t,e,n){Su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Su(t,function(){e++}),e},toArray:function(t){return Su(t,function(e){return e})||[]},only:function(t){if(!mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=$o;ae.Fragment=EA;ae.Profiler=xA;ae.PureComponent=dm;ae.StrictMode=TA;ae.Suspense=AA;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA;ae.act=cE;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)aE.call(e,u)&&!lE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ul,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:SA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IA,_context:t},t.Consumer=t};ae.createElement=uE;ae.createFactory=function(t){var e=uE.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:CA,render:t}};ae.isValidElement=mm;ae.lazy=function(t){return{$$typeof:PA,_payload:{_status:-1,_result:t},_init:OA}};ae.memo=function(t,e){return{$$typeof:RA,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=nc.transition;nc.transition={};try{t()}finally{nc.transition=e}};ae.unstable_act=cE;ae.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ae.useContext=function(t){return Ot.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ae.useId=function(){return Ot.current.useId()};ae.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ae.useRef=function(t){return Ot.current.useRef(t)};ae.useState=function(t){return Ot.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Ot.current.useTransition()};ae.version="18.3.1";nE.exports=ae;var P=nE.exports;const Dr=_A(P),LA=vA({__proto__:null,default:Dr},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=P,VA=Symbol.for("react.element"),FA=Symbol.for("react.fragment"),jA=Object.prototype.hasOwnProperty,UA=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zA={key:!0,ref:!0,__self:!0,__source:!0};function hE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jA.call(e,r)&&!zA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VA,type:t,key:s,ref:o,props:i,_owner:UA.current}}yh.Fragment=FA;yh.jsx=hE;yh.jsxs=hE;tE.exports=yh;var g=tE.exports,dE={exports:{}},Zt={},fE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,H){var Q=j.length;j.push(H);e:for(;0<Q;){var se=Q-1>>>1,ve=j[se];if(0<i(ve,H))j[se]=H,j[Q]=ve,Q=se;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],Q=j.pop();if(Q!==H){j[0]=Q;e:for(var se=0,ve=j.length,be=ve>>>1;se<be;){var gn=2*(se+1)-1,yn=j[gn],vn=gn+1,tn=j[vn];if(0>i(yn,Q))vn<ve&&0>i(tn,yn)?(j[se]=tn,j[vn]=Q,se=vn):(j[se]=yn,j[gn]=Q,se=gn);else if(vn<ve&&0>i(tn,Q))j[se]=tn,j[vn]=Q,se=vn;else break e}}return H}function i(j,H){var Q=j.sortIndex-H.sortIndex;return Q!==0?Q:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,y=!1,x=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=j)r(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function k(j){if(T=!1,C(j),!x)if(n(u)!==null)x=!0,ie(M);else{var H=n(c);H!==null&&ne(k,H.startTime-j)}}function M(j,H){x=!1,T&&(T=!1,v(E),E=-1),y=!0;var Q=p;try{for(C(H),f=n(u);f!==null&&(!(f.expirationTime>H)||j&&!N());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var ve=se(f.expirationTime<=H);H=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(u)&&r(u),C(H)}else r(u);f=n(u)}if(f!==null)var be=!0;else{var gn=n(c);gn!==null&&ne(k,gn.startTime-H),be=!1}return be}finally{f=null,p=Q,y=!1}}var V=!1,_=null,E=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function O(){if(_!==null){var j=t.unstable_now();R=j;var H=!0;try{H=_(!0,j)}finally{H?b():(V=!1,_=null)}}else V=!1}var b;if(typeof w=="function")b=function(){w(O)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ge=Z.port2;Z.port1.onmessage=O,b=function(){ge.postMessage(null)}}else b=function(){S(O,0)};function ie(j){_=j,V||(V=!0,b())}function ne(j,H){E=S(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ie(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var Q=p;p=H;try{return j()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=p;p=j;try{return H()}finally{p=Q}},t.unstable_scheduleCallback=function(j,H,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,j){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=Q+ve,j={id:h++,callback:H,priorityLevel:j,startTime:Q,expirationTime:ve,sortIndex:-1},Q>se?(j.sortIndex=Q,e(c,j),n(u)===null&&j===n(c)&&(T?(v(E),E=-1):T=!0,ne(k,Q-se))):(j.sortIndex=ve,e(u,j),x||y||(x=!0,ie(M))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var H=p;return function(){var Q=p;p=H;try{return j.apply(this,arguments)}finally{p=Q}}}})(pE);fE.exports=pE;var BA=fE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=P,Jt=BA;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mE=new Set,il={};function ys(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(il[t]=e,t=0;t<e.length;t++)mE.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=Object.prototype.hasOwnProperty,HA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ev={},Tv={};function qA(t){return wf.call(Tv,t)?!0:wf.call(Ev,t)?!1:HA.test(t)?Tv[t]=!0:(Ev[t]=!0,!1)}function WA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KA(t,e,n,r){if(e===null||typeof e>"u"||WA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function ym(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gm,ym);at[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gm,ym);at[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gm,ym);at[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vm(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KA(e,n,i,r)&&(n=null),r||i===null?qA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cu=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),Ef=Symbol.for("react.profiler"),gE=Symbol.for("react.provider"),yE=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),vE=Symbol.for("react.offscreen"),xv=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=xv&&t[xv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,bd;function Na(t){if(bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bd=e&&e[1]||""}return`
`+bd+t}var kd=!1;function Nd(t,e){if(!t||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function GA(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Nd(t.type,!1),t;case 11:return t=Nd(t.type.render,!1),t;case 1:return t=Nd(t.type,!0),t;default:return""}}function If(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case Ls:return"Portal";case Ef:return"Profiler";case _m:return"StrictMode";case Tf:return"Suspense";case xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yE:return(t.displayName||"Context")+".Consumer";case gE:return(t._context.displayName||"Context")+".Provider";case wm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Em:return e=t.displayName||null,e!==null?e:If(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return If(t(e))}catch{}}return null}function QA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return If(e);case 8:return e===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _E(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XA(t){var e=_E(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=XA(t))}function wE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_E(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EE(t,e){e=e.checked,e!=null&&vm(t,"checked",e,!1)}function Cf(t,e){EE(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oa=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Oa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function TE(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Av(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,IE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YA=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){YA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function SE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function CE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JA=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bf(t,e){if(e){if(JA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function Tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Of=null,Qs=null,Xs=null;function Rv(t){if(t=$l(t)){if(typeof Of!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Th(e),Of(t.stateNode,t.type,e))}}function AE(t){Qs?Xs?Xs.push(t):Xs=[t]:Qs=t}function RE(){if(Qs){var t=Qs,e=Xs;if(Xs=Qs=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function PE(t,e){return t(e)}function bE(){}var Od=!1;function kE(t,e,n){if(Od)return t(e,n);Od=!0;try{return PE(t,e,n)}finally{Od=!1,(Qs!==null||Xs!==null)&&(bE(),RE())}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Df=!1;if(mr)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{Df=!1}function ZA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var $a=!1,Ic=null,Sc=!1,Lf=null,eR={onError:function(t){$a=!0,Ic=t}};function tR(t,e,n,r,i,s,o,a,u){$a=!1,Ic=null,ZA.apply(eR,arguments)}function nR(t,e,n,r,i,s,o,a,u){if(tR.apply(this,arguments),$a){if($a){var c=Ic;$a=!1,Ic=null}else throw Error(z(198));Sc||(Sc=!0,Lf=c)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pv(t){if(vs(t)!==t)throw Error(z(188))}function rR(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pv(i),t;if(s===r)return Pv(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function OE(t){return t=rR(t),t!==null?DE(t):null}function DE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DE(t);if(e!==null)return e;t=t.sibling}return null}var LE=Jt.unstable_scheduleCallback,bv=Jt.unstable_cancelCallback,iR=Jt.unstable_shouldYield,sR=Jt.unstable_requestPaint,je=Jt.unstable_now,oR=Jt.unstable_getCurrentPriorityLevel,xm=Jt.unstable_ImmediatePriority,ME=Jt.unstable_UserBlockingPriority,Cc=Jt.unstable_NormalPriority,aR=Jt.unstable_LowPriority,VE=Jt.unstable_IdlePriority,vh=null,$n=null;function lR(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(vh,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:hR,uR=Math.log,cR=Math.LN2;function hR(t){return t>>>=0,t===0?32:31-(uR(t)/cR|0)|0}var Pu=64,bu=4194304;function Da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Da(a):(s&=o,s!==0&&(r=Da(s)))}else o=n&~i,o!==0?r=Da(o):s!==0&&(r=Da(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function dR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=dR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Mf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FE(){var t=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),t}function Dd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function pR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function jE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UE,Sm,zE,BE,$E,Vf=!1,ku=[],ti=null,ni=null,ri=null,al=new Map,ll=new Map,Fr=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kv(t,e){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$l(e),e!==null&&Sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gR(t,e,n,r,i){switch(e){case"focusin":return ti=xa(ti,t,e,n,r,i),!0;case"dragenter":return ni=xa(ni,t,e,n,r,i),!0;case"mouseover":return ri=xa(ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return al.set(s,xa(al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ll.set(s,xa(ll.get(s)||null,t,e,n,r,i)),!0}return!1}function HE(t){var e=Bi(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=NE(n),e!==null){t.blockedOn=e,$E(t.priority,function(){zE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nf=r,n.target.dispatchEvent(r),Nf=null}else return e=$l(n),e!==null&&Sm(e),t.blockedOn=n,!1;e.shift()}return!0}function Nv(t,e,n){rc(t)&&n.delete(e)}function yR(){Vf=!1,ti!==null&&rc(ti)&&(ti=null),ni!==null&&rc(ni)&&(ni=null),ri!==null&&rc(ri)&&(ri=null),al.forEach(Nv),ll.forEach(Nv)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Vf||(Vf=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,yR)))}function ul(t){function e(i){return Ia(i,t)}if(0<ku.length){Ia(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ti!==null&&Ia(ti,t),ni!==null&&Ia(ni,t),ri!==null&&Ia(ri,t),al.forEach(e),ll.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)HE(n),n.blockedOn===null&&Fr.shift()}var Ys=Ir.ReactCurrentBatchConfig,Rc=!0;function vR(t,e,n,r){var i=_e,s=Ys.transition;Ys.transition=null;try{_e=1,Cm(t,e,n,r)}finally{_e=i,Ys.transition=s}}function _R(t,e,n,r){var i=_e,s=Ys.transition;Ys.transition=null;try{_e=4,Cm(t,e,n,r)}finally{_e=i,Ys.transition=s}}function Cm(t,e,n,r){if(Rc){var i=Ff(t,e,n,r);if(i===null)Hd(t,e,r,Pc,n),kv(t,r);else if(gR(i,t,e,n,r))r.stopPropagation();else if(kv(t,r),e&4&&-1<mR.indexOf(t)){for(;i!==null;){var s=$l(i);if(s!==null&&UE(s),s=Ff(t,e,n,r),s===null&&Hd(t,e,r,Pc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var Pc=null;function Ff(t,e,n,r){if(Pc=null,t=Tm(r),t=Bi(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pc=t,null}function qE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oR()){case xm:return 1;case ME:return 4;case Cc:case aR:return 16;case VE:return 536870912;default:return 16}default:return 16}}var Yr=null,Am=null,ic=null;function WE(){if(ic)return ic;var t,e=Am,n=e.length,r,i="value"in Yr?Yr.value:Yr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ic=i.slice(t,1<r?1-r:void 0)}function sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function Ov(){return!1}function en(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nu:Ov,this.isPropagationStopped=Ov,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=en(Ho),Bl=De({},Ho,{view:0,detail:0}),wR=en(Bl),Ld,Md,Sa,_h=De({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(Ld=t.screenX-Sa.screenX,Md=t.screenY-Sa.screenY):Md=Ld=0,Sa=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:Md}}),Dv=en(_h),ER=De({},_h,{dataTransfer:0}),TR=en(ER),xR=De({},Bl,{relatedTarget:0}),Vd=en(xR),IR=De({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),SR=en(IR),CR=De({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AR=en(CR),RR=De({},Ho,{data:0}),Lv=en(RR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kR[t])?!!e[t]:!1}function Pm(){return NR}var OR=De({},Bl,{key:function(t){if(t.key){var e=PR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(t){return t.type==="keypress"?sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DR=en(OR),LR=De({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mv=en(LR),MR=De({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),VR=en(MR),FR=De({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),jR=en(FR),UR=De({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zR=en(UR),BR=[9,13,27,32],bm=mr&&"CompositionEvent"in window,Ha=null;mr&&"documentMode"in document&&(Ha=document.documentMode);var $R=mr&&"TextEvent"in window&&!Ha,KE=mr&&(!bm||Ha&&8<Ha&&11>=Ha),Vv=" ",Fv=!1;function GE(t,e){switch(t){case"keyup":return BR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function HR(t,e){switch(t){case"compositionend":return QE(e);case"keypress":return e.which!==32?null:(Fv=!0,Vv);case"textInput":return t=e.data,t===Vv&&Fv?null:t;default:return null}}function qR(t,e){if(Vs)return t==="compositionend"||!bm&&GE(t,e)?(t=WE(),ic=Am=Yr=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KE&&e.locale!=="ko"?null:e.data;default:return null}}var WR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WR[t.type]:e==="textarea"}function XE(t,e,n,r){AE(r),e=bc(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,cl=null;function KR(t){a1(t,0)}function wh(t){var e=Us(t);if(wE(e))return t}function GR(t,e){if(t==="change")return e}var YE=!1;if(mr){var Fd;if(mr){var jd="oninput"in document;if(!jd){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),jd=typeof Uv.oninput=="function"}Fd=jd}else Fd=!1;YE=Fd&&(!document.documentMode||9<document.documentMode)}function zv(){qa&&(qa.detachEvent("onpropertychange",JE),cl=qa=null)}function JE(t){if(t.propertyName==="value"&&wh(cl)){var e=[];XE(e,cl,t,Tm(t)),kE(KR,e)}}function QR(t,e,n){t==="focusin"?(zv(),qa=e,cl=n,qa.attachEvent("onpropertychange",JE)):t==="focusout"&&zv()}function XR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh(cl)}function YR(t,e){if(t==="click")return wh(e)}function JR(t,e){if(t==="input"||t==="change")return wh(e)}function ZR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:ZR;function hl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wf.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $v(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function ZE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e1(){for(var t=window,e=xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xc(t.document)}return e}function km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eP(t){var e=e1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZE(n.ownerDocument.documentElement,n)){if(r!==null&&km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$v(n,s);var o=$v(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tP=mr&&"documentMode"in document&&11>=document.documentMode,Fs=null,jf=null,Wa=null,Uf=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||Fs==null||Fs!==xc(r)||(r=Fs,"selectionStart"in r&&km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wa&&hl(Wa,r)||(Wa=r,r=bc(jf,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},Ud={},t1={};mr&&(t1=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Eh(t){if(Ud[t])return Ud[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t1)return Ud[t]=e[n];return t}var n1=Eh("animationend"),r1=Eh("animationiteration"),i1=Eh("animationstart"),s1=Eh("transitionend"),o1=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(t,e){o1.set(t,e),ys(e,[t])}for(var zd=0;zd<qv.length;zd++){var Bd=qv[zd],nP=Bd.toLowerCase(),rP=Bd[0].toUpperCase()+Bd.slice(1);Ai(nP,"on"+rP)}Ai(n1,"onAnimationEnd");Ai(r1,"onAnimationIteration");Ai(i1,"onAnimationStart");Ai("dblclick","onDoubleClick");Ai("focusin","onFocus");Ai("focusout","onBlur");Ai(s1,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iP=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nR(r,e,void 0,t),t.currentTarget=null}function a1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Wv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Wv(i,a,c),s=u}}}if(Sc)throw t=Lf,Sc=!1,Lf=null,t}function Se(t,e){var n=e[qf];n===void 0&&(n=e[qf]=new Set);var r=t+"__bubble";n.has(r)||(l1(e,t,2,!1),n.add(r))}function $d(t,e,n){var r=0;e&&(r|=4),l1(n,t,r,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function dl(t){if(!t[Du]){t[Du]=!0,mE.forEach(function(n){n!=="selectionchange"&&(iP.has(n)||$d(n,!1,t),$d(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Du]||(e[Du]=!0,$d("selectionchange",!1,e))}}function l1(t,e,n,r){switch(qE(e)){case 1:var i=vR;break;case 4:i=_R;break;default:i=Cm}n=i.bind(null,e,n,t),i=void 0,!Df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kE(function(){var c=s,h=Tm(n),f=[];e:{var p=o1.get(t);if(p!==void 0){var y=Rm,x=t;switch(t){case"keypress":if(sc(n)===0)break e;case"keydown":case"keyup":y=DR;break;case"focusin":x="focus",y=Vd;break;case"focusout":x="blur",y=Vd;break;case"beforeblur":case"afterblur":y=Vd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VR;break;case n1:case r1:case i1:y=SR;break;case s1:y=jR;break;case"scroll":y=wR;break;case"wheel":y=zR;break;case"copy":case"cut":case"paste":y=AR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Mv}var T=(e&4)!==0,S=!T&&t==="scroll",v=T?p!==null?p+"Capture":null:p;T=[];for(var w=c,C;w!==null;){C=w;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,v!==null&&(k=ol(w,v),k!=null&&T.push(fl(w,k,C)))),S)break;w=w.return}0<T.length&&(p=new y(p,x,null,n,h),f.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Nf&&(x=n.relatedTarget||n.fromElement)&&(Bi(x)||x[gr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?Bi(x):null,x!==null&&(S=vs(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(T=Dv,k="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=Mv,k="onPointerLeave",v="onPointerEnter",w="pointer"),S=y==null?p:Us(y),C=x==null?p:Us(x),p=new T(k,w+"leave",y,n,h),p.target=S,p.relatedTarget=C,k=null,Bi(h)===c&&(T=new T(v,w+"enter",x,n,h),T.target=C,T.relatedTarget=S,k=T),S=k,y&&x)t:{for(T=y,v=x,w=0,C=T;C;C=Ps(C))w++;for(C=0,k=v;k;k=Ps(k))C++;for(;0<w-C;)T=Ps(T),w--;for(;0<C-w;)v=Ps(v),C--;for(;w--;){if(T===v||v!==null&&T===v.alternate)break t;T=Ps(T),v=Ps(v)}T=null}else T=null;y!==null&&Kv(f,p,y,T,!1),x!==null&&S!==null&&Kv(f,S,x,T,!0)}}e:{if(p=c?Us(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=GR;else if(jv(p))if(YE)M=JR;else{M=XR;var V=QR}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=YR);if(M&&(M=M(t,c))){XE(f,M,n,h);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Af(p,"number",p.value)}switch(V=c?Us(c):window,t){case"focusin":(jv(V)||V.contentEditable==="true")&&(Fs=V,jf=c,Wa=null);break;case"focusout":Wa=jf=Fs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Hv(f,n,h);break;case"selectionchange":if(tP)break;case"keydown":case"keyup":Hv(f,n,h)}var _;if(bm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Vs?GE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(KE&&n.locale!=="ko"&&(Vs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Vs&&(_=WE()):(Yr=h,Am="value"in Yr?Yr.value:Yr.textContent,Vs=!0)),V=bc(c,E),0<V.length&&(E=new Lv(E,t,null,n,h),f.push({event:E,listeners:V}),_?E.data=_:(_=QE(n),_!==null&&(E.data=_)))),(_=$R?HR(t,n):qR(t,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(h=new Lv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=_))}a1(f,e)})}function fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ol(t,n),s!=null&&r.unshift(fl(t,s,i)),s=ol(t,e),s!=null&&r.push(fl(t,s,i))),t=t.return}return r}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ol(n,s),u!=null&&o.unshift(fl(n,u,a))):i||(u=ol(n,s),u!=null&&o.push(fl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function Gv(t){return(typeof t=="string"?t:""+t).replace(sP,`
`).replace(oP,"")}function Lu(t,e,n){if(e=Gv(e),Gv(t)!==e&&n)throw Error(z(425))}function kc(){}var zf=null,Bf=null;function $f(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hf=typeof setTimeout=="function"?setTimeout:void 0,aP=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,lP=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(uP)}:Hf;function uP(t){setTimeout(function(){throw t})}function qd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ul(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ul(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),zn="__reactFiber$"+qo,pl="__reactProps$"+qo,gr="__reactContainer$"+qo,qf="__reactEvents$"+qo,cP="__reactListeners$"+qo,hP="__reactHandles$"+qo;function Bi(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xv(t);t!==null;){if(n=t[zn])return n;t=Xv(t)}return e}t=n,n=t.parentNode}return null}function $l(t){return t=t[zn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Th(t){return t[pl]||null}var Wf=[],zs=-1;function Ri(t){return{current:t}}function Ce(t){0>zs||(t.current=Wf[zs],Wf[zs]=null,zs--)}function Te(t,e){zs++,Wf[zs]=t.current,t.current=e}var mi={},wt=Ri(mi),Ut=Ri(!1),ss=mi;function Ao(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function Nc(){Ce(Ut),Ce(wt)}function Yv(t,e,n){if(wt.current!==mi)throw Error(z(168));Te(wt,e),Te(Ut,n)}function u1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,QA(t)||"Unknown",i));return De({},n,r)}function Oc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,ss=wt.current,Te(wt,t),Te(Ut,Ut.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=u1(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,Ce(Ut),Ce(wt),Te(wt,t)):Ce(Ut),Te(Ut,n)}var lr=null,xh=!1,Wd=!1;function c1(t){lr===null?lr=[t]:lr.push(t)}function dP(t){xh=!0,c1(t)}function Pi(){if(!Wd&&lr!==null){Wd=!0;var t=0,e=_e;try{var n=lr;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}lr=null,xh=!1}catch(i){throw lr!==null&&(lr=lr.slice(t+1)),LE(xm,Pi),i}finally{_e=e,Wd=!1}}return null}var Bs=[],$s=0,Dc=null,Lc=0,sn=[],on=0,os=null,cr=1,hr="";function ji(t,e){Bs[$s++]=Lc,Bs[$s++]=Dc,Dc=t,Lc=e}function h1(t,e,n){sn[on++]=cr,sn[on++]=hr,sn[on++]=os,os=t;var r=cr;t=hr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,cr=1<<32-An(e)+i|n<<i|r,hr=s+t}else cr=1<<s|n<<i|r,hr=t}function Nm(t){t.return!==null&&(ji(t,1),h1(t,1,0))}function Om(t){for(;t===Dc;)Dc=Bs[--$s],Bs[$s]=null,Lc=Bs[--$s],Bs[$s]=null;for(;t===os;)os=sn[--on],sn[on]=null,hr=sn[--on],sn[on]=null,cr=sn[--on],sn[on]=null}var Xt=null,Gt=null,Ae=!1,In=null;function d1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=os!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Gt=null,!0):!1;default:return!1}}function Kf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gf(t){if(Ae){var e=Gt;if(e){var n=e;if(!Zv(t,e)){if(Kf(t))throw Error(z(418));e=ii(n.nextSibling);var r=Xt;e&&Zv(t,e)?d1(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Xt=t)}}else{if(Kf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ae=!1,Xt=t}}}function e0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Mu(t){if(t!==Xt)return!1;if(!Ae)return e0(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$f(t.type,t.memoizedProps)),e&&(e=Gt)){if(Kf(t))throw f1(),Error(z(418));for(;e;)d1(t,e),e=ii(e.nextSibling)}if(e0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Xt?ii(t.stateNode.nextSibling):null;return!0}function f1(){for(var t=Gt;t;)t=ii(t.nextSibling)}function Ro(){Gt=Xt=null,Ae=!1}function Dm(t){In===null?In=[t]:In.push(t)}var fP=Ir.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Vu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t0(t){var e=t._init;return e(t._payload)}function p1(t){function e(v,w){if(t){var C=v.deletions;C===null?(v.deletions=[w],v.flags|=16):C.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=li(v,w),v.index=0,v.sibling=null,v}function s(v,w,C){return v.index=C,t?(C=v.alternate,C!==null?(C=C.index,C<w?(v.flags|=2,w):C):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,C,k){return w===null||w.tag!==6?(w=Zd(C,v.mode,k),w.return=v,w):(w=i(w,C),w.return=v,w)}function u(v,w,C,k){var M=C.type;return M===Ms?h(v,w,C.props.children,k,C.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mr&&t0(M)===w.type)?(k=i(w,C.props),k.ref=Ca(v,w,C),k.return=v,k):(k=dc(C.type,C.key,C.props,null,v.mode,k),k.ref=Ca(v,w,C),k.return=v,k)}function c(v,w,C,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=ef(C,v.mode,k),w.return=v,w):(w=i(w,C.children||[]),w.return=v,w)}function h(v,w,C,k,M){return w===null||w.tag!==7?(w=es(C,v.mode,k,M),w.return=v,w):(w=i(w,C),w.return=v,w)}function f(v,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zd(""+w,v.mode,C),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cu:return C=dc(w.type,w.key,w.props,null,v.mode,C),C.ref=Ca(v,null,w),C.return=v,C;case Ls:return w=ef(w,v.mode,C),w.return=v,w;case Mr:var k=w._init;return f(v,k(w._payload),C)}if(Oa(w)||Ea(w))return w=es(w,v.mode,C,null),w.return=v,w;Vu(v,w)}return null}function p(v,w,C,k){var M=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:a(v,w,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cu:return C.key===M?u(v,w,C,k):null;case Ls:return C.key===M?c(v,w,C,k):null;case Mr:return M=C._init,p(v,w,M(C._payload),k)}if(Oa(C)||Ea(C))return M!==null?null:h(v,w,C,k,null);Vu(v,C)}return null}function y(v,w,C,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(C)||null,a(w,v,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Cu:return v=v.get(k.key===null?C:k.key)||null,u(w,v,k,M);case Ls:return v=v.get(k.key===null?C:k.key)||null,c(w,v,k,M);case Mr:var V=k._init;return y(v,w,C,V(k._payload),M)}if(Oa(k)||Ea(k))return v=v.get(C)||null,h(w,v,k,M,null);Vu(w,k)}return null}function x(v,w,C,k){for(var M=null,V=null,_=w,E=w=0,A=null;_!==null&&E<C.length;E++){_.index>E?(A=_,_=null):A=_.sibling;var R=p(v,_,C[E],k);if(R===null){_===null&&(_=A);break}t&&_&&R.alternate===null&&e(v,_),w=s(R,w,E),V===null?M=R:V.sibling=R,V=R,_=A}if(E===C.length)return n(v,_),Ae&&ji(v,E),M;if(_===null){for(;E<C.length;E++)_=f(v,C[E],k),_!==null&&(w=s(_,w,E),V===null?M=_:V.sibling=_,V=_);return Ae&&ji(v,E),M}for(_=r(v,_);E<C.length;E++)A=y(_,v,E,C[E],k),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?E:A.key),w=s(A,w,E),V===null?M=A:V.sibling=A,V=A);return t&&_.forEach(function(N){return e(v,N)}),Ae&&ji(v,E),M}function T(v,w,C,k){var M=Ea(C);if(typeof M!="function")throw Error(z(150));if(C=M.call(C),C==null)throw Error(z(151));for(var V=M=null,_=w,E=w=0,A=null,R=C.next();_!==null&&!R.done;E++,R=C.next()){_.index>E?(A=_,_=null):A=_.sibling;var N=p(v,_,R.value,k);if(N===null){_===null&&(_=A);break}t&&_&&N.alternate===null&&e(v,_),w=s(N,w,E),V===null?M=N:V.sibling=N,V=N,_=A}if(R.done)return n(v,_),Ae&&ji(v,E),M;if(_===null){for(;!R.done;E++,R=C.next())R=f(v,R.value,k),R!==null&&(w=s(R,w,E),V===null?M=R:V.sibling=R,V=R);return Ae&&ji(v,E),M}for(_=r(v,_);!R.done;E++,R=C.next())R=y(_,v,E,R.value,k),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?E:R.key),w=s(R,w,E),V===null?M=R:V.sibling=R,V=R);return t&&_.forEach(function(O){return e(v,O)}),Ae&&ji(v,E),M}function S(v,w,C,k){if(typeof C=="object"&&C!==null&&C.type===Ms&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Cu:e:{for(var M=C.key,V=w;V!==null;){if(V.key===M){if(M=C.type,M===Ms){if(V.tag===7){n(v,V.sibling),w=i(V,C.props.children),w.return=v,v=w;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mr&&t0(M)===V.type){n(v,V.sibling),w=i(V,C.props),w.ref=Ca(v,V,C),w.return=v,v=w;break e}n(v,V);break}else e(v,V);V=V.sibling}C.type===Ms?(w=es(C.props.children,v.mode,k,C.key),w.return=v,v=w):(k=dc(C.type,C.key,C.props,null,v.mode,k),k.ref=Ca(v,w,C),k.return=v,v=k)}return o(v);case Ls:e:{for(V=C.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(v,w.sibling),w=i(w,C.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=ef(C,v.mode,k),w.return=v,v=w}return o(v);case Mr:return V=C._init,S(v,w,V(C._payload),k)}if(Oa(C))return x(v,w,C,k);if(Ea(C))return T(v,w,C,k);Vu(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,C),w.return=v,v=w):(n(v,w),w=Zd(C,v.mode,k),w.return=v,v=w),o(v)):n(v,w)}return S}var Po=p1(!0),m1=p1(!1),Mc=Ri(null),Vc=null,Hs=null,Lm=null;function Mm(){Lm=Hs=Vc=null}function Vm(t){var e=Mc.current;Ce(Mc),t._currentValue=e}function Qf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Vc=t,Lm=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(Vc===null)throw Error(z(308));Hs=t,Vc.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var $i=null;function Fm(t){$i===null?$i=[t]:$i.push(t)}function g1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fm(e)):(n.next=i.next,i.next=n),e.interleaved=n,yr(t,r)}function yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function jm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yr(t,n)}return i=r.interleaved,i===null?(e.next=e,Fm(r)):(e.next=i.next,i.next=e),r.interleaved=e,yr(t,n)}function oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}function n0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fc(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,T=a;switch(p=e,y=n,T.tag){case 1:if(x=T.payload,typeof x=="function"){f=x.call(y,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=T.payload,p=typeof x=="function"?x.call(y,f,p):x,p==null)break e;f=De({},f,p);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ls|=o,t.lanes=o,t.memoizedState=f}}function r0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Hl={},Hn=Ri(Hl),ml=Ri(Hl),gl=Ri(Hl);function Hi(t){if(t===Hl)throw Error(z(174));return t}function Um(t,e){switch(Te(gl,e),Te(ml,t),Te(Hn,Hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pf(e,t)}Ce(Hn),Te(Hn,e)}function bo(){Ce(Hn),Ce(ml),Ce(gl)}function v1(t){Hi(gl.current);var e=Hi(Hn.current),n=Pf(e,t.type);e!==n&&(Te(ml,t),Te(Hn,n))}function zm(t){ml.current===t&&(Ce(Hn),Ce(ml))}var ke=Ri(0);function jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kd=[];function Bm(){for(var t=0;t<Kd.length;t++)Kd[t]._workInProgressVersionPrimary=null;Kd.length=0}var ac=Ir.ReactCurrentDispatcher,Gd=Ir.ReactCurrentBatchConfig,as=0,Ne=null,We=null,Ye=null,Uc=!1,Ka=!1,yl=0,pP=0;function dt(){throw Error(z(321))}function $m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Hm(t,e,n,r,i,s){if(as=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ac.current=t===null||t.memoizedState===null?vP:_P,t=n(r,i),Ka){s=0;do{if(Ka=!1,yl=0,25<=s)throw Error(z(301));s+=1,Ye=We=null,e.updateQueue=null,ac.current=wP,t=n(r,i)}while(Ka)}if(ac.current=zc,e=We!==null&&We.next!==null,as=0,Ye=We=Ne=null,Uc=!1,e)throw Error(z(300));return t}function qm(){var t=yl!==0;return yl=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ne.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function fn(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Ye===null?Ne.memoizedState:Ye.next;if(e!==null)Ye=e,We=t;else{if(t===null)throw Error(z(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ye===null?Ne.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function vl(t,e){return typeof e=="function"?e(t):e}function Qd(t){var e=fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=We,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((as&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ne.lanes|=h,ls|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Pn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,ls|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xd(t){var e=fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _1(){}function w1(t,e){var n=Ne,r=fn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,Wm(x1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,_l(9,T1.bind(null,n,r,i,e),void 0,null),Je===null)throw Error(z(349));as&30||E1(n,e,i)}return i}function E1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function T1(t,e,n,r){e.value=n,e.getSnapshot=r,I1(e)&&S1(t)}function x1(t,e,n){return n(function(){I1(e)&&S1(t)})}function I1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function S1(t){var e=yr(t,1);e!==null&&Rn(e,t,1,-1)}function i0(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:t},e.queue=t,t=t.dispatch=yP.bind(null,Ne,t),[e.memoizedState,t]}function _l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function C1(){return fn().memoizedState}function lc(t,e,n,r){var i=Ln();Ne.flags|=t,i.memoizedState=_l(1|e,n,void 0,r===void 0?null:r)}function Ih(t,e,n,r){var i=fn();r=r===void 0?null:r;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,r!==null&&$m(r,o.deps)){i.memoizedState=_l(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=_l(1|e,n,s,r)}function s0(t,e){return lc(8390656,8,t,e)}function Wm(t,e){return Ih(2048,8,t,e)}function A1(t,e){return Ih(4,2,t,e)}function R1(t,e){return Ih(4,4,t,e)}function P1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b1(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4,4,P1.bind(null,e,t),n)}function Km(){}function k1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function O1(t,e,n){return as&21?(Pn(n,e)||(n=FE(),Ne.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function mP(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Gd.transition;Gd.transition={};try{t(!1),e()}finally{_e=n,Gd.transition=r}}function D1(){return fn().memoizedState}function gP(t,e,n){var r=ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L1(t))M1(e,n);else if(n=g1(t,e,n,r),n!==null){var i=kt();Rn(n,t,r,i),V1(n,e,r)}}function yP(t,e,n){var r=ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L1(t))M1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var u=e.interleaved;u===null?(i.next=i,Fm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=g1(t,e,i,r),n!==null&&(i=kt(),Rn(n,t,r,i),V1(n,e,r))}}function L1(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function M1(t,e){Ka=Uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}var zc={readContext:dn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},vP={readContext:dn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:s0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lc(4194308,4,P1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return lc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gP.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:i0,useDebugValue:Km,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=i0(!1),e=t[0];return t=mP.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=Ln();if(Ae){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Je===null)throw Error(z(349));as&30||E1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,s0(x1.bind(null,r,s,t),[t]),r.flags|=2048,_l(9,T1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=Je.identifierPrefix;if(Ae){var n=hr,r=cr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_P={readContext:dn,useCallback:k1,useContext:dn,useEffect:Wm,useImperativeHandle:b1,useInsertionEffect:A1,useLayoutEffect:R1,useMemo:N1,useReducer:Qd,useRef:C1,useState:function(){return Qd(vl)},useDebugValue:Km,useDeferredValue:function(t){var e=fn();return O1(e,We.memoizedState,t)},useTransition:function(){var t=Qd(vl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:_1,useSyncExternalStore:w1,useId:D1,unstable_isNewReconciler:!1},wP={readContext:dn,useCallback:k1,useContext:dn,useEffect:Wm,useImperativeHandle:b1,useInsertionEffect:A1,useLayoutEffect:R1,useMemo:N1,useReducer:Xd,useRef:C1,useState:function(){return Xd(vl)},useDebugValue:Km,useDeferredValue:function(t){var e=fn();return We===null?e.memoizedState=t:O1(e,We.memoizedState,t)},useTransition:function(){var t=Xd(vl)[0],e=fn().memoizedState;return[t,e]},useMutableSource:_1,useSyncExternalStore:w1,useId:D1,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sh={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),i=ai(t),s=pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=si(t,s,i),e!==null&&(Rn(e,t,i,r),oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),i=ai(t),s=pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=si(t,s,i),e!==null&&(Rn(e,t,i,r),oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=ai(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,r),e!==null&&(Rn(e,t,r,n),oc(e,t,r))}};function o0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hl(n,r)||!hl(i,s):!0}function F1(t,e,n){var r=!1,i=mi,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=zt(e)?ss:wt.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function a0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sh.enqueueReplaceState(e,e.state,null)}function Yf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=zt(e)?ss:wt.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sh.enqueueReplaceState(i,i.state,null),Fc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",r=e;do n+=GA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EP=typeof WeakMap=="function"?WeakMap:Map;function j1(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$c||($c=!0,lp=r),Jf(t,e)},n}function U1(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jf(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function l0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LP.bind(null,t,e,n),e.then(t,t))}function u0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var TP=Ir.ReactCurrentOwner,jt=!1;function Pt(t,e,n,r){e.child=t===null?m1(e,null,n,r):Po(e,t.child,n,r)}function h0(t,e,n,r,i){n=n.render;var s=e.ref;return Js(e,i),r=Hm(t,e,n,r,s,i),n=qm(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ae&&n&&Nm(e),e.flags|=1,Pt(t,e,r,i),e.child)}function d0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,z1(t,e,s,r,i)):(t=dc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hl,n(o,r)&&t.ref===e.ref)return vr(t,e,i)}return e.flags|=1,t=li(s,r),t.ref=e.ref,t.return=e,e.child=t}function z1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hl(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,vr(t,e,i)}return Zf(t,e,n,r,i)}function B1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ws,qt),qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Te(Ws,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Te(Ws,qt),qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Te(Ws,qt),qt|=r;return Pt(t,e,i,n),e.child}function $1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zf(t,e,n,r,i){var s=zt(n)?ss:wt.current;return s=Ao(e,s),Js(e,i),n=Hm(t,e,n,r,s,i),r=qm(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vr(t,e,i)):(Ae&&r&&Nm(e),e.flags|=1,Pt(t,e,n,i),e.child)}function f0(t,e,n,r,i){if(zt(n)){var s=!0;Oc(e)}else s=!1;if(Js(e,i),e.stateNode===null)uc(t,e),F1(e,n,r),Yf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=zt(n)?ss:wt.current,c=Ao(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&a0(e,o,r,c),Vr=!1;var p=e.memoizedState;o.state=p,Fc(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Ut.current||Vr?(typeof h=="function"&&(Xf(e,n,h,r),u=e.memoizedState),(a=Vr||o0(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,y1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:En(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=dn(u):(u=zt(n)?ss:wt.current,u=Ao(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&a0(e,o,r,u),Vr=!1,p=e.memoizedState,o.state=p,Fc(e,r,o,i);var x=e.memoizedState;a!==f||p!==x||Ut.current||Vr?(typeof y=="function"&&(Xf(e,n,y,r),x=e.memoizedState),(c=Vr||o0(e,n,c,r,p,x,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ep(t,e,n,r,s,i)}function ep(t,e,n,r,i,s){$1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Jv(e,n,!1),vr(t,e,s);r=e.stateNode,TP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Po(e,t.child,null,s),e.child=Po(e,null,a,s)):Pt(t,e,a,s),e.memoizedState=r.state,i&&Jv(e,n,!0),e.child}function H1(t){var e=t.stateNode;e.pendingContext?Yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yv(t,e.context,!1),Um(t,e.containerInfo)}function p0(t,e,n,r,i){return Ro(),Dm(i),e.flags|=256,Pt(t,e,n,r),e.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(t){return{baseLanes:t,cachePool:null,transitions:null}}function q1(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Te(ke,i&1),t===null)return Gf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rh(o,r,0,null),t=es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=np(n),e.memoizedState=tp,t):Gm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=li(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=li(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?np(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=tp,r}return s=t.child,t=s.sibling,r=li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gm(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Dm(r),Po(e,t.child,null,n),t=Gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yd(Error(z(422))),Fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rh({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Po(e,t.child,null,o),e.child.memoizedState=np(o),e.memoizedState=tp,s);if(!(e.mode&1))return Fu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Yd(s,r,void 0),Fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=Je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yr(t,i),Rn(r,t,i,-1))}return eg(),r=Yd(Error(z(421))),Fu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gt=ii(i.nextSibling),Xt=e,Ae=!0,In=null,t!==null&&(sn[on++]=cr,sn[on++]=hr,sn[on++]=os,cr=t.id,hr=t.overflow,os=e),e=Gm(e,r.children),e.flags|=4096,e)}function m0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qf(t.return,e,n)}function Jd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function W1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m0(t,n,e);else if(t.tag===19)m0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Te(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jd(e,!0,n,null,s);break;case"together":Jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IP(t,e,n){switch(e.tag){case 3:H1(e),Ro();break;case 5:v1(e);break;case 1:zt(e.type)&&Oc(e);break;case 4:Um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Te(Mc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Te(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?q1(t,e,n):(Te(ke,ke.current&1),t=vr(t,e,n),t!==null?t.sibling:null);Te(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,B1(t,e,n)}return vr(t,e,n)}var K1,rp,G1,Q1;K1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rp=function(){};G1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Hn.current);var s=null;switch(n){case"input":i=Sf(t,i),r=Sf(t,r),s=[];break;case"select":i=De({},i,{value:void 0}),r=De({},r,{value:void 0}),s=[];break;case"textarea":i=Rf(t,i),r=Rf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kc)}bf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(il.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(il.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Se("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Q1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Aa(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SP(t,e,n){var r=e.pendingProps;switch(Om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return zt(e.type)&&Nc(),ft(e),null;case 3:return r=e.stateNode,bo(),Ce(Ut),Ce(wt),Bm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(hp(In),In=null))),rp(t,e),ft(e),null;case 5:zm(e);var i=Hi(gl.current);if(n=e.type,t!==null&&e.stateNode!=null)G1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ft(e),null}if(t=Hi(Hn.current),Mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zn]=e,r[pl]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<La.length;i++)Se(La[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Iv(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":Cv(r,s),Se("invalid",r)}bf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),i=["children",""+a]):il.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Au(r),Sv(r,s,!0);break;case"textarea":Au(r),Av(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zn]=e,t[pl]=r,K1(t,e,!1,!1),e.stateNode=t;e:{switch(o=kf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<La.length;i++)Se(La[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":Iv(t,r),i=Sf(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=De({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Cv(t,r),i=Rf(t,r),Se("invalid",t);break;default:i=r}bf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?CE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&IE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&sl(t,u):typeof u=="number"&&sl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(il.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Se("scroll",t):u!=null&&vm(t,s,u,o))}switch(n){case"input":Au(t),Sv(t,r,!1);break;case"textarea":Au(t),Av(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)Q1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Hi(gl.current),Hi(Hn.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[zn]=e,(s=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=e,e.stateNode=r}return ft(e),null;case 13:if(Ce(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Gt!==null&&e.mode&1&&!(e.flags&128))f1(),Ro(),e.flags|=98560,s=!1;else if(s=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[zn]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else In!==null&&(hp(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Ke===0&&(Ke=3):eg())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return bo(),rp(t,e),t===null&&dl(e.stateNode.containerInfo),ft(e),null;case 10:return Vm(e.type._context),ft(e),null;case 17:return zt(e.type)&&Nc(),ft(e),null;case 19:if(Ce(ke),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Aa(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jc(t),o!==null){for(e.flags|=128,Aa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Te(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&je()>No&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304)}else{if(!r)if(t=jc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return ft(e),null}else 2*je()-s.renderingStartTime>No&&n!==1073741824&&(e.flags|=128,r=!0,Aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=je(),e.sibling=null,n=ke.current,Te(ke,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function CP(t,e){switch(Om(e),e.tag){case 1:return zt(e.type)&&Nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Ce(Ut),Ce(wt),Bm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zm(e),null;case 13:if(Ce(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(ke),null;case 4:return bo(),null;case 10:return Vm(e.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var ju=!1,yt=!1,AP=typeof WeakSet=="function"?WeakSet:Set,W=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function ip(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var g0=!1;function RP(t,e){if(zf=Rc,t=e1(),km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bf={focusedElem:t,selectionRange:n},Rc=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var T=x.memoizedProps,S=x.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:En(e.type,T),S);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Ve(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return x=g0,g0=!1,x}function Ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ip(e,n,s)}i=i.next}while(i!==r)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function X1(t){var e=t.alternate;e!==null&&(t.alternate=null,X1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[pl],delete e[qf],delete e[cP],delete e[hP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y1(t){return t.tag===5||t.tag===3||t.tag===4}function y0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kc));else if(r!==4&&(t=t.child,t!==null))for(op(t,e,n),t=t.sibling;t!==null;)op(t,e,n),t=t.sibling}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}var nt=null,xn=!1;function Pr(t,e,n){for(n=n.child;n!==null;)J1(t,e,n),n=n.sibling}function J1(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(vh,n)}catch{}switch(n.tag){case 5:yt||qs(n,e);case 6:var r=nt,i=xn;nt=null,Pr(t,e,n),nt=r,xn=i,nt!==null&&(xn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(xn?(t=nt,n=n.stateNode,t.nodeType===8?qd(t.parentNode,n):t.nodeType===1&&qd(t,n),ul(t)):qd(nt,n.stateNode));break;case 4:r=nt,i=xn,nt=n.stateNode.containerInfo,xn=!0,Pr(t,e,n),nt=r,xn=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ip(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!yt&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,Pr(t,e,n),yt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function v0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AP),e.forEach(function(r){var i=VP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,xn=!1;break e;case 3:nt=a.stateNode.containerInfo,xn=!0;break e;case 4:nt=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(nt===null)throw Error(z(160));J1(s,o,i),nt=null,xn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z1(e,t),e=e.sibling}function Z1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Dn(t),r&4){try{Ga(3,t,t.return),Ch(3,t)}catch(T){Ve(t,t.return,T)}try{Ga(5,t,t.return)}catch(T){Ve(t,t.return,T)}}break;case 1:wn(e,t),Dn(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(wn(e,t),Dn(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var i=t.stateNode;try{sl(i,"")}catch(T){Ve(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&EE(i,s),kf(a,o);var c=kf(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?CE(i,f):h==="dangerouslySetInnerHTML"?IE(i,f):h==="children"?sl(i,f):vm(i,h,f,c)}switch(a){case"input":Cf(i,s);break;case"textarea":TE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Gs(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[pl]=s}catch(T){Ve(t,t.return,T)}}break;case 6:if(wn(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Ve(t,t.return,T)}}break;case 3:if(wn(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ul(e.containerInfo)}catch(T){Ve(t,t.return,T)}break;case 4:wn(e,t),Dn(t);break;case 13:wn(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ym=je())),r&4&&v0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||h,wn(e,t),yt=c):wn(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(p=W,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ga(4,p,p.return);break;case 1:qs(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(T){Ve(r,n,T)}}break;case 5:qs(p,p.return);break;case 22:if(p.memoizedState!==null){w0(f);continue}}y!==null?(y.return=p,W=y):w0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=SE("display",o))}catch(T){Ve(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){Ve(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(e,t),Dn(t),r&4&&v0(t);break;case 21:break;default:wn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sl(i,""),r.flags&=-33);var s=y0(t);ap(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y0(t);op(t,a,o);break;default:throw Error(z(161))}}catch(u){Ve(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PP(t,e,n){W=t,eT(t)}function eT(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ju;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||yt;a=ju;var c=yt;if(ju=o,(yt=u)&&!c)for(W=i;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?E0(i):u!==null?(u.return=o,W=u):E0(i);for(;s!==null;)W=s,eT(s),s=s.sibling;W=i,ju=a,yt=c}_0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):_0(t)}}function _0(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&r0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}yt||e.flags&512&&sp(e)}catch(p){Ve(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function w0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function E0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(u){Ve(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ve(e,i,u)}}var s=e.return;try{sp(e)}catch(u){Ve(e,s,u)}break;case 5:var o=e.return;try{sp(e)}catch(u){Ve(e,o,u)}}}catch(u){Ve(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var bP=Math.ceil,Bc=Ir.ReactCurrentDispatcher,Qm=Ir.ReactCurrentOwner,hn=Ir.ReactCurrentBatchConfig,pe=0,Je=null,Be=null,ot=0,qt=0,Ws=Ri(0),Ke=0,wl=null,ls=0,Ah=0,Xm=0,Qa=null,Vt=null,Ym=0,No=1/0,ar=null,$c=!1,lp=null,oi=null,Uu=!1,Jr=null,Hc=0,Xa=0,up=null,cc=-1,hc=0;function kt(){return pe&6?je():cc!==-1?cc:cc=je()}function ai(t){return t.mode&1?pe&2&&ot!==0?ot&-ot:fP.transition!==null?(hc===0&&(hc=FE()),hc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:qE(t.type)),t):1}function Rn(t,e,n,r){if(50<Xa)throw Xa=0,up=null,Error(z(185));zl(t,n,r),(!(pe&2)||t!==Je)&&(t===Je&&(!(pe&2)&&(Ah|=n),Ke===4&&jr(t,ot)),Bt(t,r),n===1&&pe===0&&!(e.mode&1)&&(No=je()+500,xh&&Pi()))}function Bt(t,e){var n=t.callbackNode;fR(t,e);var r=Ac(t,t===Je?ot:0);if(r===0)n!==null&&bv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bv(n),e===1)t.tag===0?dP(T0.bind(null,t)):c1(T0.bind(null,t)),lP(function(){!(pe&6)&&Pi()}),n=null;else{switch(jE(r)){case 1:n=xm;break;case 4:n=ME;break;case 16:n=Cc;break;case 536870912:n=VE;break;default:n=Cc}n=lT(n,tT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tT(t,e){if(cc=-1,hc=0,pe&6)throw Error(z(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=Ac(t,t===Je?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qc(t,r);else{e=r;var i=pe;pe|=2;var s=rT();(Je!==t||ot!==e)&&(ar=null,No=je()+500,Zi(t,e));do try{OP();break}catch(a){nT(t,a)}while(!0);Mm(),Bc.current=s,pe=i,Be!==null?e=0:(Je=null,ot=0,e=Ke)}if(e!==0){if(e===2&&(i=Mf(t),i!==0&&(r=i,e=cp(t,i))),e===1)throw n=wl,Zi(t,0),jr(t,r),Bt(t,je()),n;if(e===6)jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!kP(i)&&(e=qc(t,r),e===2&&(s=Mf(t),s!==0&&(r=s,e=cp(t,s))),e===1))throw n=wl,Zi(t,0),jr(t,r),Bt(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ui(t,Vt,ar);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=Ym+500-je(),10<e)){if(Ac(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hf(Ui.bind(null,t,Vt,ar),e);break}Ui(t,Vt,ar);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bP(r/1960))-r,10<r){t.timeoutHandle=Hf(Ui.bind(null,t,Vt,ar),r);break}Ui(t,Vt,ar);break;case 5:Ui(t,Vt,ar);break;default:throw Error(z(329))}}}return Bt(t,je()),t.callbackNode===n?tT.bind(null,t):null}function cp(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=qc(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&hp(e)),t}function hp(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function kP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Xm,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function T0(t){if(pe&6)throw Error(z(327));Zs();var e=Ac(t,0);if(!(e&1))return Bt(t,je()),null;var n=qc(t,e);if(t.tag!==0&&n===2){var r=Mf(t);r!==0&&(e=r,n=cp(t,r))}if(n===1)throw n=wl,Zi(t,0),jr(t,e),Bt(t,je()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ui(t,Vt,ar),Bt(t,je()),null}function Jm(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(No=je()+500,xh&&Pi())}}function us(t){Jr!==null&&Jr.tag===0&&!(pe&6)&&Zs();var e=pe;pe|=1;var n=hn.transition,r=_e;try{if(hn.transition=null,_e=1,t)return t()}finally{_e=r,hn.transition=n,pe=e,!(pe&6)&&Pi()}}function Zm(){qt=Ws.current,Ce(Ws)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aP(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(Om(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nc();break;case 3:bo(),Ce(Ut),Ce(wt),Bm();break;case 5:zm(r);break;case 4:bo();break;case 13:Ce(ke);break;case 19:Ce(ke);break;case 10:Vm(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(Je=t,Be=t=li(t.current,null),ot=qt=e,Ke=0,wl=null,Xm=Ah=ls=0,Vt=Qa=null,$i!==null){for(e=0;e<$i.length;e++)if(n=$i[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}$i=null}return t}function nT(t,e){do{var n=Be;try{if(Mm(),ac.current=zc,Uc){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uc=!1}if(as=0,Ye=We=Ne=null,Ka=!1,yl=0,Qm.current=null,n===null||n.return===null){Ke=1,wl=e,Be=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=ot,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=u0(o);if(y!==null){y.flags&=-257,c0(y,o,a,s,e),y.mode&1&&l0(s,c,e),e=y,u=c;var x=e.updateQueue;if(x===null){var T=new Set;T.add(u),e.updateQueue=T}else x.add(u);break e}else{if(!(e&1)){l0(s,c,e),eg();break e}u=Error(z(426))}}else if(Ae&&a.mode&1){var S=u0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),c0(S,o,a,s,e),Dm(ko(u,a));break e}}s=u=ko(u,a),Ke!==4&&(Ke=2),Qa===null?Qa=[s]:Qa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=j1(s,u,e);n0(s,v);break e;case 1:a=u;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(oi===null||!oi.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=U1(s,a,e);n0(s,k);break e}}s=s.return}while(s!==null)}sT(n)}catch(M){e=M,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function rT(){var t=Bc.current;return Bc.current=zc,t===null?zc:t}function eg(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(ls&268435455)&&!(Ah&268435455)||jr(Je,ot)}function qc(t,e){var n=pe;pe|=2;var r=rT();(Je!==t||ot!==e)&&(ar=null,Zi(t,e));do try{NP();break}catch(i){nT(t,i)}while(!0);if(Mm(),pe=n,Bc.current=r,Be!==null)throw Error(z(261));return Je=null,ot=0,Ke}function NP(){for(;Be!==null;)iT(Be)}function OP(){for(;Be!==null&&!iR();)iT(Be)}function iT(t){var e=aT(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?sT(t):Be=e,Qm.current=null}function sT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CP(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Be=null;return}}else if(n=SP(n,e,qt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ke===0&&(Ke=5)}function Ui(t,e,n){var r=_e,i=hn.transition;try{hn.transition=null,_e=1,DP(t,e,n,r)}finally{hn.transition=i,_e=r}return null}function DP(t,e,n,r){do Zs();while(Jr!==null);if(pe&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pR(t,s),t===Je&&(Be=Je=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,lT(Cc,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var o=_e;_e=1;var a=pe;pe|=4,Qm.current=null,RP(t,n),Z1(n,t),eP(Bf),Rc=!!zf,Bf=zf=null,t.current=n,PP(n),sR(),pe=a,_e=o,hn.transition=s}else t.current=n;if(Uu&&(Uu=!1,Jr=t,Hc=i),s=t.pendingLanes,s===0&&(oi=null),lR(n.stateNode),Bt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($c)throw $c=!1,t=lp,lp=null,t;return Hc&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===up?Xa++:(Xa=0,up=t):Xa=0,Pi(),null}function Zs(){if(Jr!==null){var t=jE(Hc),e=hn.transition,n=_e;try{if(hn.transition=null,_e=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,Hc=0,pe&6)throw Error(z(331));var i=pe;for(pe|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Ga(8,h,s)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var p=h.sibling,y=h.return;if(X1(h),h===c){W=null;break}if(p!==null){p.return=y,W=p;break}W=y}}}var x=s.alternate;if(x!==null){var T=x.child;if(T!==null){x.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ga(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,W=v;break e}W=s.return}}var w=t.current;for(W=w;W!==null;){o=W;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,W=C;else e:for(o=w;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ch(9,a)}}catch(M){Ve(a,a.return,M)}if(a===o){W=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,W=k;break e}W=a.return}}if(pe=i,Pi(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(vh,t)}catch{}r=!0}return r}finally{_e=n,hn.transition=e}}return!1}function x0(t,e,n){e=ko(n,e),e=j1(t,e,1),t=si(t,e,1),e=kt(),t!==null&&(zl(t,1,e),Bt(t,e))}function Ve(t,e,n){if(t.tag===3)x0(t,t,n);else for(;e!==null;){if(e.tag===3){x0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=ko(n,t),t=U1(e,t,1),e=si(e,t,1),t=kt(),e!==null&&(zl(e,1,t),Bt(e,t));break}}e=e.return}}function LP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(ot&n)===n&&(Ke===4||Ke===3&&(ot&130023424)===ot&&500>je()-Ym?Zi(t,0):Xm|=n),Bt(t,e)}function oT(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=kt();t=yr(t,e),t!==null&&(zl(t,e,n),Bt(t,n))}function MP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oT(t,n)}function VP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),oT(t,n)}var aT;aT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,IP(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ae&&e.flags&1048576&&h1(e,Lc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var i=Ao(e,wt.current);Js(e,n),i=Hm(null,e,r,t,i,n);var s=qm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,Oc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jm(e),i.updater=Sh,e.stateNode=i,i._reactInternals=e,Yf(e,r,t,n),e=ep(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&Nm(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jP(r),t=En(r,t),i){case 0:e=Zf(null,e,r,t,n);break e;case 1:e=f0(null,e,r,t,n);break e;case 11:e=h0(null,e,r,t,n);break e;case 14:e=d0(null,e,r,En(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),Zf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),f0(t,e,r,i,n);case 3:e:{if(H1(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,y1(t,e),Fc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ko(Error(z(423)),e),e=p0(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(z(424)),e),e=p0(t,e,r,n,i);break e}else for(Gt=ii(e.stateNode.containerInfo.firstChild),Xt=e,Ae=!0,In=null,n=m1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===i){e=vr(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return v1(e),t===null&&Gf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$f(r,i)?o=null:s!==null&&$f(r,s)&&(e.flags|=32),$1(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&Gf(e),null;case 13:return q1(t,e,n);case 4:return Um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Po(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),h0(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Te(Mc,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!Ut.current){e=vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Qf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Js(e,n),i=dn(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=En(r,e.pendingProps),i=En(r.type,i),d0(t,e,r,i,n);case 15:return z1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),uc(t,e),e.tag=1,zt(r)?(t=!0,Oc(e)):t=!1,Js(e,n),F1(e,r,i),Yf(e,r,i,n),ep(null,e,r,!0,t,n);case 19:return W1(t,e,n);case 22:return B1(t,e,n)}throw Error(z(156,e.tag))};function lT(t,e){return LE(t,e)}function FP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new FP(t,e,n,r)}function tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jP(t){if(typeof t=="function")return tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wm)return 11;if(t===Em)return 14}return 2}function li(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ms:return es(n.children,i,s,e);case _m:o=8,i|=8;break;case Ef:return t=cn(12,n,e,i|2),t.elementType=Ef,t.lanes=s,t;case Tf:return t=cn(13,n,e,i),t.elementType=Tf,t.lanes=s,t;case xf:return t=cn(19,n,e,i),t.elementType=xf,t.lanes=s,t;case vE:return Rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gE:o=10;break e;case yE:o=9;break e;case wm:o=11;break e;case Em:o=14;break e;case Mr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function es(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=cn(22,t,r,e),t.elementType=vE,t.lanes=n,t.stateNode={isHidden:!1},t}function Zd(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function ef(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dd(0),this.expirationTimes=Dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ng(t,e,n,r,i,s,o,a,u){return t=new UP(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jm(s),t}function zP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uT(t){if(!t)return mi;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(zt(n))return u1(t,n,e)}return e}function cT(t,e,n,r,i,s,o,a,u){return t=ng(n,r,!0,t,i,s,o,a,u),t.context=uT(null),n=t.current,r=kt(),i=ai(n),s=pr(r,i),s.callback=e??null,si(n,s,i),t.current.lanes=i,zl(t,i,r),Bt(t,r),t}function Ph(t,e,n,r){var i=e.current,s=kt(),o=ai(i);return n=uT(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(i,e,o),t!==null&&(Rn(t,i,o,s),oc(t,i,o)),o}function Wc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rg(t,e){I0(t,e),(t=t.alternate)&&I0(t,e)}function BP(){return null}var hT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ig(t){this._internalRoot=t}bh.prototype.render=ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Ph(t,e,null,null)};bh.prototype.unmount=ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){Ph(null,t,null,null)}),e[gr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=BE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&HE(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S0(){}function $P(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Wc(o);s.call(c)}}var o=cT(e,r,t,0,null,!1,!1,"",S0);return t._reactRootContainer=o,t[gr]=o.current,dl(t.nodeType===8?t.parentNode:t),us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Wc(u);a.call(c)}}var u=ng(t,0,!1,null,null,!1,!1,"",S0);return t._reactRootContainer=u,t[gr]=u.current,dl(t.nodeType===8?t.parentNode:t),us(function(){Ph(e,u,n,r)}),u}function Nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Wc(o);a.call(u)}}Ph(e,o,t,i)}else o=$P(n,e,t,i,r);return Wc(o)}UE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Da(e.pendingLanes);n!==0&&(Im(e,n|1),Bt(e,je()),!(pe&6)&&(No=je()+500,Pi()))}break;case 13:us(function(){var r=yr(t,1);if(r!==null){var i=kt();Rn(r,t,1,i)}}),rg(t,1)}};Sm=function(t){if(t.tag===13){var e=yr(t,134217728);if(e!==null){var n=kt();Rn(e,t,134217728,n)}rg(t,134217728)}};zE=function(t){if(t.tag===13){var e=ai(t),n=yr(t,e);if(n!==null){var r=kt();Rn(n,t,e,r)}rg(t,e)}};BE=function(){return _e};$E=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Of=function(t,e,n){switch(e){case"input":if(Cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Th(r);if(!i)throw Error(z(90));wE(r),Cf(r,i)}}}break;case"textarea":TE(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};PE=Jm;bE=us;var HP={usingClientEntryPoint:!1,Events:[$l,Us,Th,AE,RE,Jm]},Ra={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||BP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{vh=zu.inject(qP),$n=zu}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error(z(200));return zP(t,e,null,n)};Zt.createRoot=function(t,e){if(!sg(t))throw Error(z(299));var n=!1,r="",i=hT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ng(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,dl(t.nodeType===8?t.parentNode:t),new ig(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=OE(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return us(t)};Zt.hydrate=function(t,e,n){if(!kh(e))throw Error(z(200));return Nh(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!sg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=hT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cT(e,null,t,1,n??null,i,!1,s,o),t[gr]=e.current,dl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bh(e)};Zt.render=function(t,e,n){if(!kh(e))throw Error(z(200));return Nh(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!kh(t))throw Error(z(40));return t._reactRootContainer?(us(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};Zt.unstable_batchedUpdates=Jm;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Nh(t,e,n,!1,r)};Zt.version="18.3.1-next-f1338f8080-20240426";function dT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dT)}catch(t){console.error(t)}}dT(),dE.exports=Zt;var og=dE.exports,fT,C0=og;fT=C0.createRoot,C0.hydrateRoot;function WP(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var pT={exports:{}},mT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=P;function KP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var GP=typeof Object.is=="function"?Object.is:KP,QP=Oo.useState,XP=Oo.useEffect,YP=Oo.useLayoutEffect,JP=Oo.useDebugValue;function ZP(t,e){var n=e(),r=QP({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return YP(function(){i.value=n,i.getSnapshot=e,tf(i)&&s({inst:i})},[t,n,e]),XP(function(){return tf(i)&&s({inst:i}),t(function(){tf(i)&&s({inst:i})})},[t]),JP(n),n}function tf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!GP(t,n)}catch{return!0}}function eb(t,e){return e()}var tb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eb:ZP;mT.useSyncExternalStore=Oo.useSyncExternalStore!==void 0?Oo.useSyncExternalStore:tb;pT.exports=mT;var nb=pT.exports;const rb=LA.useInsertionEffect,ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sb=ib?P.useLayoutEffect:P.useEffect,ob=rb||sb,gT=t=>{const e=P.useRef([t,(...n)=>e[0](...n)]).current;return ob(()=>{e[0]=t}),e[1]},ab="popstate",ag="pushState",lg="replaceState",lb="hashchange",A0=[ab,ag,lg,lb],ub=t=>{for(const e of A0)addEventListener(e,t);return()=>{for(const e of A0)removeEventListener(e,t)}},yT=(t,e)=>nb.useSyncExternalStore(ub,t,e),cb=()=>location.search,hb=({ssrSearch:t=""}={})=>yT(cb,()=>t),R0=()=>location.pathname,db=({ssrPath:t}={})=>yT(R0,t?()=>t:R0),fb=(t,{replace:e=!1,state:n=null}={})=>history[e?lg:ag](n,"",t),pb=(t={})=>[db(t),fb],P0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[P0]>"u"){for(const t of[ag,lg]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,P0,{value:!0})}const mb=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",vT=(t="")=>t==="/"?"":t,gb=(t,e)=>t[0]==="~"?t.slice(1):vT(e)+t,yb=(t="",e)=>mb(b0(vT(t)),b0(e)),b0=t=>{try{return decodeURI(t)}catch{return t}},_T={hook:pb,searchHook:hb,parser:WP,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},wT=P.createContext(_T),ql=()=>P.useContext(wT),ET={},TT=P.createContext(ET),vb=()=>P.useContext(TT),Oh=t=>{const[e,n]=t.hook(t);return[yb(t.base,e),gT((r,i)=>n(gb(r,t.base),i))]},Sr=()=>Oh(ql()),xT=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((f,p)=>[f,u[p]])):o.groups;let h={...u};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},_b=({children:t,...e})=>{var h,f;const n=ql(),r=e.hook?_T:n;let i=r;const[s,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=P.useRef({}),u=a.current,c=u;for(let p in r){const y=p==="base"?r[p]+(e[p]||""):e[p]||r[p];u===c&&y!==c[p]&&(a.current=c={...c}),c[p]=y,y!==r[p]&&(i=c)}return P.createElement(wT.Provider,{value:i,children:t})},k0=({children:t,component:e},n)=>e?P.createElement(e,{params:n}):typeof t=="function"?t(n):t,wb=t=>{let e=P.useRef(ET),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},br=({path:t,nest:e,match:n,...r})=>{const i=ql(),[s]=Oh(i),[o,a,u]=n??xT(i.parser,t,s,e),c=wb({...vb(),...a});if(!o)return null;const h=u?P.createElement(_b,{base:u},k0(r,c)):k0(r,c);return P.createElement(TT.Provider,{value:c,children:h})};P.forwardRef((t,e)=>{const n=ql(),[r,i]=Oh(n),{to:s="",href:o=s,onClick:a,asChild:u,children:c,className:h,replace:f,state:p,...y}=t,x=gT(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),i(o,t)))}),T=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&P.isValidElement(c)?P.cloneElement(c,{onClick:x,href:T}):P.createElement("a",{...y,onClick:x,href:T,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})});const IT=t=>Array.isArray(t)?t.flatMap(e=>IT(e&&e.type===P.Fragment?e.props.children:e)):[t],Eb=({children:t,location:e})=>{const n=ql(),[r]=Oh(n);for(const i of IT(t)){let s=0;if(P.isValidElement(i)&&(s=xT(n.parser,i.props.path,e||r,i.props.nest))[0])return P.cloneElement(i,{match:s})}return null};var Wl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cs=typeof window>"u"||"Deno"in globalThis;function rn(){}function Tb(t,e){return typeof t=="function"?t(e):t}function dp(t){return typeof t=="number"&&t>=0&&t!==1/0}function ST(t,e){return Math.max(t+(e||0)-Date.now(),0)}function eo(t,e){return typeof t=="function"?t(e):t}function Sn(t,e){return typeof t=="function"?t(e):t}function N0(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ug(o,e.options))return!1}else if(!Tl(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function O0(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(El(e.options.mutationKey)!==El(s))return!1}else if(!Tl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ug(t,e){return((e==null?void 0:e.queryKeyHashFn)||El)(t)}function El(t){return JSON.stringify(t,(e,n)=>pp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Tl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Tl(t[n],e[n])):!1}function CT(t,e){if(t===e)return t;const n=D0(t)&&D0(e);if(n||pp(t)&&pp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const h=n?c:s[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=CT(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function fp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function D0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pp(t){if(!L0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!L0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function L0(t){return Object.prototype.toString.call(t)==="[object Object]"}function xb(t){return new Promise(e=>{setTimeout(e,t)})}function mp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?CT(t,e):e}function Ib(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Sb(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cg=Symbol();function AT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wi,Hr,fo,Ww,Cb=(Ww=class extends Wl{constructor(){super();J(this,Wi);J(this,Hr);J(this,fo);G(this,fo,e=>{if(!cs&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,Hr)||this.setEventListener(D(this,fo))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,Hr))==null||e.call(this),G(this,Hr,void 0))}setEventListener(e){var n;G(this,fo,e),(n=D(this,Hr))==null||n.call(this),G(this,Hr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){D(this,Wi)!==e&&(G(this,Wi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof D(this,Wi)=="boolean"?D(this,Wi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wi=new WeakMap,Hr=new WeakMap,fo=new WeakMap,Ww),hg=new Cb,po,qr,mo,Kw,Ab=(Kw=class extends Wl{constructor(){super();J(this,po,!0);J(this,qr);J(this,mo);G(this,mo,e=>{if(!cs&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){D(this,qr)||this.setEventListener(D(this,mo))}onUnsubscribe(){var e;this.hasListeners()||((e=D(this,qr))==null||e.call(this),G(this,qr,void 0))}setEventListener(e){var n;G(this,mo,e),(n=D(this,qr))==null||n.call(this),G(this,qr,e(this.setOnline.bind(this)))}setOnline(e){D(this,po)!==e&&(G(this,po,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return D(this,po)}},po=new WeakMap,qr=new WeakMap,mo=new WeakMap,Kw),Kc=new Ab;function gp(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Rb(t){return Math.min(1e3*2**t,3e4)}function RT(t){return(t??"online")==="online"?Kc.isOnline():!0}var PT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nf(t){return t instanceof PT}function bT(t){let e=!1,n=0,r=!1,i;const s=gp(),o=T=>{var S;r||(p(new PT(T)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>hg.isFocused()&&(t.networkMode==="always"||Kc.isOnline())&&t.canRun(),h=()=>RT(t.networkMode)&&t.canRun(),f=T=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,T),i==null||i(),s.resolve(T))},p=T=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,T),i==null||i(),s.reject(T))},y=()=>new Promise(T=>{var S;i=v=>{(r||c())&&T(v)},(S=t.onPause)==null||S.call(t)}).then(()=>{var T;i=void 0,r||(T=t.onContinue)==null||T.call(t)}),x=()=>{if(r)return;let T;const S=n===0?t.initialPromise:void 0;try{T=S??t.fn()}catch(v){T=Promise.reject(v)}Promise.resolve(T).then(f).catch(v=>{var V;if(r)return;const w=t.retry??(cs?0:3),C=t.retryDelay??Rb,k=typeof C=="function"?C(n,v):C,M=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!M){p(v);return}n++,(V=t.onFail)==null||V.call(t,n,v),xb(k).then(()=>c()?void 0:y()).then(()=>{e?p(v):x()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?x():y().then(x),s)}}function Pb(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var it=Pb(),Ki,Gw,kT=(Gw=class{constructor(){J(this,Ki)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dp(this.gcTime)&&G(this,Ki,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cs?1/0:5*60*1e3))}clearGcTimeout(){D(this,Ki)&&(clearTimeout(D(this,Ki)),G(this,Ki,void 0))}},Ki=new WeakMap,Gw),go,yo,nn,mt,Ml,Gi,Tn,or,Qw,bb=(Qw=class extends kT{constructor(n){super();J(this,Tn);J(this,go);J(this,yo);J(this,nn);J(this,mt);J(this,Ml);J(this,Gi);G(this,Gi,!1),G(this,Ml,n.defaultOptions),this.setOptions(n.options),this.observers=[],G(this,nn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,G(this,go,kb(this.options)),this.state=n.state??D(this,go),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=D(this,mt))==null?void 0:n.promise}setOptions(n){this.options={...D(this,Ml),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,nn).remove(this)}setData(n,r){const i=mp(this.state.data,n,this.options);return ue(this,Tn,or).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){ue(this,Tn,or).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=D(this,mt))==null?void 0:i.promise;return(s=D(this,mt))==null||s.cancel(n),r?r.then(rn).catch(rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,go))}isActive(){return this.observers.some(n=>Sn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!ST(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=D(this,mt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=D(this,mt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),D(this,nn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(D(this,mt)&&(D(this,Gi)?D(this,mt).cancel({revert:!0}):D(this,mt).cancelRetry()),this.scheduleGc()),D(this,nn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,Tn,or).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,mt))return D(this,mt).continueRetry(),D(this,mt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(G(this,Gi,!0),i.signal)})},o=()=>{const p=AT(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return s(y),G(this,Gi,!1),this.options.persister?this.options.persister(p,y,this):p(y)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),G(this,yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&ue(this,Tn,or).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const u=p=>{var y,x,T,S;nf(p)&&p.silent||ue(this,Tn,or).call(this,{type:"error",error:p}),nf(p)||((x=(y=D(this,nn).config).onError)==null||x.call(y,p,this),(S=(T=D(this,nn).config).onSettled)==null||S.call(T,this.state.data,p,this)),this.scheduleGc()};return G(this,mt,bT({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var y,x,T,S;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){u(v);return}(x=(y=D(this,nn).config).onSuccess)==null||x.call(y,p,this),(S=(T=D(this,nn).config).onSettled)==null||S.call(T,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,y)=>{ue(this,Tn,or).call(this,{type:"failed",failureCount:p,error:y})},onPause:()=>{ue(this,Tn,or).call(this,{type:"pause"})},onContinue:()=>{ue(this,Tn,or).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),D(this,mt).start()}},go=new WeakMap,yo=new WeakMap,nn=new WeakMap,mt=new WeakMap,Ml=new WeakMap,Gi=new WeakMap,Tn=new WeakSet,or=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...NT(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return nf(s)&&s.revert&&D(this,yo)?{...D(this,yo),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),it.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),D(this,nn).notify({query:this,type:"updated",action:n})})},Qw);function NT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vn,Xw,Nb=(Xw=class extends Wl{constructor(e={}){super();J(this,Vn);this.config=e,G(this,Vn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??ug(i,n);let o=this.get(s);return o||(o=new bb({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){D(this,Vn).has(e.queryHash)||(D(this,Vn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=D(this,Vn).get(e.queryHash);n&&(e.destroy(),n===e&&D(this,Vn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){it.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return D(this,Vn).get(e)}getAll(){return[...D(this,Vn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>N0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>N0(e,r)):n}notify(e){it.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){it.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vn=new WeakMap,Xw),Fn,At,Qi,jn,Lr,Yw,Ob=(Yw=class extends kT{constructor(n){super();J(this,jn);J(this,Fn);J(this,At);J(this,Qi);this.mutationId=n.mutationId,G(this,At,n.mutationCache),G(this,Fn,[]),this.state=n.state||Db(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){D(this,Fn).includes(n)||(D(this,Fn).push(n),this.clearGcTimeout(),D(this,At).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){G(this,Fn,D(this,Fn).filter(r=>r!==n)),this.scheduleGc(),D(this,At).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){D(this,Fn).length||(this.state.status==="pending"?this.scheduleGc():D(this,At).remove(this))}continue(){var n;return((n=D(this,Qi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,u,c,h,f,p,y,x,T,S,v,w,C,k,M,V,_,E;G(this,Qi,bT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{ue(this,jn,Lr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{ue(this,jn,Lr).call(this,{type:"pause"})},onContinue:()=>{ue(this,jn,Lr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,At).canRun(this)}));const r=this.state.status==="pending",i=!D(this,Qi).canStart();try{if(!r){ue(this,jn,Lr).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=D(this,At).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));R!==this.state.context&&ue(this,jn,Lr).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await D(this,Qi).start();return await((h=(c=D(this,At).config).onSuccess)==null?void 0:h.call(c,A,n,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,A,n,this.state.context)),await((x=(y=D(this,At).config).onSettled)==null?void 0:x.call(y,A,null,this.state.variables,this.state.context,this)),await((S=(T=this.options).onSettled)==null?void 0:S.call(T,A,null,n,this.state.context)),ue(this,jn,Lr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(v=D(this,At).config).onError)==null?void 0:w.call(v,A,n,this.state.context,this)),await((k=(C=this.options).onError)==null?void 0:k.call(C,A,n,this.state.context)),await((V=(M=D(this,At).config).onSettled)==null?void 0:V.call(M,void 0,A,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,A,n,this.state.context)),A}finally{ue(this,jn,Lr).call(this,{type:"error",error:A})}}finally{D(this,At).runNext(this)}}},Fn=new WeakMap,At=new WeakMap,Qi=new WeakMap,jn=new WeakSet,Lr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),it.batch(()=>{D(this,Fn).forEach(i=>{i.onMutationUpdate(n)}),D(this,At).notify({mutation:this,type:"updated",action:n})})},Yw);function Db(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ht,Vl,Jw,Lb=(Jw=class extends Wl{constructor(e={}){super();J(this,Ht);J(this,Vl);this.config=e,G(this,Ht,new Map),G(this,Vl,Date.now())}build(e,n,r){const i=new Ob({mutationCache:this,mutationId:++Iu(this,Vl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Bu(e),r=D(this,Ht).get(n)??[];r.push(e),D(this,Ht).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Bu(e);if(D(this,Ht).has(n)){const i=(r=D(this,Ht).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?D(this,Ht).delete(n):D(this,Ht).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=D(this,Ht).get(Bu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=D(this,Ht).get(Bu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){it.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...D(this,Ht).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>O0(n,r))}findAll(e={}){return this.getAll().filter(n=>O0(e,n))}notify(e){it.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return it.batch(()=>Promise.all(e.map(n=>n.continue().catch(rn))))}},Ht=new WeakMap,Vl=new WeakMap,Jw);function Bu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function M0(t){return{onFetch:(e,n)=>{var h,f,p,y,x;const r=e.options,i=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let T=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},v=AT(e.options,e.fetchOptions),w=async(C,k,M)=>{if(T)return Promise.reject();if(k==null&&C.pages.length)return Promise.resolve(C);const V={queryKey:e.queryKey,pageParam:k,direction:M?"backward":"forward",meta:e.options.meta};S(V);const _=await v(V),{maxPages:E}=e.options,A=M?Sb:Ib;return{pages:A(C.pages,_,E),pageParams:A(C.pageParams,k,E)}};if(i&&s.length){const C=i==="backward",k=C?Mb:V0,M={pages:s,pageParams:o},V=k(r,M);a=await w(M,V,C)}else{const C=t??s.length;do{const k=u===0?o[0]??r.initialPageParam:V0(r,a);if(u>0&&k==null)break;a=await w(a,k),u++}while(u<C)}return a};e.options.persister?e.fetchFn=()=>{var T,S;return(S=(T=e.options).persister)==null?void 0:S.call(T,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function V0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Mb(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Me,Wr,Kr,vo,_o,Gr,wo,Eo,Zw,Vb=(Zw=class{constructor(t={}){J(this,Me);J(this,Wr);J(this,Kr);J(this,vo);J(this,_o);J(this,Gr);J(this,wo);J(this,Eo);G(this,Me,t.queryCache||new Nb),G(this,Wr,t.mutationCache||new Lb),G(this,Kr,t.defaultOptions||{}),G(this,vo,new Map),G(this,_o,new Map),G(this,Gr,0)}mount(){Iu(this,Gr)._++,D(this,Gr)===1&&(G(this,wo,hg.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Me).onFocus())})),G(this,Eo,Kc.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,Me).onOnline())})))}unmount(){var t,e;Iu(this,Gr)._--,D(this,Gr)===0&&((t=D(this,wo))==null||t.call(this),G(this,wo,void 0),(e=D(this,Eo))==null||e.call(this),G(this,Eo,void 0))}isFetching(t){return D(this,Me).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,Wr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,Me).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=D(this,Me).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(eo(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return D(this,Me).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=D(this,Me).get(r.queryHash),s=i==null?void 0:i.state.data,o=Tb(e,s);if(o!==void 0)return D(this,Me).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return it.batch(()=>D(this,Me).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=D(this,Me).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=D(this,Me);it.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=D(this,Me),r={type:"active",...t};return it.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=it.batch(()=>D(this,Me).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(rn).catch(rn)}invalidateQueries(t={},e={}){return it.batch(()=>{if(D(this,Me).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=it.batch(()=>D(this,Me).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(rn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=D(this,Me).build(this,e);return n.isStaleByTime(eo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rn).catch(rn)}fetchInfiniteQuery(t){return t.behavior=M0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rn).catch(rn)}ensureInfiniteQueryData(t){return t.behavior=M0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kc.isOnline()?D(this,Wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Me)}getMutationCache(){return D(this,Wr)}getDefaultOptions(){return D(this,Kr)}setDefaultOptions(t){G(this,Kr,t)}setQueryDefaults(t,e){D(this,vo).set(El(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...D(this,vo).values()];let n={};return e.forEach(r=>{Tl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){D(this,_o).set(El(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...D(this,_o).values()];let n={};return e.forEach(r=>{Tl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...D(this,Kr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ug(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,Kr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,Me).clear(),D(this,Wr).clear()}},Me=new WeakMap,Wr=new WeakMap,Kr=new WeakMap,vo=new WeakMap,_o=new WeakMap,Gr=new WeakMap,wo=new WeakMap,Eo=new WeakMap,Zw),Lt,ce,Fl,Rt,Xi,To,Qr,Un,jl,xo,Io,Yi,Ji,Xr,So,ye,Ma,yp,vp,_p,wp,Ep,Tp,xp,OT,eE,Fb=(eE=class extends Wl{constructor(e,n){super();J(this,ye);J(this,Lt);J(this,ce);J(this,Fl);J(this,Rt);J(this,Xi);J(this,To);J(this,Qr);J(this,Un);J(this,jl);J(this,xo);J(this,Io);J(this,Yi);J(this,Ji);J(this,Xr);J(this,So,new Set);this.options=n,G(this,Lt,e),G(this,Un,null),G(this,Qr,gp()),this.options.experimental_prefetchInRender||D(this,Qr).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,ce).addObserver(this),F0(D(this,ce),this.options)?ue(this,ye,Ma).call(this):this.updateResult(),ue(this,ye,wp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ip(D(this,ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ip(D(this,ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,ye,Ep).call(this),ue(this,ye,Tp).call(this),D(this,ce).removeObserver(this)}setOptions(e,n){const r=this.options,i=D(this,ce);if(this.options=D(this,Lt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sn(this.options.enabled,D(this,ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,ye,xp).call(this),D(this,ce).setOptions(this.options),r._defaulted&&!fp(this.options,r)&&D(this,Lt).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,ce),observer:this});const s=this.hasListeners();s&&j0(D(this,ce),i,this.options,r)&&ue(this,ye,Ma).call(this),this.updateResult(n),s&&(D(this,ce)!==i||Sn(this.options.enabled,D(this,ce))!==Sn(r.enabled,D(this,ce))||eo(this.options.staleTime,D(this,ce))!==eo(r.staleTime,D(this,ce)))&&ue(this,ye,yp).call(this);const o=ue(this,ye,vp).call(this);s&&(D(this,ce)!==i||Sn(this.options.enabled,D(this,ce))!==Sn(r.enabled,D(this,ce))||o!==D(this,Xr))&&ue(this,ye,_p).call(this,o)}getOptimisticResult(e){const n=D(this,Lt).getQueryCache().build(D(this,Lt),e),r=this.createResult(n,e);return Ub(this,r)&&(G(this,Rt,r),G(this,To,this.options),G(this,Xi,D(this,ce).state)),r}getCurrentResult(){return D(this,Rt)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){D(this,So).add(e)}getCurrentQuery(){return D(this,ce)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=D(this,Lt).defaultQueryOptions(e),r=D(this,Lt).getQueryCache().build(D(this,Lt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ue(this,ye,Ma).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,Rt)))}createResult(e,n){var E;const r=D(this,ce),i=this.options,s=D(this,Rt),o=D(this,Xi),a=D(this,To),c=e!==r?e.state:D(this,Fl),{state:h}=e;let f={...h},p=!1,y;if(n._optimisticResults){const A=this.hasListeners(),R=!A&&F0(e,n),N=A&&j0(e,r,n,i);(R||N)&&(f={...f,...NT(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:T,status:S}=f;if(n.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&n.select===D(this,jl))y=D(this,xo);else try{G(this,jl,n.select),y=n.select(f.data),y=mp(s==null?void 0:s.data,y,n),G(this,xo,y),G(this,Un,null)}catch(A){G(this,Un,A)}else y=f.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let A;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))A=s.data;else if(A=typeof n.placeholderData=="function"?n.placeholderData((E=D(this,Io))==null?void 0:E.state.data,D(this,Io)):n.placeholderData,n.select&&A!==void 0)try{A=n.select(A),G(this,Un,null)}catch(R){G(this,Un,R)}A!==void 0&&(S="success",y=mp(s==null?void 0:s.data,A,n),p=!0)}D(this,Un)&&(x=D(this,Un),y=D(this,xo),T=Date.now(),S="error");const v=f.fetchStatus==="fetching",w=S==="pending",C=S==="error",k=w&&v,M=y!==void 0,_={status:S,fetchStatus:f.fetchStatus,isPending:w,isSuccess:S==="success",isError:C,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:T,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:C&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&M,isStale:dg(e,n),refetch:this.refetch,promise:D(this,Qr)};if(this.options.experimental_prefetchInRender){const A=O=>{_.status==="error"?O.reject(_.error):_.data!==void 0&&O.resolve(_.data)},R=()=>{const O=G(this,Qr,_.promise=gp());A(O)},N=D(this,Qr);switch(N.status){case"pending":e.queryHash===r.queryHash&&A(N);break;case"fulfilled":(_.status==="error"||_.data!==N.value)&&R();break;case"rejected":(_.status!=="error"||_.error!==N.reason)&&R();break}}return _}updateResult(e){const n=D(this,Rt),r=this.createResult(D(this,ce),this.options);if(G(this,Xi,D(this,ce).state),G(this,To,this.options),D(this,Xi).data!==void 0&&G(this,Io,D(this,ce)),fp(r,n))return;G(this,Rt,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!D(this,So).size)return!0;const u=new Set(a??D(this,So));return this.options.throwOnError&&u.add("error"),Object.keys(D(this,Rt)).some(c=>{const h=c;return D(this,Rt)[h]!==n[h]&&u.has(h)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),ue(this,ye,OT).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,ye,wp).call(this)}},Lt=new WeakMap,ce=new WeakMap,Fl=new WeakMap,Rt=new WeakMap,Xi=new WeakMap,To=new WeakMap,Qr=new WeakMap,Un=new WeakMap,jl=new WeakMap,xo=new WeakMap,Io=new WeakMap,Yi=new WeakMap,Ji=new WeakMap,Xr=new WeakMap,So=new WeakMap,ye=new WeakSet,Ma=function(e){ue(this,ye,xp).call(this);let n=D(this,ce).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rn)),n},yp=function(){ue(this,ye,Ep).call(this);const e=eo(this.options.staleTime,D(this,ce));if(cs||D(this,Rt).isStale||!dp(e))return;const r=ST(D(this,Rt).dataUpdatedAt,e)+1;G(this,Yi,setTimeout(()=>{D(this,Rt).isStale||this.updateResult()},r))},vp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,ce)):this.options.refetchInterval)??!1},_p=function(e){ue(this,ye,Tp).call(this),G(this,Xr,e),!(cs||Sn(this.options.enabled,D(this,ce))===!1||!dp(D(this,Xr))||D(this,Xr)===0)&&G(this,Ji,setInterval(()=>{(this.options.refetchIntervalInBackground||hg.isFocused())&&ue(this,ye,Ma).call(this)},D(this,Xr)))},wp=function(){ue(this,ye,yp).call(this),ue(this,ye,_p).call(this,ue(this,ye,vp).call(this))},Ep=function(){D(this,Yi)&&(clearTimeout(D(this,Yi)),G(this,Yi,void 0))},Tp=function(){D(this,Ji)&&(clearInterval(D(this,Ji)),G(this,Ji,void 0))},xp=function(){const e=D(this,Lt).getQueryCache().build(D(this,Lt),this.options);if(e===D(this,ce))return;const n=D(this,ce);G(this,ce,e),G(this,Fl,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},OT=function(e){it.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(D(this,Rt))}),D(this,Lt).getQueryCache().notify({query:D(this,ce),type:"observerResultsUpdated"})})},eE);function jb(t,e){return Sn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function F0(t,e){return jb(t,e)||t.state.data!==void 0&&Ip(t,e,e.refetchOnMount)}function Ip(t,e,n){if(Sn(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dg(t,e)}return!1}function j0(t,e,n,r){return(t!==e||Sn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&dg(t,n)}function dg(t,e){return Sn(e.enabled,t)!==!1&&t.isStaleByTime(eo(e.staleTime,t))}function Ub(t,e){return!fp(t.getCurrentResult(),e)}var DT=P.createContext(void 0),zb=t=>{const e=P.useContext(DT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bb=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(DT.Provider,{value:t,children:e})),LT=P.createContext(!1),$b=()=>P.useContext(LT);LT.Provider;function Hb(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var qb=P.createContext(Hb()),Wb=()=>P.useContext(qb);function Kb(t,e){return typeof t=="function"?t(...e):!!t}function U0(){}var Gb=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Qb=t=>{P.useEffect(()=>{t.clearReset()},[t])},Xb=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Kb(n,[t.error,r]),Yb=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Jb=(t,e)=>t.isLoading&&t.isFetching&&!e,Zb=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,z0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function ek(t,e,n){var h,f,p,y,x;const r=zb(),i=$b(),s=Wb(),o=r.defaultQueryOptions(t);(f=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",Yb(o),Gb(o,s),Qb(s);const a=!r.getQueryCache().get(o.queryHash),[u]=P.useState(()=>new e(r,o)),c=u.getOptimisticResult(o);if(P.useSyncExternalStore(P.useCallback(T=>{const S=i?U0:u.subscribe(it.batchCalls(T));return u.updateResult(),S},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),P.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),Zb(o,c))throw z0(o,u,s);if(Xb({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((y=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,o,c),o.experimental_prefetchInRender&&!cs&&Jb(c,i)){const T=a?z0(o,u,s):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;T==null||T.catch(U0).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function tk(t,e){return ek(t,Fb)}async function nk(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const rk=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await nk(n),await n.json())},ik=new Vb({defaultOptions:{queries:{queryFn:rk({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ok={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>P.createElement("svg",{ref:u,...ok,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MT("lucide",i),...a},[...o.map(([c,h])=>P.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(ak,{ref:s,iconNode:e,className:MT(`lucide-${sk(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Ee("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ee("Guitar",[["path",{d:"m11.9 12.1 4.514-4.514",key:"109xqo"}],["path",{d:"M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z",key:"txyc8t"}],["path",{d:"m6 16 2 2",key:"16qmzd"}],["path",{d:"M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z",key:"1u8q3z"}],["circle",{cx:"11.5",cy:"12.5",r:".5",fill:"currentColor",key:"16onso"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ee("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Ee("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=Ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=Ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function BT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $T(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BT(t))&&(r&&(r+=" "),r+=e);return r}const pg="-",Pk=t=>{const e=kk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(pg);return a[0]===""&&a.length!==1&&a.shift(),HT(a,e)||bk(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},HT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?HT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(pg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},B0=/^\[(.+)\]$/,bk=t=>{if(B0.test(t)){const e=B0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ok(Object.entries(t.classGroups),n).forEach(([s,o])=>{Sp(o,r,s,e)}),r},Sp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:$0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Nk(i)){Sp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Sp(o,$0(e,s),n,r)})})},$0=(t,e)=>{let n=t;return e.split(pg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Nk=t=>t.isThemeGetter,Ok=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Dk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},qT="!",Lk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const u=[];let c=0,h=0,f;for(let S=0;S<a.length;S++){let v=a[S];if(c===0){if(v===i&&(r||a.slice(S,S+s)===e)){u.push(a.slice(h,S)),h=S+s;continue}if(v==="/"){f=S;continue}}v==="["?c++:v==="]"&&c--}const p=u.length===0?a:a.substring(h),y=p.startsWith(qT),x=y?p.substring(1):p,T=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:T}};return n?a=>n({className:a,parseClassName:o}):o},Mk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Vk=t=>({cache:Dk(t.cacheSize),parseClassName:Lk(t),...Pk(t)}),Fk=/\s+/,jk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Fk);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:y}=n(c);let x=!!y,T=r(x?p.substring(0,y):p);if(!T){if(!x){a=c+(a.length>0?" "+a:a);continue}if(T=r(p),!T){a=c+(a.length>0?" "+a:a);continue}x=!1}const S=Mk(h).join(":"),v=f?S+qT:S,w=v+T;if(s.includes(w))continue;s.push(w);const C=i(T,x);for(let k=0;k<C.length;++k){const M=C[k];s.push(v+M)}a=c+(a.length>0?" "+a:a)}return a};function Uk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=WT(e))&&(r&&(r+=" "),r+=n);return r}const WT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=WT(t[r]))&&(n&&(n+=" "),n+=e);return n};function zk(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((h,f)=>f(h),t());return n=Vk(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=jk(u,n);return i(u,h),h}return function(){return s(Uk.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},KT=/^\[(?:([a-z-]+):)?(.+)\]$/i,Bk=/^\d+\/\d+$/,$k=new Set(["px","full","screen"]),Hk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=t=>to(t)||$k.has(t)||Bk.test(t),kr=t=>Wo(t,"length",nN),to=t=>!!t&&!Number.isNaN(Number(t)),rf=t=>Wo(t,"number",to),Pa=t=>!!t&&Number.isInteger(Number(t)),Qk=t=>t.endsWith("%")&&to(t.slice(0,-1)),re=t=>KT.test(t),Nr=t=>Hk.test(t),Xk=new Set(["length","size","percentage"]),Yk=t=>Wo(t,Xk,GT),Jk=t=>Wo(t,"position",GT),Zk=new Set(["image","url"]),eN=t=>Wo(t,Zk,iN),tN=t=>Wo(t,"",rN),ba=()=>!0,Wo=(t,e,n)=>{const r=KT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},nN=t=>qk.test(t)&&!Wk.test(t),GT=()=>!1,rN=t=>Kk.test(t),iN=t=>Gk.test(t),sN=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),i=Ie("borderColor"),s=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),u=Ie("contrast"),c=Ie("grayscale"),h=Ie("hueRotate"),f=Ie("invert"),p=Ie("gap"),y=Ie("gradientColorStops"),x=Ie("gradientColorStopPositions"),T=Ie("inset"),S=Ie("margin"),v=Ie("opacity"),w=Ie("padding"),C=Ie("saturate"),k=Ie("scale"),M=Ie("sepia"),V=Ie("skew"),_=Ie("space"),E=Ie("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",re,e],O=()=>[re,e],b=()=>["",sr,kr],Z=()=>["auto",to,re],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",re],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[to,re];return{cacheSize:500,separator:":",theme:{colors:[ba],spacing:[sr,kr],blur:["none","",Nr,re],brightness:se(),borderColor:[t],borderRadius:["none","","full",Nr,re],borderSpacing:O(),borderWidth:b(),contrast:se(),grayscale:H(),hueRotate:se(),invert:H(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Qk,kr],inset:N(),margin:N(),opacity:se(),padding:O(),saturate:se(),scale:se(),sepia:H(),skew:se(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[Nr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),re]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pa,re]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Pa,re]}],"grid-cols":[{"grid-cols":[ba]}],"col-start-end":[{col:["auto",{span:["full",Pa,re]},re]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[ba]}],"row-start-end":[{row:["auto",{span:[Pa,re]},re]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,e]}],"min-w":[{"min-w":[re,e,"min","max","fit"]}],"max-w":[{"max-w":[re,e,"none","full","min","max","fit","prose",{screen:[Nr]},Nr]}],h:[{h:[re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Nr,kr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rf]}],"font-family":[{font:[ba]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",to,rf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,kr]}],"underline-offset":[{"underline-offset":["auto",sr,re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),Jk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},eN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[sr,re]}],"outline-w":[{outline:[sr,kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[sr,kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Nr,tN]}],"shadow-color":[{shadow:[ba]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Nr,re]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Pa,re]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sr,kr,rf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oN=zk(sN);function Ge(...t){return oN($T(t))}function aN({message:t,type:e="info",duration:n=3e3,onClose:r}){const[i,s]=P.useState(!0);P.useEffect(()=>{const u=setTimeout(()=>{s(!1),setTimeout(r,300)},n);return()=>clearTimeout(u)},[n,r]);const o=()=>{s(!1),setTimeout(r,300)},a=e==="success"?ck:e==="error"?fg:null;return g.jsx("div",{className:Ge("fixed bottom-4 right-4 z-50 max-w-sm p-4 rounded-lg shadow-lg transition-all duration-300","bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",{"border-green-200 bg-green-50 dark:bg-green-900/20":e==="success","border-red-200 bg-red-50 dark:bg-red-900/20":e==="error","opacity-100 translate-y-0":i,"opacity-0 translate-y-2":!i}),children:g.jsxs("div",{className:"flex items-start gap-3",children:[a&&g.jsx(a,{className:Ge("h-5 w-5 mt-0.5 flex-shrink-0",{"text-green-600 dark:text-green-400":e==="success","text-red-600 dark:text-red-400":e==="error"})}),g.jsx("p",{className:Ge("text-sm flex-1",{"text-green-800 dark:text-green-200":e==="success","text-red-800 dark:text-red-200":e==="error","text-gray-800 dark:text-gray-200":e==="info"}),children:t}),g.jsx("button",{onClick:o,className:Ge("p-1 rounded-full transition-colors flex-shrink-0","hover:bg-gray-100 dark:hover:bg-gray-700",{"hover:bg-green-100 dark:hover:bg-green-800":e==="success","hover:bg-red-100 dark:hover:bg-red-800":e==="error"}),children:g.jsx(Rk,{className:"h-4 w-4"})})]})})}let lN=0;const Ya=[];let ts=[];function bs(t,e="info"){const n=++lN;ts=[...ts,{id:n,message:t,type:e}],Ya.forEach(r=>r(ts)),setTimeout(()=>{QT(n)},3e3)}function QT(t){ts=ts.filter(e=>e.id!==t),Ya.forEach(e=>e(ts))}function uN(){const[t,e]=P.useState(ts);return P.useEffect(()=>(Ya.push(e),()=>{const n=Ya.indexOf(e);n>-1&&Ya.splice(n,1)}),[]),t}function cN(){const t=uN();return g.jsx(g.Fragment,{children:t.map(e=>g.jsx(aN,{message:e.message,type:e.type,onClose:()=>QT(e.id)},e.id))})}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function H0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XT(...t){return e=>{let n=!1;const r=t.map(i=>{const s=H0(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():H0(t[i],null)}}}}function Nt(...t){return P.useCallback(XT(...t),t)}function Ko(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:p,children:y,...x}=f,T=((v=p==null?void 0:p[t])==null?void 0:v[u])||a,S=P.useMemo(()=>x,Object.values(x));return g.jsx(T.Provider,{value:S,children:y})};c.displayName=s+"Provider";function h(f,p){var T;const y=((T=p==null?void 0:p[t])==null?void 0:T[u])||a,x=P.useContext(y);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,hN(i,...e)]}function hN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(s)[`__scope${c}`];return{...a,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Gc(t){const e=fN(t),n=P.forwardRef((r,i)=>{const{children:s,...o}=r,a=P.Children.toArray(s),u=a.find(mN);if(u){const c=u.props.children,h=a.map(f=>f===u?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:f);return g.jsx(e,{...o,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var dN=Gc("Slot");function fN(t){const e=P.forwardRef((n,r)=>{const{children:i,...s}=n;if(P.isValidElement(i)){const o=yN(i),a=gN(s,i.props);return i.type!==P.Fragment&&(a.ref=r?XT(r,o):o),P.cloneElement(i,a)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var YT=Symbol("radix.slottable");function pN(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=YT,e}function mN(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===YT}function gN(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function yN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=vN.reduce((t,e)=>{const n=Gc(`Primitive.${e}`),r=P.forwardRef((i,s)=>{const{asChild:o,...a}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _N(t,e){t&&og.flushSync(()=>t.dispatchEvent(e))}function Go(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function wN(t,e=globalThis==null?void 0:globalThis.document){const n=Go(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var EN="DismissableLayer",Cp="dismissableLayer.update",TN="dismissableLayer.pointerDownOutside",xN="dismissableLayer.focusOutside",q0,JT=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ZT=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,c=P.useContext(JT),[h,f]=P.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=P.useState({}),x=Nt(e,_=>f(_)),T=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=T.indexOf(S),w=h?T.indexOf(h):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,k=w>=v,M=CN(_=>{const E=_.target,A=[...c.branches].some(R=>R.contains(E));!k||A||(i==null||i(_),o==null||o(_),_.defaultPrevented||a==null||a())},p),V=AN(_=>{const E=_.target;[...c.branches].some(R=>R.contains(E))||(s==null||s(_),o==null||o(_),_.defaultPrevented||a==null||a())},p);return wN(_=>{w===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))},p),P.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(q0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),W0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=q0)}},[h,p,n,c]),P.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),W0())},[h,c]),P.useEffect(()=>{const _=()=>y({});return document.addEventListener(Cp,_),()=>document.removeEventListener(Cp,_)},[]),g.jsx(xt.div,{...u,ref:x,style:{pointerEvents:C?k?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,V.onFocusCapture),onBlurCapture:st(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,M.onPointerDownCapture)})});ZT.displayName=EN;var IN="DismissableLayerBranch",SN=P.forwardRef((t,e)=>{const n=P.useContext(JT),r=P.useRef(null),i=Nt(e,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(xt.div,{...t,ref:i})});SN.displayName=IN;function CN(t,e=globalThis==null?void 0:globalThis.document){const n=Go(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){ex(TN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function AN(t,e=globalThis==null?void 0:globalThis.document){const n=Go(t),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&ex(xN,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function W0(){const t=new CustomEvent(Cp);document.dispatchEvent(t)}function ex(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?_N(i,s):i.dispatchEvent(s)}var xl=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{};const RN=["top","right","bottom","left"],gi=Math.min,Wt=Math.max,Qc=Math.round,$u=Math.floor,qn=t=>({x:t,y:t}),PN={left:"right",right:"left",bottom:"top",top:"bottom"},bN={start:"end",end:"start"};function Ap(t,e,n){return Wt(t,gi(e,n))}function _r(t,e){return typeof t=="function"?t(e):t}function wr(t){return t.split("-")[0]}function Qo(t){return t.split("-")[1]}function mg(t){return t==="x"?"y":"x"}function gg(t){return t==="y"?"height":"width"}function yi(t){return["top","bottom"].includes(wr(t))?"y":"x"}function yg(t){return mg(yi(t))}function kN(t,e,n){n===void 0&&(n=!1);const r=Qo(t),i=yg(t),s=gg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Xc(o)),[o,Xc(o)]}function NN(t){const e=Xc(t);return[Rp(t),e,Rp(e)]}function Rp(t){return t.replace(/start|end/g,e=>bN[e])}function ON(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function DN(t,e,n,r){const i=Qo(t);let s=ON(wr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Rp)))),s}function Xc(t){return t.replace(/left|right|bottom|top/g,e=>PN[e])}function LN(t){return{top:0,right:0,bottom:0,left:0,...t}}function tx(t){return typeof t!="number"?LN(t):{top:t,right:t,bottom:t,left:t}}function Yc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function K0(t,e,n){let{reference:r,floating:i}=t;const s=yi(e),o=yg(e),a=gg(o),u=wr(e),c=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let y;switch(u){case"top":y={x:h,y:r.y-i.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-i.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Qo(e)){case"start":y[o]-=p*(n&&c?-1:1);break;case"end":y[o]+=p*(n&&c?-1:1);break}return y}const MN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=K0(c,r,u),p=r,y={},x=0;for(let T=0;T<a.length;T++){const{name:S,fn:v}=a[T],{x:w,y:C,data:k,reset:M}=await v({x:h,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:c,platform:o,elements:{reference:t,floating:e}});h=w??h,f=C??f,y={...y,[S]:{...y[S],...k}},M&&x<=50&&(x++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:h,y:f}=K0(c,p,u)),T=-1)}return{x:h,y:f,placement:p,strategy:i,middlewareData:y}};async function Il(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:y=0}=_r(e,t),x=tx(y),S=a[p?f==="floating"?"reference":"floating":f],v=Yc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:u})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},M=Yc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:u}):w);return{top:(v.top-M.top+x.top)/k.y,bottom:(M.bottom-v.bottom+x.bottom)/k.y,left:(v.left-M.left+x.left)/k.x,right:(M.right-v.right+x.right)/k.x}}const VN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:h=0}=_r(t,e)||{};if(c==null)return{};const f=tx(h),p={x:n,y:r},y=yg(i),x=gg(y),T=await o.getDimensions(c),S=y==="y",v=S?"top":"left",w=S?"bottom":"right",C=S?"clientHeight":"clientWidth",k=s.reference[x]+s.reference[y]-p[y]-s.floating[x],M=p[y]-s.reference[y],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let _=V?V[C]:0;(!_||!await(o.isElement==null?void 0:o.isElement(V)))&&(_=a.floating[C]||s.floating[x]);const E=k/2-M/2,A=_/2-T[x]/2-1,R=gi(f[v],A),N=gi(f[w],A),O=R,b=_-T[x]-N,Z=_/2-T[x]/2+E,ge=Ap(O,Z,b),ie=!u.arrow&&Qo(i)!=null&&Z!==ge&&s.reference[x]/2-(Z<O?R:N)-T[x]/2<0,ne=ie?Z<O?Z-O:Z-b:0;return{[y]:p[y]+ne,data:{[y]:ge,centerOffset:Z-ge-ne,...ie&&{alignmentOffset:ne}},reset:ie}}}),FN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:T=!0,...S}=_r(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=wr(i),w=yi(a),C=wr(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(c.floating)),M=p||(C||!T?[Xc(a)]:NN(a)),V=x!=="none";!p&&V&&M.push(...DN(a,T,x,k));const _=[a,...M],E=await Il(e,S),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&A.push(E[v]),f){const Z=kN(i,o,k);A.push(E[Z[0]],E[Z[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(Z=>Z<=0)){var N,O;const Z=(((N=s.flip)==null?void 0:N.index)||0)+1,ge=_[Z];if(ge)return{data:{index:Z,overflows:R},reset:{placement:ge}};let ie=(O=R.filter(ne=>ne.overflows[0]<=0).sort((ne,j)=>ne.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!ie)switch(y){case"bestFit":{var b;const ne=(b=R.filter(j=>{if(V){const H=yi(j.placement);return H===w||H==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(H=>H>0).reduce((H,Q)=>H+Q,0)]).sort((j,H)=>j[1]-H[1])[0])==null?void 0:b[0];ne&&(ie=ne);break}case"initialPlacement":ie=a;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function G0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Q0(t){return RN.some(e=>t[e]>=0)}const jN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=_r(t,e);switch(r){case"referenceHidden":{const s=await Il(e,{...i,elementContext:"reference"}),o=G0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q0(o)}}}case"escaped":{const s=await Il(e,{...i,altBoundary:!0}),o=G0(s,n.floating);return{data:{escapedOffsets:o,escaped:Q0(o)}}}default:return{}}}}};async function UN(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=wr(n),a=Qo(n),u=yi(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&u?-1:1,f=_r(e,t);let{mainAxis:p,crossAxis:y,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),u?{x:y*h,y:p*c}:{x:p*c,y:y*h}}const zN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await UN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},BN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:v,y:w}=S;return{x:v,y:w}}},...u}=_r(t,e),c={x:n,y:r},h=await Il(e,u),f=yi(wr(i)),p=mg(f);let y=c[p],x=c[f];if(s){const S=p==="y"?"top":"left",v=p==="y"?"bottom":"right",w=y+h[S],C=y-h[v];y=Ap(w,y,C)}if(o){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=x+h[S],C=x-h[v];x=Ap(w,x,C)}const T=a.fn({...e,[p]:y,[f]:x});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[p]:s,[f]:o}}}}}},$N=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=_r(t,e),h={x:n,y:r},f=yi(i),p=mg(f);let y=h[p],x=h[f];const T=_r(a,e),S=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(u){const C=p==="y"?"height":"width",k=s.reference[p]-s.floating[C]+S.mainAxis,M=s.reference[p]+s.reference[C]-S.mainAxis;y<k?y=k:y>M&&(y=M)}if(c){var v,w;const C=p==="y"?"width":"height",k=["top","left"].includes(wr(i)),M=s.reference[f]-s.floating[C]+(k&&((v=o.offset)==null?void 0:v[f])||0)+(k?0:S.crossAxis),V=s.reference[f]+s.reference[C]+(k?0:((w=o.offset)==null?void 0:w[f])||0)-(k?S.crossAxis:0);x<M?x=M:x>V&&(x=V)}return{[p]:y,[f]:x}}}},HN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...c}=_r(t,e),h=await Il(e,c),f=wr(i),p=Qo(i),y=yi(i)==="y",{width:x,height:T}=s.floating;let S,v;f==="top"||f==="bottom"?(S=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,S=p==="end"?"top":"bottom");const w=T-h.top-h.bottom,C=x-h.left-h.right,k=gi(T-h[S],w),M=gi(x-h[v],C),V=!e.middlewareData.shift;let _=k,E=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=w),V&&!p){const R=Wt(h.left,0),N=Wt(h.right,0),O=Wt(h.top,0),b=Wt(h.bottom,0);y?E=x-2*(R!==0||N!==0?R+N:Wt(h.left,h.right)):_=T-2*(O!==0||b!==0?O+b:Wt(h.top,h.bottom))}await u({...e,availableWidth:E,availableHeight:_});const A=await o.getDimensions(a.floating);return x!==A.width||T!==A.height?{reset:{rects:!0}}:{}}}};function Dh(){return typeof window<"u"}function Xo(t){return nx(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function er(t){var e;return(e=(nx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nx(t){return Dh()?t instanceof Node||t instanceof Yt(t).Node:!1}function bn(t){return Dh()?t instanceof Element||t instanceof Yt(t).Element:!1}function Jn(t){return Dh()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function X0(t){return!Dh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}function Kl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function qN(t){return["table","td","th"].includes(Xo(t))}function Lh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vg(t){const e=_g(),n=bn(t)?kn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function WN(t){let e=vi(t);for(;Jn(e)&&!Do(e);){if(vg(e))return e;if(Lh(e))return null;e=vi(e)}return null}function _g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(t){return["html","body","#document"].includes(Xo(t))}function kn(t){return Yt(t).getComputedStyle(t)}function Mh(t){return bn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vi(t){if(Xo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||X0(t)&&t.host||er(t);return X0(e)?e.host:e}function rx(t){const e=vi(t);return Do(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jn(e)&&Kl(e)?e:rx(e)}function Sl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=rx(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Yt(i);if(s){const a=Pp(o);return e.concat(o,o.visualViewport||[],Kl(i)?i:[],a&&n?Sl(a):[])}return e.concat(i,Sl(i,[],n))}function Pp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ix(t){const e=kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Qc(n)!==s||Qc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function wg(t){return bn(t)?t:t.contextElement}function no(t){const e=wg(t);if(!Jn(e))return qn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=ix(e);let o=(s?Qc(n.width):n.width)/r,a=(s?Qc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const KN=qn(0);function sx(t){const e=Yt(t);return!_g()||!e.visualViewport?KN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function hs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=wg(t);let o=qn(1);e&&(r?bn(r)&&(o=no(r)):o=no(t));const a=GN(s,n,r)?sx(s):qn(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const p=Yt(s),y=r&&bn(r)?Yt(r):r;let x=p,T=Pp(x);for(;T&&r&&y!==x;){const S=no(T),v=T.getBoundingClientRect(),w=kn(T),C=v.left+(T.clientLeft+parseFloat(w.paddingLeft))*S.x,k=v.top+(T.clientTop+parseFloat(w.paddingTop))*S.y;u*=S.x,c*=S.y,h*=S.x,f*=S.y,u+=C,c+=k,x=Yt(T),T=Pp(x)}}return Yc({width:h,height:f,x:u,y:c})}function Eg(t,e){const n=Mh(t).scrollLeft;return e?e.left+n:hs(er(t)).left+n}function ox(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Eg(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function QN(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=er(r),a=e?Lh(e.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=qn(1);const h=qn(0),f=Jn(r);if((f||!f&&!s)&&((Xo(r)!=="body"||Kl(o))&&(u=Mh(r)),Jn(r))){const y=hs(r);c=no(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const p=o&&!f&&!s?ox(o,u,!0):qn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-u.scrollTop*c.y+h.y+p.y}}function XN(t){return Array.from(t.getClientRects())}function YN(t){const e=er(t),n=Mh(t),r=t.ownerDocument.body,i=Wt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Eg(t);const a=-n.scrollTop;return kn(r).direction==="rtl"&&(o+=Wt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function JN(t,e){const n=Yt(t),r=er(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const c=_g();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}function ZN(t,e){const n=hs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Jn(t)?no(t):qn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function Y0(t,e,n){let r;if(e==="viewport")r=JN(t,n);else if(e==="document")r=YN(er(t));else if(bn(e))r=ZN(e,n);else{const i=sx(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yc(r)}function ax(t,e){const n=vi(t);return n===e||!bn(n)||Do(n)?!1:kn(n).position==="fixed"||ax(n,e)}function e2(t,e){const n=e.get(t);if(n)return n;let r=Sl(t,[],!1).filter(a=>bn(a)&&Xo(a)!=="body"),i=null;const s=kn(t).position==="fixed";let o=s?vi(t):t;for(;bn(o)&&!Do(o);){const a=kn(o),u=vg(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kl(o)&&!u&&ax(t,o))?r=r.filter(h=>h!==o):i=a,o=vi(o)}return e.set(t,r),r}function t2(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Lh(e)?[]:e2(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,h)=>{const f=Y0(e,h,i);return c.top=Wt(f.top,c.top),c.right=gi(f.right,c.right),c.bottom=gi(f.bottom,c.bottom),c.left=Wt(f.left,c.left),c},Y0(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function n2(t){const{width:e,height:n}=ix(t);return{width:e,height:n}}function r2(t,e,n){const r=Jn(e),i=er(e),s=n==="fixed",o=hs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=qn(0);if(r||!r&&!s)if((Xo(e)!=="body"||Kl(i))&&(a=Mh(e)),r){const p=hs(e,!0,s,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else i&&(u.x=Eg(i));const c=i&&!r&&!s?ox(i,a):qn(0),h=o.left+a.scrollLeft-u.x-c.x,f=o.top+a.scrollTop-u.y-c.y;return{x:h,y:f,width:o.width,height:o.height}}function sf(t){return kn(t).position==="static"}function J0(t,e){if(!Jn(t)||kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return er(t)===n&&(n=n.ownerDocument.body),n}function lx(t,e){const n=Yt(t);if(Lh(t))return n;if(!Jn(t)){let i=vi(t);for(;i&&!Do(i);){if(bn(i)&&!sf(i))return i;i=vi(i)}return n}let r=J0(t,e);for(;r&&qN(r)&&sf(r);)r=J0(r,e);return r&&Do(r)&&sf(r)&&!vg(r)?n:r||WN(t)||n}const i2=async function(t){const e=this.getOffsetParent||lx,n=this.getDimensions,r=await n(t.floating);return{reference:r2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function s2(t){return kn(t).direction==="rtl"}const o2={convertOffsetParentRelativeRectToViewportRelativeRect:QN,getDocumentElement:er,getClippingRect:t2,getOffsetParent:lx,getElementRects:i2,getClientRects:XN,getDimensions:n2,getScale:no,isElement:bn,isRTL:s2};function ux(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function a2(t,e){let n=null,r;const i=er(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:y}=c;if(a||e(),!p||!y)return;const x=$u(f),T=$u(i.clientWidth-(h+p)),S=$u(i.clientHeight-(f+y)),v=$u(h),C={rootMargin:-x+"px "+-T+"px "+-S+"px "+-v+"px",threshold:Wt(0,gi(1,u))||1};let k=!0;function M(V){const _=V[0].intersectionRatio;if(_!==u){if(!k)return o();_?o(!1,_):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!ux(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(M,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,C)}n.observe(t)}return o(!0),s}function l2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=wg(t),h=i||s?[...c?Sl(c):[],...Sl(e)]:[];h.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=c&&a?a2(c,n):null;let p=-1,y=null;o&&(y=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&y&&(y.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(e)})),n()}),c&&!u&&y.observe(c),y.observe(e));let x,T=u?hs(t):null;u&&S();function S(){const v=hs(t);T&&!ux(T,v)&&n(),T=v,x=requestAnimationFrame(S)}return n(),()=>{var v;h.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(v=y)==null||v.disconnect(),y=null,u&&cancelAnimationFrame(x)}}const u2=zN,c2=BN,h2=FN,d2=HN,f2=jN,Z0=VN,p2=$N,m2=(t,e,n)=>{const r=new Map,i={platform:o2,...n},s={...i.platform,_c:r};return MN(t,e,{...i,platform:s})};var fc=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Jc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Jc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Jc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function cx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function e_(t,e){const n=cx(t);return Math.round(e*n)/n}function of(t){const e=P.useRef(t);return fc(()=>{e.current=t}),e}function g2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[h,f]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,y]=P.useState(r);Jc(p,r)||y(r);const[x,T]=P.useState(null),[S,v]=P.useState(null),w=P.useCallback(j=>{j!==V.current&&(V.current=j,T(j))},[]),C=P.useCallback(j=>{j!==_.current&&(_.current=j,v(j))},[]),k=s||x,M=o||S,V=P.useRef(null),_=P.useRef(null),E=P.useRef(h),A=u!=null,R=of(u),N=of(i),O=of(c),b=P.useCallback(()=>{if(!V.current||!_.current)return;const j={placement:e,strategy:n,middleware:p};N.current&&(j.platform=N.current),m2(V.current,_.current,j).then(H=>{const Q={...H,isPositioned:O.current!==!1};Z.current&&!Jc(E.current,Q)&&(E.current=Q,og.flushSync(()=>{f(Q)}))})},[p,e,n,N,O]);fc(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const Z=P.useRef(!1);fc(()=>(Z.current=!0,()=>{Z.current=!1}),[]),fc(()=>{if(k&&(V.current=k),M&&(_.current=M),k&&M){if(R.current)return R.current(k,M,b);b()}},[k,M,b,R,A]);const ge=P.useMemo(()=>({reference:V,floating:_,setReference:w,setFloating:C}),[w,C]),ie=P.useMemo(()=>({reference:k,floating:M}),[k,M]),ne=P.useMemo(()=>{const j={position:n,left:0,top:0};if(!ie.floating)return j;const H=e_(ie.floating,h.x),Q=e_(ie.floating,h.y);return a?{...j,transform:"translate("+H+"px, "+Q+"px)",...cx(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:Q}},[n,a,ie.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:b,refs:ge,elements:ie,floatingStyles:ne}),[h,b,ge,ie,ne])}const y2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Z0({element:r.current,padding:i}).fn(n):{}:r?Z0({element:r,padding:i}).fn(n):{}}}},v2=(t,e)=>({...u2(t),options:[t,e]}),_2=(t,e)=>({...c2(t),options:[t,e]}),w2=(t,e)=>({...p2(t),options:[t,e]}),E2=(t,e)=>({...h2(t),options:[t,e]}),T2=(t,e)=>({...d2(t),options:[t,e]}),x2=(t,e)=>({...f2(t),options:[t,e]}),I2=(t,e)=>({...y2(t),options:[t,e]});var S2="Arrow",hx=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(xt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});hx.displayName=S2;var C2=hx;function Tg(t){const[e,n]=P.useState(void 0);return xl(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var dx="Popper",[fx,px]=Ko(dx),[IU,mx]=fx(dx),gx="PopperAnchor",yx=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=mx(gx,n),o=P.useRef(null),a=Nt(e,o);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(xt.div,{...i,ref:a})});yx.displayName=gx;var xg="PopperContent",[A2,R2]=fx(xg),vx=P.forwardRef((t,e)=>{var tn,su,ou,Ni,Oi,xs;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:y="optimized",onPlaced:x,...T}=t,S=mx(xg,n),[v,w]=P.useState(null),C=Nt(e,nr=>w(nr)),[k,M]=P.useState(null),V=Tg(k),_=(V==null?void 0:V.width)??0,E=(V==null?void 0:V.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(c)?c:[c],O=N.length>0,b={padding:R,boundary:N.filter(b2),altBoundary:O},{refs:Z,floatingStyles:ge,placement:ie,isPositioned:ne,middlewareData:j}=g2({strategy:"fixed",placement:A,whileElementsMounted:(...nr)=>l2(...nr,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[v2({mainAxis:i+E,alignmentAxis:o}),u&&_2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?w2():void 0,...b}),u&&E2({...b}),T2({...b,apply:({elements:nr,rects:Is,availableWidth:aa,availableHeight:au})=>{const{width:ad,height:ld}=Is.reference,Di=nr.floating.style;Di.setProperty("--radix-popper-available-width",`${aa}px`),Di.setProperty("--radix-popper-available-height",`${au}px`),Di.setProperty("--radix-popper-anchor-width",`${ad}px`),Di.setProperty("--radix-popper-anchor-height",`${ld}px`)}}),k&&I2({element:k,padding:a}),k2({arrowWidth:_,arrowHeight:E}),p&&x2({strategy:"referenceHidden",...b})]}),[H,Q]=Ex(ie),se=Go(x);xl(()=>{ne&&(se==null||se())},[ne,se]);const ve=(tn=j.arrow)==null?void 0:tn.x,be=(su=j.arrow)==null?void 0:su.y,gn=((ou=j.arrow)==null?void 0:ou.centerOffset)!==0,[yn,vn]=P.useState();return xl(()=>{v&&vn(window.getComputedStyle(v).zIndex)},[v]),g.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:ne?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yn,"--radix-popper-transform-origin":[(Ni=j.transformOrigin)==null?void 0:Ni.x,(Oi=j.transformOrigin)==null?void 0:Oi.y].join(" "),...((xs=j.hide)==null?void 0:xs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(A2,{scope:n,placedSide:H,onArrowChange:M,arrowX:ve,arrowY:be,shouldHideArrow:gn,children:g.jsx(xt.div,{"data-side":H,"data-align":Q,...T,ref:C,style:{...T.style,animation:ne?void 0:"none"}})})})});vx.displayName=xg;var _x="PopperArrow",P2={top:"bottom",right:"left",bottom:"top",left:"right"},wx=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=R2(_x,r),o=P2[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(C2,{...i,ref:n,style:{...i.style,display:"block"}})})});wx.displayName=_x;function b2(t){return t!==null}var k2=t=>({name:"transformOrigin",options:t,fn(e){var S,v,w;const{placement:n,rects:r,middlewareData:i}=e,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,h]=Ex(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,y=(((w=i.arrow)==null?void 0:w.y)??0)+u/2;let x="",T="";return c==="bottom"?(x=o?f:`${p}px`,T=`${-u}px`):c==="top"?(x=o?f:`${p}px`,T=`${r.floating.height+u}px`):c==="right"?(x=`${-u}px`,T=o?f:`${y}px`):c==="left"&&(x=`${r.floating.width+u}px`,T=o?f:`${y}px`),{data:{x,y:T}}}});function Ex(t){const[e,n="center"]=t.split("-");return[e,n]}var N2=yx,O2=vx,D2=wx;function L2(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var Ig=t=>{const{present:e,children:n}=t,r=M2(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=Nt(r.ref,V2(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};Ig.displayName="Presence";function M2(t){const[e,n]=P.useState(),r=P.useRef({}),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[a,u]=L2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=Hu(r.current);s.current=a==="mounted"?c:"none"},[a]),xl(()=>{const c=r.current,h=i.current;if(h!==t){const p=s.current,y=Hu(c);t?u("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),xl(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=y=>{const T=Hu(r.current).includes(y.animationName);if(y.target===e&&T&&(u("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},p=y=>{y.target===e&&(s.current=Hu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Hu(t){return(t==null?void 0:t.animationName)||"none"}function V2(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Tx({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=F2({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Go(n),u=P.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,u]}function F2({defaultProp:t,onChange:e}){const n=P.useState(t),[r]=n,i=P.useRef(r),s=Go(e);return P.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var j2="VisuallyHidden",xx=P.forwardRef((t,e)=>g.jsx(xt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));xx.displayName=j2;var U2=xx,[Vh,SU]=Ko("Tooltip",[px]),Sg=px(),Ix="TooltipProvider",z2=700,t_="tooltip.open",[B2,Sx]=Vh(Ix),Cx=t=>{const{__scopeTooltip:e,delayDuration:n=z2,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=P.useRef(!0),a=P.useRef(!1),u=P.useRef(0);return P.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),g.jsx(B2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};Cx.displayName=Ix;var Ax="Tooltip",[CU,Fh]=Vh(Ax),bp="TooltipTrigger",$2=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Fh(bp,n),s=Sx(bp,n),o=Sg(n),a=P.useRef(null),u=Nt(e,a,i.onTriggerChange),c=P.useRef(!1),h=P.useRef(!1),f=P.useCallback(()=>c.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(N2,{asChild:!0,...o,children:g.jsx(xt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:st(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:st(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:st(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:st(t.onBlur,i.onClose),onClick:st(t.onClick,i.onClose)})})});$2.displayName=bp;var H2="TooltipPortal",[AU,q2]=Vh(H2,{forceMount:void 0}),Lo="TooltipContent",Rx=P.forwardRef((t,e)=>{const n=q2(Lo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Fh(Lo,t.__scopeTooltip);return g.jsx(Ig,{present:r||o.open,children:o.disableHoverableContent?g.jsx(Px,{side:i,...s,ref:e}):g.jsx(W2,{side:i,...s,ref:e})})}),W2=P.forwardRef((t,e)=>{const n=Fh(Lo,t.__scopeTooltip),r=Sx(Lo,t.__scopeTooltip),i=P.useRef(null),s=Nt(e,i),[o,a]=P.useState(null),{trigger:u,onClose:c}=n,h=i.current,{onPointerInTransitChange:f}=r,p=P.useCallback(()=>{a(null),f(!1)},[f]),y=P.useCallback((x,T)=>{const S=x.currentTarget,v={x:x.clientX,y:x.clientY},w=Y2(v,S.getBoundingClientRect()),C=J2(v,w),k=Z2(T.getBoundingClientRect()),M=tO([...C,...k]);a(M),f(!0)},[f]);return P.useEffect(()=>()=>p(),[p]),P.useEffect(()=>{if(u&&h){const x=S=>y(S,h),T=S=>y(S,u);return u.addEventListener("pointerleave",x),h.addEventListener("pointerleave",T),()=>{u.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",T)}}},[u,h,y,p]),P.useEffect(()=>{if(o){const x=T=>{const S=T.target,v={x:T.clientX,y:T.clientY},w=(u==null?void 0:u.contains(S))||(h==null?void 0:h.contains(S)),C=!eO(v,o);w?p():C&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[u,h,o,c,p]),g.jsx(Px,{...t,ref:s})}),[K2,G2]=Vh(Ax,{isInside:!1}),Q2=pN("TooltipContent"),Px=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,u=Fh(Lo,n),c=Sg(n),{onClose:h}=u;return P.useEffect(()=>(document.addEventListener(t_,h),()=>document.removeEventListener(t_,h)),[h]),P.useEffect(()=>{if(u.trigger){const f=p=>{const y=p.target;y!=null&&y.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),g.jsx(ZT,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:g.jsxs(O2,{"data-state":u.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(Q2,{children:r}),g.jsx(K2,{scope:n,isInside:!0,children:g.jsx(U2,{id:u.contentId,role:"tooltip",children:i||r})})]})})});Rx.displayName=Lo;var bx="TooltipArrow",X2=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Sg(n);return G2(bx,n).isInside?null:g.jsx(D2,{...i,...r,ref:e})});X2.displayName=bx;function Y2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function J2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Z2(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function eO(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,u=e[s].y,c=e[o].x,h=e[o].y;u>r!=h>r&&n<(c-a)*(r-u)/(h-u)+a&&(i=!i)}return i}function tO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),nO(e)}function nO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var rO=Cx,kx=Rx;const iO=rO,sO=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(kx,{ref:r,sideOffset:e,className:Ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));sO.displayName=kx.displayName;class oO extends P.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){var r,i;console.warn("ErrorBoundary caught an error:",e,n),(r=event==null?void 0:event.preventDefault)==null||r.call(event),(i=event==null?void 0:event.stopPropagation)==null||i.call(event)}render(){return this.state.hasError?this.props.fallback||g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center p-8",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Algo deu errado"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Recarregue a página para tentar novamente."}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recarregar Página"})]})}):this.props.children}}const aO=()=>{};var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ox={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new uO;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cO=function(t){const e=Nx(t);return Ox.encodeByteArray(e,!0)},Zc=function(t){return cO(t).replace(/\./g,"")},Dx=function(t){try{return Ox.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=()=>hO().__FIREBASE_DEFAULTS__,fO=()=>{if(typeof process>"u"||typeof n_>"u")return;const t=n_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dx(t[1]);return e&&JSON.parse(e)},jh=()=>{try{return aO()||dO()||fO()||pO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lx=t=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Mx=t=>{const e=Lx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vx=()=>{var t;return(t=jh())===null||t===void 0?void 0:t.config},Fx=t=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(o)),""].join(".")}const Ja={};function gO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?t.emulator.push(e):t.prod.push(e);return t}function yO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r_=!1;function Ag(t,e){if(typeof window>"u"||typeof document>"u"||!bi(window.location.host)||Ja[t]===e||Ja[t]||r_)return;Ja[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=gO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{r_=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=yO(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const C=p.element;a(C),h(S,T);const k=c();u(w,v),C.append(w,x,S,k),document.body.appendChild(C)}s?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function _O(){var t;const e=(t=jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xO(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IO(){return!_O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SO(){try{return typeof indexedDB=="object"}catch{return!1}}function CO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AO,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?RO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tr(i,a,r)}}function RO(t,e){return t.replace(PO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PO=/\{\$([^}]+)}/g;function bO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ds(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(i_(s)&&i_(o)){if(!ds(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Va(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Fa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kO(t,e){const n=new NO(t,e);return n.subscribe.bind(n)}class NO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=af),i.error===void 0&&(i.error=af),i.complete===void 0&&(i.complete=af);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MO(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LO(t){return t===zi?void 0:t}function MO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const FO={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},jO=le.INFO,UO={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},zO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=jO,this._logHandler=zO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const BO=(t,e)=>e.some(n=>t instanceof n);let s_,o_;function $O(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HO(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ux=new WeakMap,kp=new WeakMap,zx=new WeakMap,lf=new WeakMap,Pg=new WeakMap;function qO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ui(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ux.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function WO(t){if(kp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kp.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KO(t){Np=t(Np)}function GO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uf(this),e,...n);return zx.set(r,e.sort?e.sort():[e]),ui(r)}:HO().includes(t)?function(...e){return t.apply(uf(this),e),ui(Ux.get(this))}:function(...e){return ui(t.apply(uf(this),e))}}function QO(t){return typeof t=="function"?GO(t):(t instanceof IDBTransaction&&WO(t),BO(t,$O())?new Proxy(t,Np):t)}function ui(t){if(t instanceof IDBRequest)return qO(t);if(lf.has(t))return lf.get(t);const e=QO(t);return e!==t&&(lf.set(t,e),Pg.set(e,t)),e}const uf=t=>Pg.get(t);function XO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ui(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ui(o.result),u.oldVersion,u.newVersion,ui(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const YO=["get","getKey","getAll","getAllKeys","count"],JO=["put","add","delete","clear"],cf=new Map;function a_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return cf.set(e,s),s}KO(t=>({...t,get:(e,n,r)=>a_(e,n)||t.get(e,n,r),has:(e,n)=>!!a_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Op="@firebase/app",l_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Rg("@firebase/app"),tD="@firebase/app-compat",nD="@firebase/analytics-compat",rD="@firebase/analytics",iD="@firebase/app-check-compat",sD="@firebase/app-check",oD="@firebase/auth",aD="@firebase/auth-compat",lD="@firebase/database",uD="@firebase/data-connect",cD="@firebase/database-compat",hD="@firebase/functions",dD="@firebase/functions-compat",fD="@firebase/installations",pD="@firebase/installations-compat",mD="@firebase/messaging",gD="@firebase/messaging-compat",yD="@firebase/performance",vD="@firebase/performance-compat",_D="@firebase/remote-config",wD="@firebase/remote-config-compat",ED="@firebase/storage",TD="@firebase/storage-compat",xD="@firebase/firestore",ID="@firebase/ai",SD="@firebase/firestore-compat",CD="firebase",AD="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",RD={[Op]:"fire-core",[tD]:"fire-core-compat",[rD]:"fire-analytics",[nD]:"fire-analytics-compat",[sD]:"fire-app-check",[iD]:"fire-app-check-compat",[oD]:"fire-auth",[aD]:"fire-auth-compat",[lD]:"fire-rtdb",[uD]:"fire-data-connect",[cD]:"fire-rtdb-compat",[hD]:"fire-fn",[dD]:"fire-fn-compat",[fD]:"fire-iid",[pD]:"fire-iid-compat",[mD]:"fire-fcm",[gD]:"fire-fcm-compat",[yD]:"fire-perf",[vD]:"fire-perf-compat",[_D]:"fire-rc",[wD]:"fire-rc-compat",[ED]:"fire-gcs",[TD]:"fire-gcs-compat",[xD]:"fire-fst",[SD]:"fire-fst-compat",[ID]:"fire-vertex","fire-js":"fire-js",[CD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,PD=new Map,Lp=new Map;function u_(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){const e=t.name;if(Lp.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(const n of eh.values())u_(n,t);for(const n of PD.values())u_(n,t);return!0}function Uh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new Gl("app","Firebase",bD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=AD;function Bx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ci.create("bad-app-name",{appName:String(i)});if(n||(n=Vx()),!n)throw ci.create("no-options");const s=eh.get(i);if(s){if(ds(n,s.options)&&ds(r,s.config))return s;throw ci.create("duplicate-app",{appName:i})}const o=new VO(i);for(const u of Lp.values())o.addComponent(u);const a=new kD(n,r,o);return eh.set(i,a),a}function bg(t=Dp){const e=eh.get(t);if(!e&&t===Dp&&Vx())return Bx();if(!e)throw ci.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let i=(r=RD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}fs(new _i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",OD=1,Cl="firebase-heartbeat-store";let hf=null;function $x(){return hf||(hf=XO(ND,OD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),hf}async function DD(t){try{const n=(await $x()).transaction(Cl),r=await n.objectStore(Cl).get(Hx(t));return await n.done,r}catch(e){if(e instanceof tr)Er.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function c_(t,e){try{const r=(await $x()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,Hx(t)),await r.done}catch(n){if(n instanceof tr)Er.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(r.message)}}}function Hx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1024,MD=30;class VD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>MD){const o=UD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h_(),{heartbeatsToSend:r,unsentEntries:i}=FD(this._heartbeatsCache.heartbeats),s=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Er.warn(n),""}}}function h_(){return new Date().toISOString().substring(0,10)}function FD(t,e=LD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),d_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SO()?CO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function d_(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}function UD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){fs(new _i("platform-logger",e=>new ZO(e),"PRIVATE")),fs(new _i("heartbeat",e=>new VD(e),"PRIVATE")),Wn(Op,l_,t),Wn(Op,l_,"esm2017"),Wn("fire-js","")}zD("");function kg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BD=qx,Wx=new Gl("auth","Firebase",qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Rg("@firebase/auth");function $D(t,...e){th.logLevel<=le.WARN&&th.warn(`Auth (${_s}): ${t}`,...e)}function pc(t,...e){th.logLevel<=le.ERROR&&th.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw Ng(t,...e)}function Kn(t,...e){return Ng(t,...e)}function Kx(t,e,n){const r=Object.assign(Object.assign({},BD()),{[e]:n});return new Gl("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return Kx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wx.create(t,...e)}function Y(t,e,...n){if(!t)throw Ng(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pc(e),new Error(e)}function Tr(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HD(){return f_()==="http:"||f_()==="https:"}function f_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HD()||EO()||"connection"in navigator)?navigator.onLine:!0}function WD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=vO()||TO()}get(){return qD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){Tr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QD=new Xl(3e4,6e4);function ws(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return Qx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ql(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return wO()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&bi(t.emulatorConfig.host)&&(c.credentials="include"),Gx.fetch()(await Xx(t,t.config.apiHost,n,a),c)})}async function Qx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KD),e);try{const i=new YD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw qu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Kx(t,h,c);Nn(t,h)}}catch(i){if(i instanceof tr)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function zh(t,e,n,r,i={}){const s=await ki(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Xx(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Og(t.config,i):`${t.config.apiScheme}://${i}`;return GD.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function XD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),QD.get())})}}function qu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(t,e,r);return i.customData._tokenResponse=n,i}function p_(t){return t!==void 0&&t.enterprise!==void 0}class JD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZD(t,e){return ki(t,"GET","/v2/recaptchaConfig",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function nh(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tL(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=Dg(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Za(df(i.auth_time)),issuedAtTime:Za(df(i.iat)),expirationTime:Za(df(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function df(t){return Number(t)*1e3}function Dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dx(n);return i?JSON.parse(i):(pc("Failed to decode base64 JWT payload"),null)}catch(i){return pc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function m_(t){const e=Dg(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&nL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Al(t,nh(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yx(s.providerUserInfo):[],a=sL(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function iL(t){const e=Tt(t);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yx(t){return t.map(e=>{var{providerId:n}=e,r=kg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){const n=await Qx(t,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Xx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&bi(t.emulatorConfig.host)&&(u.credentials="include"),Gx.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aL(t,e){return ki(t,"POST","/v2/accounts:revokeToken",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=m_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ro;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Al(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tL(this,e)}reload(){return iL(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Al(this,eL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:k,isAnonymous:M,providerData:V,stsTokenManager:_}=n;Y(C&&_,e,"internal-error");const E=ro.fromJSON(this.name,_);Y(typeof C=="string",e,"internal-error"),Or(f,e.name),Or(p,e.name),Y(typeof k=="boolean",e,"internal-error"),Y(typeof M=="boolean",e,"internal-error"),Or(y,e.name),Or(x,e.name),Or(T,e.name),Or(S,e.name),Or(v,e.name),Or(w,e.name);const A=new Cn({uid:C,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:M,photoURL:x,phoneNumber:y,tenantId:T,stsTokenManager:E,createdAt:v,lastLoginAt:w});return V&&Array.isArray(V)&&(A.providerData=V.map(R=>Object.assign({},R))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ro;i.updateFromServerResponse(n);const s=new Cn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Yx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ro;a.updateFromIdToken(r);const u=new Cn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Vp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;function fr(t){Tr(t instanceof Function,"Expected a class definition");let e=g_.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jx.type="NONE";const y_=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mc(this.userKey,i.apiKey,s),this.fullPersistenceKey=mc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nh(this.auth,{idToken:e}).catch(()=>{});return n?Cn._fromGetAccountInfoResponse(this.auth,n,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new io(fr(y_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fr(y_);const o=mc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const p=await nh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Cn._fromGetAccountInfoResponse(e,p,h)}else f=Cn._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new io(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iI(e))return"Blackberry";if(sI(e))return"Webos";if(eI(e))return"Safari";if((e.includes("chrome/")||tI(e))&&!e.includes("edge/"))return"Chrome";if(rI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zx(t=Et()){return/firefox\//i.test(t)}function eI(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tI(t=Et()){return/crios\//i.test(t)}function nI(t=Et()){return/iemobile/i.test(t)}function rI(t=Et()){return/android/i.test(t)}function iI(t=Et()){return/blackberry/i.test(t)}function sI(t=Et()){return/webos/i.test(t)}function Lg(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lL(t=Et()){var e;return Lg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uL(){return xO()&&document.documentMode===10}function oI(t=Et()){return Lg(t)||rI(t)||sI(t)||iI(t)||/windows phone/i.test(t)||nI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e=[]){let n;switch(t){case"Browser":n=v_(Et());break;case"Worker":n=`${v_(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return ki(t,"GET","/v2/passwordPolicy",ws(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=6;class fL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new cL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nh(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(hi(this));const n=e?Tt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),n=new fL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$D(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yo(t){return Tt(t)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=kO(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mL(t){Bh=t}function lI(t){return Bh.loadJS(t)}function gL(){return Bh.recaptchaEnterpriseScript}function yL(){return Bh.gapiScript}function vL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _L{constructor(){this.enterprise=new wL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EL="recaptcha-enterprise",uI="NO_RECAPTCHA";class TL{constructor(e){this.type=EL,this.auth=Yo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new JD(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;p_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _L().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&p_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=gL();u.length!==0&&(u+=a),lI(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function w_(t,e,n,r=!1,i=!1){const s=new TL(t);let o;if(i)o=uI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function E_(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await w_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await w_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e){const n=Uh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ds(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function IL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function SL(t,e,n){const r=Yo(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=cI(e),{host:o,port:a}=CL(e),u=a===null?"":`:${a}`,c={url:`${s}//${o}${u}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(ds(c,r.config.emulator)&&ds(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,bi(o)?(Cg(`${s}//${o}${u}`),Ag("Auth",!0)):AL()}function cI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CL(t){const e=cI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T_(o)}}}function T_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function RL(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){return zh(t,"POST","/v1/accounts:signInWithPassword",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}async function kL(t,e){return zh(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Mg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,n,"signInWithPassword",PL);case"emailLink":return bL(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,r,"signUpPassword",RL);case"emailLink":return kL(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t,e){return zh(t,"POST","/v1/accounts:signInWithIdp",ws(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="http://localhost";class ps extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=kg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,so(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:NL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DL(t){const e=Va(Fa(t)).link,n=e?Va(Fa(e)).deep_link_id:null,r=Va(Fa(t)).deep_link_id;return(r?Va(Fa(r)).link:null)||r||n||e||t}class Vg{constructor(e){var n,r,i,s,o,a;const u=Va(Fa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=OL((i=u.mode)!==null&&i!==void 0?i:null);Y(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=DL(e);try{return new Vg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vg.parseLink(n);return Y(r,"argument-error"),Rl._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends hI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Yl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Yl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Yl{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cn._fromIdTokenResponse(e,r,i),o=x_(r);return new Mo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x_(r);return new Mo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ih(e,n,r,i)}}function dI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(t,s,e,r):s})}async function LL(t,e,n=!1){const r=await Al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const s=await Al(t,dI(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=Dg(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e,n=!1){if(an(t.app))return Promise.reject(hi(t));const r="signIn",i=await dI(t,r,e),s=await Mo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function VL(t,e){return fI(Yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t){const e=Yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function jL(t,e,n){return an(t.app)?Promise.reject(hi(t)):VL(Tt(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FL(t),r})}function UL(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function zL(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function pI(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function BL(t){return Tt(t).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=1e3,HL=10;class gI extends mI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);uL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gI.type="LOCAL";const qL=gI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends mI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yI.type="SESSION";const vI=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await WL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Fg("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function GL(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function QL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YL(){return _I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",JL=1,oh="firebaseLocalStorage",EI="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(t,e){return t.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function ZL(){const t=indexedDB.deleteDatabase(wI);return new Jl(t).toPromise()}function Fp(){const t=indexedDB.open(wI,JL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(oh,{keyPath:EI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(oh)?e(r):(r.close(),await ZL(),e(await Fp()))})})}async function I_(t,e,n){const r=Hh(t,!0).put({[EI]:e,value:n});return new Jl(r).toPromise()}async function e4(t,e){const n=Hh(t,!1).get(e),r=await new Jl(n).toPromise();return r===void 0?null:r.value}function S_(t,e){const n=Hh(t,!0).delete(e);return new Jl(n).toPromise()}const t4=800,n4=3;class TI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(YL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QL(),!this.activeServiceWorker)return;this.sender=new KL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await I_(e,sh,"1"),await S_(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>I_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hh(i,!1).getAll();return new Jl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TI.type="LOCAL";const r4=TI;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){return e?fr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s4(t){return fI(t.auth,new jg(t),t.bypassAuthState)}function o4(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),ML(n,new jg(t),t.bypassAuthState)}async function a4(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),LL(n,new jg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s4;case"linkViaPopup":case"linkViaRedirect":return a4;case"reauthViaPopup":case"reauthViaRedirect":return o4;default:Nn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new Xl(2e3,1e4);class Ks extends xI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l4.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="pendingRedirect",gc=new Map;class c4 extends xI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gc.get(this.auth._key());if(!e){try{const r=await h4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gc.set(this.auth._key(),e)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h4(t,e){const n=p4(e),r=f4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d4(t,e){gc.set(t._key(),e)}function f4(t){return fr(t._redirectPersistence)}function p4(t){return mc(u4,t.config.apiKey,t.name)}async function m4(t,e,n=!1){if(an(t.app))return Promise.reject(hi(t));const r=Yo(t),i=i4(r,e),o=await new c4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=10*60*1e3;class y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!II(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g4&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function II({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;async function T4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _4(t);for(const n of e)try{if(x4(n))return}catch{}Nn(t,"unauthorized-domain")}function x4(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E4.test(n))return!1;if(w4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=new Xl(3e4,6e4);function A_(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S4(t){return new Promise((e,n)=>{var r,i,s;function o(){A_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A_(),n(Kn(t,"network-request-failed"))},timeout:I4.get()})}if(!((i=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gn().gapi)===null||s===void 0)&&s.load)o();else{const a=vL("iframefcb");return Gn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},lI(`${yL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw yc=null,e})}let yc=null;function C4(t){return yc=yc||S4(t),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Xl(5e3,15e3),R4="__/auth/iframe",P4="emulator/auth/iframe",b4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N4(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,P4):`https://${t.config.authDomain}/${R4}`,r={apiKey:e.apiKey,appName:t.name,v:_s},i=k4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ql(r).slice(1)}`}async function O4(t){const e=await C4(t),n=Gn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:N4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b4,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=Gn().setTimeout(()=>{s(o)},A4.get());function u(){Gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,M4=600,V4="_blank",F4="http://localhost";class R_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j4(t,e,n,r=L4,i=M4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},D4),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(a=tI(c)?V4:n),Zx(c)&&(e=e||F4,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(lL(c)&&a!=="_self")return U4(e||"",a),new R_(null);const f=window.open(e||"",a,h);Y(f,t,"popup-blocked");try{f.focus()}catch{}return new R_(f)}function U4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="__/auth/handler",B4="emulator/auth/handler",$4=encodeURIComponent("fac");async function P_(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:i};if(e instanceof hI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Yl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${$4}=${encodeURIComponent(u)}`:"";return`${H4(t)}?${Ql(a).slice(1)}${c}`}function H4({config:t}){return t.emulator?Og(t,B4):`https://${t.authDomain}/${z4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class q4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vI,this._completeRedirectFn=m4,this._overrideRedirectResult=d4}async _openPopup(e,n,r,i){var s;Tr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await P_(e,n,r,Mp(),i);return j4(e,o,Fg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await P_(e,n,r,Mp(),i);return GL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O4(e),r=new y4(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ff,{type:ff},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ff];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oI()||eI()||Lg()}}const W4=q4;var b_="@firebase/auth",k_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q4(t){fs(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aI(t)},c=new pL(r,i,s,u);return IL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fs(new _i("auth-internal",e=>{const n=Yo(e.getProvider("auth").getImmediate());return(r=>new K4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(b_,k_,G4(t)),Wn(b_,k_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=5*60,Y4=Fx("authIdTokenMaxAge")||X4;let N_=null;const J4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y4)return;const i=n==null?void 0:n.token;N_!==i&&(N_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SI(t=bg()){const e=Uh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xL(t,{popupRedirectResolver:W4,persistence:[r4,qL,vI]}),r=Fx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=J4(s.toString());zL(n,o,()=>o(n.currentUser)),UL(n,a=>o(a))}}const i=Lx("auth");return i&&SL(n,`http://${i}`),n}function Z4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Z4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q4("Browser");var eM="firebase",tM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(eM,tM,"app");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,CI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,E){function A(){}A.prototype=E.prototype,_.D=E.prototype,_.prototype=new A,_.prototype.constructor=_,_.C=function(R,N,O){for(var b=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)b[Z-2]=arguments[Z];return E.prototype[N].apply(R,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,E,A){A||(A=0);var R=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)R[N]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(N=0;16>N;++N)R[N]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=_.g[0],A=_.g[1],N=_.g[2];var O=_.g[3],b=E+(O^A&(N^O))+R[0]+3614090360&4294967295;E=A+(b<<7&4294967295|b>>>25),b=O+(N^E&(A^N))+R[1]+3905402710&4294967295,O=E+(b<<12&4294967295|b>>>20),b=N+(A^O&(E^A))+R[2]+606105819&4294967295,N=O+(b<<17&4294967295|b>>>15),b=A+(E^N&(O^E))+R[3]+3250441966&4294967295,A=N+(b<<22&4294967295|b>>>10),b=E+(O^A&(N^O))+R[4]+4118548399&4294967295,E=A+(b<<7&4294967295|b>>>25),b=O+(N^E&(A^N))+R[5]+1200080426&4294967295,O=E+(b<<12&4294967295|b>>>20),b=N+(A^O&(E^A))+R[6]+2821735955&4294967295,N=O+(b<<17&4294967295|b>>>15),b=A+(E^N&(O^E))+R[7]+4249261313&4294967295,A=N+(b<<22&4294967295|b>>>10),b=E+(O^A&(N^O))+R[8]+1770035416&4294967295,E=A+(b<<7&4294967295|b>>>25),b=O+(N^E&(A^N))+R[9]+2336552879&4294967295,O=E+(b<<12&4294967295|b>>>20),b=N+(A^O&(E^A))+R[10]+4294925233&4294967295,N=O+(b<<17&4294967295|b>>>15),b=A+(E^N&(O^E))+R[11]+2304563134&4294967295,A=N+(b<<22&4294967295|b>>>10),b=E+(O^A&(N^O))+R[12]+1804603682&4294967295,E=A+(b<<7&4294967295|b>>>25),b=O+(N^E&(A^N))+R[13]+4254626195&4294967295,O=E+(b<<12&4294967295|b>>>20),b=N+(A^O&(E^A))+R[14]+2792965006&4294967295,N=O+(b<<17&4294967295|b>>>15),b=A+(E^N&(O^E))+R[15]+1236535329&4294967295,A=N+(b<<22&4294967295|b>>>10),b=E+(N^O&(A^N))+R[1]+4129170786&4294967295,E=A+(b<<5&4294967295|b>>>27),b=O+(A^N&(E^A))+R[6]+3225465664&4294967295,O=E+(b<<9&4294967295|b>>>23),b=N+(E^A&(O^E))+R[11]+643717713&4294967295,N=O+(b<<14&4294967295|b>>>18),b=A+(O^E&(N^O))+R[0]+3921069994&4294967295,A=N+(b<<20&4294967295|b>>>12),b=E+(N^O&(A^N))+R[5]+3593408605&4294967295,E=A+(b<<5&4294967295|b>>>27),b=O+(A^N&(E^A))+R[10]+38016083&4294967295,O=E+(b<<9&4294967295|b>>>23),b=N+(E^A&(O^E))+R[15]+3634488961&4294967295,N=O+(b<<14&4294967295|b>>>18),b=A+(O^E&(N^O))+R[4]+3889429448&4294967295,A=N+(b<<20&4294967295|b>>>12),b=E+(N^O&(A^N))+R[9]+568446438&4294967295,E=A+(b<<5&4294967295|b>>>27),b=O+(A^N&(E^A))+R[14]+3275163606&4294967295,O=E+(b<<9&4294967295|b>>>23),b=N+(E^A&(O^E))+R[3]+4107603335&4294967295,N=O+(b<<14&4294967295|b>>>18),b=A+(O^E&(N^O))+R[8]+1163531501&4294967295,A=N+(b<<20&4294967295|b>>>12),b=E+(N^O&(A^N))+R[13]+2850285829&4294967295,E=A+(b<<5&4294967295|b>>>27),b=O+(A^N&(E^A))+R[2]+4243563512&4294967295,O=E+(b<<9&4294967295|b>>>23),b=N+(E^A&(O^E))+R[7]+1735328473&4294967295,N=O+(b<<14&4294967295|b>>>18),b=A+(O^E&(N^O))+R[12]+2368359562&4294967295,A=N+(b<<20&4294967295|b>>>12),b=E+(A^N^O)+R[5]+4294588738&4294967295,E=A+(b<<4&4294967295|b>>>28),b=O+(E^A^N)+R[8]+2272392833&4294967295,O=E+(b<<11&4294967295|b>>>21),b=N+(O^E^A)+R[11]+1839030562&4294967295,N=O+(b<<16&4294967295|b>>>16),b=A+(N^O^E)+R[14]+4259657740&4294967295,A=N+(b<<23&4294967295|b>>>9),b=E+(A^N^O)+R[1]+2763975236&4294967295,E=A+(b<<4&4294967295|b>>>28),b=O+(E^A^N)+R[4]+1272893353&4294967295,O=E+(b<<11&4294967295|b>>>21),b=N+(O^E^A)+R[7]+4139469664&4294967295,N=O+(b<<16&4294967295|b>>>16),b=A+(N^O^E)+R[10]+3200236656&4294967295,A=N+(b<<23&4294967295|b>>>9),b=E+(A^N^O)+R[13]+681279174&4294967295,E=A+(b<<4&4294967295|b>>>28),b=O+(E^A^N)+R[0]+3936430074&4294967295,O=E+(b<<11&4294967295|b>>>21),b=N+(O^E^A)+R[3]+3572445317&4294967295,N=O+(b<<16&4294967295|b>>>16),b=A+(N^O^E)+R[6]+76029189&4294967295,A=N+(b<<23&4294967295|b>>>9),b=E+(A^N^O)+R[9]+3654602809&4294967295,E=A+(b<<4&4294967295|b>>>28),b=O+(E^A^N)+R[12]+3873151461&4294967295,O=E+(b<<11&4294967295|b>>>21),b=N+(O^E^A)+R[15]+530742520&4294967295,N=O+(b<<16&4294967295|b>>>16),b=A+(N^O^E)+R[2]+3299628645&4294967295,A=N+(b<<23&4294967295|b>>>9),b=E+(N^(A|~O))+R[0]+4096336452&4294967295,E=A+(b<<6&4294967295|b>>>26),b=O+(A^(E|~N))+R[7]+1126891415&4294967295,O=E+(b<<10&4294967295|b>>>22),b=N+(E^(O|~A))+R[14]+2878612391&4294967295,N=O+(b<<15&4294967295|b>>>17),b=A+(O^(N|~E))+R[5]+4237533241&4294967295,A=N+(b<<21&4294967295|b>>>11),b=E+(N^(A|~O))+R[12]+1700485571&4294967295,E=A+(b<<6&4294967295|b>>>26),b=O+(A^(E|~N))+R[3]+2399980690&4294967295,O=E+(b<<10&4294967295|b>>>22),b=N+(E^(O|~A))+R[10]+4293915773&4294967295,N=O+(b<<15&4294967295|b>>>17),b=A+(O^(N|~E))+R[1]+2240044497&4294967295,A=N+(b<<21&4294967295|b>>>11),b=E+(N^(A|~O))+R[8]+1873313359&4294967295,E=A+(b<<6&4294967295|b>>>26),b=O+(A^(E|~N))+R[15]+4264355552&4294967295,O=E+(b<<10&4294967295|b>>>22),b=N+(E^(O|~A))+R[6]+2734768916&4294967295,N=O+(b<<15&4294967295|b>>>17),b=A+(O^(N|~E))+R[13]+1309151649&4294967295,A=N+(b<<21&4294967295|b>>>11),b=E+(N^(A|~O))+R[4]+4149444226&4294967295,E=A+(b<<6&4294967295|b>>>26),b=O+(A^(E|~N))+R[11]+3174756917&4294967295,O=E+(b<<10&4294967295|b>>>22),b=N+(E^(O|~A))+R[2]+718787259&4294967295,N=O+(b<<15&4294967295|b>>>17),b=A+(O^(N|~E))+R[9]+3951481745&4294967295,_.g[0]=_.g[0]+E&4294967295,_.g[1]=_.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,_.g[2]=_.g[2]+N&4294967295,_.g[3]=_.g[3]+O&4294967295}r.prototype.u=function(_,E){E===void 0&&(E=_.length);for(var A=E-this.blockSize,R=this.B,N=this.h,O=0;O<E;){if(N==0)for(;O<=A;)i(this,_,O),O+=this.blockSize;if(typeof _=="string"){for(;O<E;)if(R[N++]=_.charCodeAt(O++),N==this.blockSize){i(this,R),N=0;break}}else for(;O<E;)if(R[N++]=_[O++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var E=1;E<_.length-8;++E)_[E]=0;var A=8*this.o;for(E=_.length-8;E<_.length;++E)_[E]=A&255,A/=256;for(this.u(_),_=Array(16),E=A=0;4>E;++E)for(var R=0;32>R;R+=8)_[A++]=this.g[E]>>>R&255;return _};function s(_,E){var A=a;return Object.prototype.hasOwnProperty.call(A,_)?A[_]:A[_]=E(_)}function o(_,E){this.h=E;for(var A=[],R=!0,N=_.length-1;0<=N;N--){var O=_[N]|0;R&&O==E||(A[N]=O,R=!1)}this.g=A}var a={};function u(_){return-128<=_&&128>_?s(_,function(E){return new o([E|0],0>E?-1:0)}):new o([_|0],0>_?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return f;if(0>_)return S(c(-_));for(var E=[],A=1,R=0;_>=A;R++)E[R]=_/A|0,A*=4294967296;return new o(E,0)}function h(_,E){if(_.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_.charAt(0)=="-")return S(h(_.substring(1),E));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(E,8)),R=f,N=0;N<_.length;N+=8){var O=Math.min(8,_.length-N),b=parseInt(_.substring(N,N+O),E);8>O?(O=c(Math.pow(E,O)),R=R.j(O).add(c(b))):(R=R.j(A),R=R.add(c(b)))}return R}var f=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();for(var _=0,E=1,A=0;A<this.g.length;A++){var R=this.i(A);_+=(0<=R?R:4294967296+R)*E,E*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x(this))return"0";if(T(this))return"-"+S(this).toString(_);for(var E=c(Math.pow(_,6)),A=this,R="";;){var N=k(A,E).g;A=v(A,N.j(E));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(_);if(A=N,x(A))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function x(_){if(_.h!=0)return!1;for(var E=0;E<_.g.length;E++)if(_.g[E]!=0)return!1;return!0}function T(_){return _.h==-1}t.l=function(_){return _=v(this,_),T(_)?-1:x(_)?0:1};function S(_){for(var E=_.g.length,A=[],R=0;R<E;R++)A[R]=~_.g[R];return new o(A,~_.h).add(p)}t.abs=function(){return T(this)?S(this):this},t.add=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],R=0,N=0;N<=E;N++){var O=R+(this.i(N)&65535)+(_.i(N)&65535),b=(O>>>16)+(this.i(N)>>>16)+(_.i(N)>>>16);R=b>>>16,O&=65535,b&=65535,A[N]=b<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(_,E){return _.add(S(E))}t.j=function(_){if(x(this)||x(_))return f;if(T(this))return T(_)?S(this).j(S(_)):S(S(this).j(_));if(T(_))return S(this.j(S(_)));if(0>this.l(y)&&0>_.l(y))return c(this.m()*_.m());for(var E=this.g.length+_.g.length,A=[],R=0;R<2*E;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<_.g.length;N++){var O=this.i(R)>>>16,b=this.i(R)&65535,Z=_.i(N)>>>16,ge=_.i(N)&65535;A[2*R+2*N]+=b*ge,w(A,2*R+2*N),A[2*R+2*N+1]+=O*ge,w(A,2*R+2*N+1),A[2*R+2*N+1]+=b*Z,w(A,2*R+2*N+1),A[2*R+2*N+2]+=O*Z,w(A,2*R+2*N+2)}for(R=0;R<E;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=E;R<2*E;R++)A[R]=0;return new o(A,0)};function w(_,E){for(;(_[E]&65535)!=_[E];)_[E+1]+=_[E]>>>16,_[E]&=65535,E++}function C(_,E){this.g=_,this.h=E}function k(_,E){if(x(E))throw Error("division by zero");if(x(_))return new C(f,f);if(T(_))return E=k(S(_),E),new C(S(E.g),S(E.h));if(T(E))return E=k(_,S(E)),new C(S(E.g),E.h);if(30<_.g.length){if(T(_)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=E;0>=R.l(_);)A=M(A),R=M(R);var N=V(A,1),O=V(R,1);for(R=V(R,2),A=V(A,2);!x(R);){var b=O.add(R);0>=b.l(_)&&(N=N.add(A),O=b),R=V(R,1),A=V(A,1)}return E=v(_,N.j(E)),new C(N,E)}for(N=f;0<=_.l(E);){for(A=Math.max(1,Math.floor(_.m()/E.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(A),b=O.j(E);T(b)||0<b.l(_);)A-=R,O=c(A),b=O.j(E);x(O)&&(O=p),N=N.add(O),_=v(_,b)}return new C(N,_)}t.A=function(_){return k(this,_).h},t.and=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)&_.i(R);return new o(A,this.h&_.h)},t.or=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)|_.i(R);return new o(A,this.h|_.h)},t.xor=function(_){for(var E=Math.max(this.g.length,_.g.length),A=[],R=0;R<E;R++)A[R]=this.i(R)^_.i(R);return new o(A,this.h^_.h)};function M(_){for(var E=_.g.length+1,A=[],R=0;R<E;R++)A[R]=_.i(R)<<1|_.i(R-1)>>>31;return new o(A,_.h)}function V(_,E){var A=E>>5;E%=32;for(var R=_.g.length-A,N=[],O=0;O<R;O++)N[O]=0<E?_.i(O+A)>>>E|_.i(O+A+1)<<32-E:_.i(O+A);return new o(N,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,di=o}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AI,ja,RI,vc,jp,PI,bI,kI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var L=l[I];if(!(L in m))break e;m=m[L]}l=l[l.length-1],I=m[l],d=d(I),d!=I&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var m=0,I=!1,L={next:function(){if(!I&&m<l.length){var F=m++;return{value:d(F,l[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function f(l,d,m){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function p(l,d,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function x(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(I,L,F){for(var $=Array(arguments.length-2),we=2;we<arguments.length;we++)$[we-2]=arguments[we];return d.prototype[L].apply(I,$)}}function T(l){const d=l.length;if(0<d){const m=Array(d);for(let I=0;I<d;I++)m[I]=l[I];return m}return[]}function S(l,d){for(let m=1;m<arguments.length;m++){const I=arguments[m];if(u(I)){const L=l.length||0,F=I.length||0;l.length=L+F;for(let $=0;$<F;$++)l[L+$]=I[$]}else l.push(I)}}class v{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function w(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var M=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function V(l,d,m){for(const I in l)d.call(m,l[I],I,l)}function _(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function E(l){const d={};for(const m in l)d[m]=l[m];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,d){let m,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(m in I)l[m]=I[m];for(let F=0;F<A.length;F++)m=A[F],Object.prototype.hasOwnProperty.call(I,m)&&(l[m]=I[m])}}function N(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function b(){var l=H;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Z{constructor(){this.h=this.g=null}add(d,m){const I=ge.get();I.set(d,m),this.h?this.h.next=I:this.g=I,this.h=I}}var ge=new v(()=>new ie,l=>l.reset());class ie{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,j=!1,H=new Z,Q=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(se)}};var se=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(m){O(m)}var d=ge;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}j=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var gn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function yn(l,d){if(be.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(M){e:{try{k(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:vn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&yn.aa.h.call(this)}}x(yn,be);var vn={2:"touch",3:"pen",4:"mouse"};yn.prototype.h=function(){yn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var tn="closure_listenable_"+(1e6*Math.random()|0),su=0;function ou(l,d,m,I,L){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!I,this.ha=L,this.key=++su,this.da=this.fa=!1}function Ni(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Oi(l){this.src=l,this.g={},this.h=0}Oi.prototype.add=function(l,d,m,I,L){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var $=nr(l,d,I,L);return-1<$?(d=l[$],m||(d.fa=!1)):(d=new ou(d,this.src,F,!!I,L),d.fa=m,l.push(d)),d};function xs(l,d){var m=d.type;if(m in l.g){var I=l.g[m],L=Array.prototype.indexOf.call(I,d,void 0),F;(F=0<=L)&&Array.prototype.splice.call(I,L,1),F&&(Ni(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function nr(l,d,m,I){for(var L=0;L<l.length;++L){var F=l[L];if(!F.da&&F.listener==d&&F.capture==!!m&&F.ha==I)return L}return-1}var Is="closure_lm_"+(1e6*Math.random()|0),aa={};function au(l,d,m,I,L){if(Array.isArray(d)){for(var F=0;F<d.length;F++)au(l,d[F],m,I,L);return null}return m=Ey(m),l&&l[tn]?l.K(d,m,c(I)?!!I.capture:!!I,L):ad(l,d,m,!1,I,L)}function ad(l,d,m,I,L,F){if(!d)throw Error("Invalid event type");var $=c(L)?!!L.capture:!!L,we=cd(l);if(we||(l[Is]=we=new Oi(l)),m=we.add(d,m,I,$,F),m.proxy)return m;if(I=ld(),m.proxy=I,I.src=l,I.listener=m,l.addEventListener)gn||(L=$),L===void 0&&(L=!1),l.addEventListener(d.toString(),I,L);else if(l.attachEvent)l.attachEvent(wy(d.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ld(){function l(m){return d.call(l.src,l.listener,m)}const d=qC;return l}function Di(l,d,m,I,L){if(Array.isArray(d))for(var F=0;F<d.length;F++)Di(l,d[F],m,I,L);else I=c(I)?!!I.capture:!!I,m=Ey(m),l&&l[tn]?(l=l.i,d=String(d).toString(),d in l.g&&(F=l.g[d],m=nr(F,m,I,L),-1<m&&(Ni(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete l.g[d],l.h--)))):l&&(l=cd(l))&&(d=l.g[d.toString()],l=-1,d&&(l=nr(d,m,I,L)),(m=-1<l?d[l]:null)&&ud(m))}function ud(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[tn])xs(d.i,l);else{var m=l.type,I=l.proxy;d.removeEventListener?d.removeEventListener(m,I,l.capture):d.detachEvent?d.detachEvent(wy(m),I):d.addListener&&d.removeListener&&d.removeListener(I),(m=cd(d))?(xs(m,l),m.h==0&&(m.src=null,d[Is]=null)):Ni(l)}}}function wy(l){return l in aa?aa[l]:aa[l]="on"+l}function qC(l,d){if(l.da)l=!0;else{d=new yn(d,this);var m=l.listener,I=l.ha||l.src;l.fa&&ud(l),l=m.call(I,d)}return l}function cd(l){return l=l[Is],l instanceof Oi?l:null}var hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ey(l){return typeof l=="function"?l:(l[hd]||(l[hd]=function(d){return l.handleEvent(d)}),l[hd])}function ut(){ve.call(this),this.i=new Oi(this),this.M=this,this.F=null}x(ut,ve),ut.prototype[tn]=!0,ut.prototype.removeEventListener=function(l,d,m,I){Di(this,l,d,m,I)};function It(l,d){var m,I=l.F;if(I)for(m=[];I;I=I.F)m.push(I);if(l=l.M,I=d.type||d,typeof d=="string")d=new be(d,l);else if(d instanceof be)d.target=d.target||l;else{var L=d;d=new be(I,l),R(d,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var $=d.g=m[F];L=lu($,I,!0,d)&&L}if($=d.g=l,L=lu($,I,!0,d)&&L,L=lu($,I,!1,d)&&L,m)for(F=0;F<m.length;F++)$=d.g=m[F],L=lu($,I,!1,d)&&L}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],I=0;I<m.length;I++)Ni(m[I]);delete l.g[d],l.h--}}this.F=null},ut.prototype.K=function(l,d,m,I){return this.i.add(String(l),d,!1,m,I)},ut.prototype.L=function(l,d,m,I){return this.i.add(String(l),d,!0,m,I)};function lu(l,d,m,I){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,F=0;F<d.length;++F){var $=d[F];if($&&!$.da&&$.capture==m){var we=$.listener,tt=$.ha||$.src;$.fa&&xs(l.i,$),L=we.call(tt,I)!==!1&&L}}return L&&!I.defaultPrevented}function Ty(l,d,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function xy(l){l.g=Ty(()=>{l.g=null,l.i&&(l.i=!1,xy(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class WC extends ve{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(l){ve.call(this),this.h=l,this.g={}}x(la,ve);var Iy=[];function Sy(l){V(l.g,function(d,m){this.g.hasOwnProperty(m)&&ud(d)},l),l.g={}}la.prototype.N=function(){la.aa.N.call(this),Sy(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dd=a.JSON.stringify,KC=a.JSON.parse,GC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function fd(){}fd.prototype.h=null;function Cy(l){return l.h||(l.h=l.i())}function Ay(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pd(){be.call(this,"d")}x(pd,be);function md(){be.call(this,"c")}x(md,be);var Li={},Ry=null;function uu(){return Ry=Ry||new ut}Li.La="serverreachability";function Py(l){be.call(this,Li.La,l)}x(Py,be);function ca(l){const d=uu();It(d,new Py(d))}Li.STAT_EVENT="statevent";function by(l,d){be.call(this,Li.STAT_EVENT,l),this.stat=d}x(by,be);function St(l){const d=uu();It(d,new by(d,l))}Li.Ma="timingevent";function ky(l,d){be.call(this,Li.Ma,l),this.size=d}x(ky,be);function ha(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function QC(l,d,m,I,L,F){l.info(function(){if(l.g)if(F)for(var $="",we=F.split("&"),tt=0;tt<we.length;tt++){var me=we[tt].split("=");if(1<me.length){var ct=me[0];me=me[1];var ht=ct.split("_");$=2<=ht.length&&ht[1]=="type"?$+(ct+"="+me+"&"):$+(ct+"=redacted&")}}else $=null;else $=F;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+d+`
`+m+`
`+$})}function XC(l,d,m,I,L,F,$){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+d+`
`+m+`
`+F+" "+$})}function Ss(l,d,m,I){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+JC(l,m)+(I?" "+I:"")})}function YC(l,d){l.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function JC(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var I=m[l];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return dd(m)}catch{return d}}var cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ny={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gd;function hu(){}x(hu,fd),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},gd=new hu;function Cr(l,d,m,I){this.j=l,this.i=d,this.l=m,this.R=I||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oy}function Oy(){this.i=null,this.g="",this.h=!1}var Dy={},yd={};function vd(l,d,m){l.L=1,l.v=mu(rr(d)),l.m=m,l.P=!0,Ly(l,null)}function Ly(l,d){l.F=Date.now(),du(l),l.A=rr(l.v);var m=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),Qy(m.i,"t",I),l.C=0,m=l.j.J,l.h=new Oy,l.g=fv(l.j,m?d:null,!l.m),0<l.O&&(l.M=new WC(p(l.Y,l,l.g),l.O)),d=l.U,m=l.g,I=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Iy[0]=L.toString()),L=Iy);for(var F=0;F<L.length;F++){var $=au(m,L[F],I||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ca(),QC(l.i,l.u,l.A,l.l,l.R,l.m)}Cr.prototype.ca=function(l){l=l.target;const d=this.M;d&&ir(l)==3?d.j():this.Y(l)},Cr.prototype.Y=function(l){try{if(l==this.g)e:{const ht=ir(this.g);var d=this.g.Ba();const Rs=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||nv(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Rs?ca(3):ca(2)),_d(this);var m=this.g.Z();this.X=m;t:if(My(this)){var I=nv(this.g);l="";var L=I.length,F=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),fa(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(I[d],{stream:!(F&&d==L-1)});I.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,XC(this.i,this.u,this.A,this.l,this.R,ht,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,tt=this.g;if((we=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(we)){var me=we;break t}}me=null}if(m=me)Ss(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wd(this,m);else{this.o=!1,this.s=3,St(12),Mi(this),fa(this);break e}}if(this.P){m=!0;let _n;for(;!this.J&&this.C<$.length;)if(_n=ZC(this,$),_n==yd){ht==4&&(this.s=4,St(14),m=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Dy){this.s=4,St(15),Ss(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else Ss(this.i,this.l,_n,null),wd(this,_n);if(My(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||$.length!=0||this.h.h||(this.s=1,St(16),m=!1),this.o=this.o&&m,!m)Ss(this.i,this.l,$,"[Invalid Chunked Response]"),Mi(this),fa(this);else if(0<$.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Cd(ct),ct.M=!0,St(11))}}else Ss(this.i,this.l,$,null),wd(this,$);ht==4&&Mi(this),this.o&&!this.J&&(ht==4?uv(this.j,this):(this.o=!1,du(this)))}else gA(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Mi(this),fa(this)}}}catch{}finally{}};function My(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ZC(l,d){var m=l.C,I=d.indexOf(`
`,m);return I==-1?yd:(m=Number(d.substring(m,I)),isNaN(m)?Dy:(I+=1,I+m>d.length?yd:(d=d.slice(I,I+m),l.C=I+m,d)))}Cr.prototype.cancel=function(){this.J=!0,Mi(this)};function du(l){l.S=Date.now()+l.I,Vy(l,l.I)}function Vy(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ha(p(l.ba,l),d)}function _d(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Cr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(YC(this.i,this.A),this.L!=2&&(ca(),St(17)),Mi(this),this.s=2,fa(this)):Vy(this,this.S-l)};function fa(l){l.j.G==0||l.J||uv(l.j,l)}function Mi(l){_d(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Sy(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function wd(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||Ed(m.h,l))){if(!l.K&&Ed(m.h,l)&&m.G==3){try{var I=m.Da.g.parse(d)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Eu(m),_u(m);else break e;Sd(m),St(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=ha(p(m.Za,m),6e3));if(1>=Uy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Fi(m,11)}else if((l.K||m.g==l)&&Eu(m),!w(d))for(L=m.Da.g.parse(d),d=0;d<L.length;d++){let me=L[d];if(m.T=me[0],me=me[1],m.G==2)if(me[0]=="c"){m.K=me[1],m.ia=me[2];const ct=me[3];ct!=null&&(m.la=ct,m.j.info("VER="+m.la));const ht=me[4];ht!=null&&(m.Aa=ht,m.j.info("SVER="+m.Aa));const Rs=me[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(I=1.5*Rs,m.L=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const _n=l.g;if(_n){const xu=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var F=I.h;F.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Td(F,F.h),F.h=null))}if(I.D){const Ad=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Ad&&(I.ya=Ad,xe(I.I,I.D,Ad))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),I=m;var $=l;if(I.qa=dv(I,I.J?I.ia:null,I.W),$.K){zy(I.h,$);var we=$,tt=I.L;tt&&(we.I=tt),we.B&&(_d(we),du(we)),I.g=$}else av(I);0<m.i.length&&wu(m)}else me[0]!="stop"&&me[0]!="close"||Fi(m,7);else m.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Fi(m,7):Id(m):me[0]!="noop"&&m.l&&m.l.ta(me),m.v=0)}}ca(4)}catch{}}var eA=class{constructor(l,d){this.g=l,this.map=d}};function Fy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Uy(l){return l.h?1:l.g?l.g.size:0}function Ed(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Td(l,d){l.g?l.g.add(d):l.h=d}function zy(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Fy.prototype.cancel=function(){if(this.i=By(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function By(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return T(l.i)}function tA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,I=0;I<m;I++)d.push(l[I]);return d}d=[],m=0;for(I in l)d[m++]=l[I];return d}function nA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const I in l)d[m++]=I;return d}}}function $y(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=nA(l),I=tA(l),L=I.length,F=0;F<L;F++)d.call(void 0,I[F],m&&m[F],l)}var Hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var I=l[m].indexOf("="),L=null;if(0<=I){var F=l[m].substring(0,I);L=l[m].substring(I+1)}else F=l[m];d(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Vi){this.h=l.h,fu(this,l.j),this.o=l.o,this.g=l.g,pu(this,l.s),this.l=l.l;var d=l.i,m=new ga;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),qy(this,m),this.m=l.m}else l&&(d=String(l).match(Hy))?(this.h=!1,fu(this,d[1]||"",!0),this.o=pa(d[2]||""),this.g=pa(d[3]||"",!0),pu(this,d[4]),this.l=pa(d[5]||"",!0),qy(this,d[6]||"",!0),this.m=pa(d[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}Vi.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ma(d,Wy,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ma(d,Wy,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(ma(m,m.charAt(0)=="/"?oA:sA,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",ma(m,lA)),l.join("")};function rr(l){return new Vi(l)}function fu(l,d,m){l.j=m?pa(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function pu(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function qy(l,d,m){d instanceof ga?(l.i=d,uA(l.i,l.h)):(m||(d=ma(d,aA)),l.i=new ga(d,l.h))}function xe(l,d,m){l.i.set(d,m)}function mu(l){return xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function pa(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ma(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,iA),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function iA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Wy=/[#\/\?@]/g,sA=/[#\?:]/g,oA=/[#\?]/g,aA=/[#\?@]/g,lA=/#/g;function ga(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ar(l){l.g||(l.g=new Map,l.h=0,l.i&&rA(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=ga.prototype,t.add=function(l,d){Ar(this),this.i=null,l=Cs(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Ky(l,d){Ar(l),d=Cs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Gy(l,d){return Ar(l),d=Cs(l,d),l.g.has(d)}t.forEach=function(l,d){Ar(this),this.g.forEach(function(m,I){m.forEach(function(L){l.call(d,L,I,this)},this)},this)},t.na=function(){Ar(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let I=0;I<d.length;I++){const L=l[I];for(let F=0;F<L.length;F++)m.push(d[I])}return m},t.V=function(l){Ar(this);let d=[];if(typeof l=="string")Gy(this,l)&&(d=d.concat(this.g.get(Cs(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return Ar(this),this.i=null,l=Cs(this,l),Gy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Qy(l,d,m){Ky(l,d),0<m.length&&(l.i=null,l.g.set(Cs(l,d),T(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var I=d[m];const F=encodeURIComponent(String(I)),$=this.V(I);for(I=0;I<$.length;I++){var L=F;$[I]!==""&&(L+="="+encodeURIComponent(String($[I]))),l.push(L)}}return this.i=l.join("&")};function Cs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function uA(l,d){d&&!l.j&&(Ar(l),l.i=null,l.g.forEach(function(m,I){var L=I.toLowerCase();I!=L&&(Ky(this,I),Qy(this,L,m))},l)),l.j=d}function cA(l,d){const m=new da;if(a.Image){const I=new Image;I.onload=y(Rr,m,"TestLoadImage: loaded",!0,d,I),I.onerror=y(Rr,m,"TestLoadImage: error",!1,d,I),I.onabort=y(Rr,m,"TestLoadImage: abort",!1,d,I),I.ontimeout=y(Rr,m,"TestLoadImage: timeout",!1,d,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else d(!1)}function hA(l,d){const m=new da,I=new AbortController,L=setTimeout(()=>{I.abort(),Rr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:I.signal}).then(F=>{clearTimeout(L),F.ok?Rr(m,"TestPingServer: ok",!0,d):Rr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Rr(m,"TestPingServer: error",!1,d)})}function Rr(l,d,m,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(m)}catch{}}function dA(){this.g=new GC}function fA(l,d,m){const I=m||"";try{$y(l,function(L,F){let $=L;c(L)&&($=dd(L)),d.push(I+F+"="+encodeURIComponent($))})}catch(L){throw d.push(I+"type="+encodeURIComponent("_badmap")),L}}function gu(l){this.l=l.Ub||null,this.j=l.eb||!1}x(gu,fd),gu.prototype.g=function(){return new yu(this.l,this.j)},gu.prototype.i=function(l){return function(){return l}}({});function yu(l,d){ut.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(yu,ut),t=yu.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,va(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?ya(this):va(this),this.readyState==3&&Xy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ya(this))},t.Qa=function(l){this.g&&(this.response=l,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(l){l.readyState=4,l.l=null,l.j=null,l.v=null,va(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function va(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yy(l){let d="";return V(l,function(m,I){d+=I,d+=":",d+=m,d+=`\r
`}),d}function xd(l,d,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=Yy(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):xe(l,d,m))}function Le(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Le,ut);var pA=/^https?$/i,mA=["POST","PUT"];t=Le.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gd.g(),this.v=this.o?Cy(this.o):Cy(gd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(F){Jy(this,F);return}if(l=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)m.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())m.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mA,d,void 0))||I||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,$]of m)this.g.setRequestHeader(F,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tv(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Jy(this,F)}};function Jy(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Zy(l),vu(l)}function Zy(l){l.A||(l.A=!0,It(l,"complete"),It(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,It(this,"complete"),It(this,"abort"),vu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vu(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ev(this):this.bb())},t.bb=function(){ev(this)};function ev(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ir(l)!=4||l.Z()!=2)){if(l.u&&ir(l)==4)Ty(l.Ea,0,l);else if(It(l,"readystatechange"),ir(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var I;if(I=$===0){var L=String(l.D).match(Hy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),I=!pA.test(L?L.toLowerCase():"")}m=I}if(m)It(l,"complete"),It(l,"success");else{l.m=6;try{var F=2<ir(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Zy(l)}}finally{vu(l)}}}}function vu(l,d){if(l.g){tv(l);const m=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||It(l,"ready");try{m.onreadystatechange=I}catch{}}}function tv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ir(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),KC(d)}};function nv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(l){const d={};l=(l.g&&2<=ir(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(w(l[I]))continue;var m=N(l[I]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=d[L]||[];d[L]=F,F.push(m)}_(d,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function rv(l){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,l),this.cb=_a("retryDelaySeedMs",1e4,l),this.Wa=_a("forwardChannelMaxRetries",2,l),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Fy(l&&l.concurrentRequestLimit),this.Da=new dA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rv.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,I){St(0),this.W=l,this.H=d||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.I=dv(this,null,this.W),wu(this)};function Id(l){if(iv(l),l.G==3){var d=l.U++,m=rr(l.I);if(xe(m,"SID",l.K),xe(m,"RID",d),xe(m,"TYPE","terminate"),wa(l,m),d=new Cr(l,l.j,d),d.L=2,d.v=mu(rr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=fv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),du(d)}hv(l)}function _u(l){l.g&&(Cd(l),l.g.cancel(),l.g=null)}function iv(l){_u(l),l.u&&(a.clearTimeout(l.u),l.u=null),Eu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function wu(l){if(!jy(l.h)&&!l.s){l.s=!0;var d=l.Ga;ne||Q(),j||(ne(),j=!0),H.add(d,l),l.B=0}}function yA(l,d){return Uy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ha(p(l.Ga,l,d),cv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Cr(this,this.j,l);let F=this.o;if(this.S&&(F?(F=E(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(d+=I,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=ov(this,L,d),m=rr(this.I),xe(m,"RID",l),xe(m,"CVER",22),this.D&&xe(m,"X-HTTP-Session-Id",this.D),wa(this,m),F&&(this.O?d="headers="+encodeURIComponent(String(Yy(F)))+"&"+d:this.m&&xd(m,this.m,F)),Td(this.h,L),this.Ua&&xe(m,"TYPE","init"),this.P?(xe(m,"$req",d),xe(m,"SID","null"),L.T=!0,vd(L,m,null)):vd(L,m,d),this.G=2}}else this.G==3&&(l?sv(this,l):this.i.length==0||jy(this.h)||sv(this))};function sv(l,d){var m;d?m=d.l:m=l.U++;const I=rr(l.I);xe(I,"SID",l.K),xe(I,"RID",m),xe(I,"AID",l.T),wa(l,I),l.m&&l.o&&xd(I,l.m,l.o),m=new Cr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=ov(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Td(l.h,m),vd(m,I,d)}function wa(l,d){l.H&&V(l.H,function(m,I){xe(d,I,m)}),l.l&&$y({},function(m,I){xe(d,I,m)})}function ov(l,d,m){m=Math.min(l.i.length,m);var I=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let F=-1;for(;;){const $=["count="+m];F==-1?0<m?(F=L[0].g,$.push("ofs="+F)):F=0:$.push("ofs="+F);let we=!0;for(let tt=0;tt<m;tt++){let me=L[tt].g;const ct=L[tt].map;if(me-=F,0>me)F=Math.max(0,L[tt].g-100),we=!1;else try{fA(ct,$,"req"+me+"_")}catch{I&&I(ct)}}if(we){I=$.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,I}function av(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ne||Q(),j||(ne(),j=!0),H.add(d,l),l.v=0}}function Sd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ha(p(l.Fa,l),cv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,lv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ha(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),_u(this),lv(this))};function Cd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function lv(l){l.g=new Cr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=rr(l.qa);xe(d,"RID","rpc"),xe(d,"SID",l.K),xe(d,"AID",l.T),xe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&xe(d,"TO",l.ja),xe(d,"TYPE","xmlhttp"),wa(l,d),l.m&&l.o&&xd(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=mu(rr(d)),m.m=null,m.P=!0,Ly(m,l)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),Sd(this),St(19))};function Eu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function uv(l,d){var m=null;if(l.g==d){Eu(l),Cd(l),l.g=null;var I=2}else if(Ed(l.h,d))m=d.D,zy(l.h,d),I=1;else return;if(l.G!=0){if(d.o)if(I==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;I=uu(),It(I,new ky(I,m)),wu(l)}else av(l);else if(L=d.s,L==3||L==0&&0<d.X||!(I==1&&yA(l,d)||I==2&&Sd(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),L){case 1:Fi(l,5);break;case 4:Fi(l,10);break;case 3:Fi(l,6);break;default:Fi(l,2)}}}function cv(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Fi(l,d){if(l.j.info("Error code "+d),d==2){var m=p(l.fb,l),I=l.Xa;const L=!I;I=new Vi(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fu(I,"https"),mu(I),L?cA(I.toString(),m):hA(I.toString(),m)}else St(2);l.G=0,l.l&&l.l.sa(d),hv(l),iv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function hv(l){if(l.G=0,l.ka=[],l.l){const d=By(l.h);(d.length!=0||l.i.length!=0)&&(S(l.ka,d),S(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function dv(l,d,m){var I=m instanceof Vi?rr(m):new Vi(m);if(I.g!="")d&&(I.g=d+"."+I.g),pu(I,I.s);else{var L=a.location;I=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var F=new Vi(null);I&&fu(F,I),d&&(F.g=d),L&&pu(F,L),m&&(F.l=m),I=F}return m=l.D,d=l.ya,m&&d&&xe(I,m,d),xe(I,"VER",l.la),wa(l,I),I}function fv(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Le(new gu({eb:m})):new Le(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pv(){}t=pv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tu(){}Tu.prototype.g=function(l,d){return new $t(l,d)};function $t(l,d){ut.call(this),this.g=new rv(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!w(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!w(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new As(this)}x($t,ut),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Id(this.g)},$t.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=dd(l),l=m);d.i.push(new eA(d.Ya++,l)),d.G==3&&wu(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,Id(this.g),delete this.g,$t.aa.N.call(this)};function mv(l){pd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}x(mv,pd);function gv(){md.call(this),this.status=1}x(gv,md);function As(l){this.g=l}x(As,pv),As.prototype.ua=function(){It(this.g,"a")},As.prototype.ta=function(l){It(this.g,new mv(l))},As.prototype.sa=function(l){It(this.g,new gv)},As.prototype.ra=function(){It(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,kI=function(){return new Tu},bI=function(){return uu()},PI=Li,jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cu.NO_ERROR=0,cu.TIMEOUT=8,cu.HTTP_ERROR=6,vc=cu,Ny.COMPLETE="complete",RI=Ny,Ay.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",ut.prototype.listen=ut.prototype.K,ja=Ay,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,AI=Le}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",L_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Rg("@firebase/firestore");function ks(){return ms.logLevel}function q(t,...e){if(ms.logLevel<=le.DEBUG){const n=e.map(Ug);ms.debug(`Firestore (${Zo}): ${t}`,...n)}}function xr(t,...e){if(ms.logLevel<=le.ERROR){const n=e.map(Ug);ms.error(`Firestore (${Zo}): ${t}`,...n)}}function wi(t,...e){if(ms.logLevel<=le.WARN){const n=e.map(Ug);ms.warn(`Firestore (${Zo}): ${t}`,...n)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,NI(t,r,n)}function NI(t,e,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xr(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||NI(e,i,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class rM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iM{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ns,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new OI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class sM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function Up(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{const s=DI(),o=uM(s.encode(V_(t,n)),s.encode(V_(e,n)));return o!==0?o:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function V_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function uM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function Vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),i=Mn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):Up(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}}class Re extends Mn{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const cM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Mn{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return cM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F_}static keyField(){return new _t([F_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Re.fromString(e))}static fromName(e){return new X(Re.fromString(e).popFirst(5))}static empty(){return new X(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Re(e.slice()))}}function hM(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j_(t){if(X.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function zp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zl(t,e){if(!MI(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,z_=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*z_);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U_)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:He("string",Pe._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Pe(0,0))}static max(){return new ee(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function dM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new Ei(i,X.empty(),e)}function fM(t){return new Ei(t.readTime,t.key,Pl)}class Ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ei(ee.min(),X.empty(),Pl)}static max(){return new Ei(ee.max(),X.empty(),Pl)}}function pM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==mM)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function yM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Kh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=-1;function Gh(t){return t==null}function ah(t){return t===0&&1/t==-1/0}function _M(t){return typeof t=="number"&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="";function wM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=B_(e)),e=EM(t.get(n),e);return B_(e)}function EM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case VI:n+="";break;default:n+=s}}return n}function B_(t){return t+VI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Qe(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jI("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const TM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=TM.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xi(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="server_timestamp",zI="__type__",BI="__previous_value__",$I="__local_write_time__";function zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||n===void 0?void 0:n.stringValue)===UI}function Qh(t){const e=t.mapValue.fields[BI];return zg(e)?Qh(e):e}function bl(t){const e=Ti(t.mapValue.fields[$I].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,i,s,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const lh="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__type__",qI="__max__",Gu={mapValue:{fields:{__type__:{stringValue:qI}}}},WI="__vector__",uh="value";function Ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:SM(t)?9007199254740991:IM(t)?10:11:te(28295,{value:t})}function Zn(t,e){if(t===e)return!0;const n=Ii(t);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ti(i.timestampValue),a=Ti(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xi(i.bytesValue).isEqual(xi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Fe(i.geoPointValue.latitude)===Fe(s.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Fe(i.integerValue)===Fe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Fe(i.doubleValue),a=Fe(s.doubleValue);return o===a?ah(o)===ah(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($_(o)!==$_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Zn(o[u],a[u])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Nl(t,e){return(t.values||[]).find(n=>Zn(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=Ii(t),r=Ii(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Fe(s.integerValue||s.doubleValue),u=Fe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return q_(t.timestampValue,e.timestampValue);case 4:return q_(bl(t),bl(e));case 5:return Up(t.stringValue,e.stringValue);case 6:return function(s,o){const a=xi(s),u=xi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=oe(a[c],u[c]);if(h!==0)return h}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Fe(s.latitude),Fe(o.latitude));return a!==0?a:oe(Fe(s.longitude),Fe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},p=o.fields||{},y=(a=f[uh])===null||a===void 0?void 0:a.arrayValue,x=(u=p[uh])===null||u===void 0?void 0:u.arrayValue,T=oe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:W_(y,x)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gu.mapValue&&o===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Up(u[f],h[f]);if(p!==0)return p;const y=Fo(a[u[f]],c[h[f]]);if(y!==0)return y}return oe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw te(23264,{le:n})}}function q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Ti(t),r=Ti(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function W_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fo(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function jo(t){return Bp(t)}function Bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Bp(n.fields[o])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function _c(t){switch(Ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(t);return e?16+_c(e):16;case 5:return 2*t.stringValue.length;case 6:return xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+_c(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ta(r.fields,(s,o)=>{i+=s.length+_c(o)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function K_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $p(t){return!!t&&"integerValue"in t}function Bg(t){return!!t&&"arrayValue"in t}function G_(t){return!!t&&"nullValue"in t}function Q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function IM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[HI])===null||n===void 0?void 0:n.stringValue)===WI}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=el(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Bn(el(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,ee.min(),ee.min(),ee.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,i){return new vt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new vt(e,2,n,ee.min(),ee.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,ee.min(),ee.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function X_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function CM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{}class $e extends KI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RM(e,n,r):n==="array-contains"?new kM(e,r):n==="in"?new NM(e,r):n==="not-in"?new OM(e,r):n==="array-contains-any"?new DM(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PM(e,r):new bM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class On extends KI{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new On(e,n)}matches(e){return GI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function GI(t){return t.op==="and"}function QI(t){return AM(t)&&GI(t)}function AM(t){for(const e of t.filters)if(e instanceof On)return!1;return!0}function Hp(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(QI(t))return t.filters.map(e=>Hp(e)).join(",");{const e=t.filters.map(n=>Hp(n)).join(",");return`${t.op}(${e})`}}function XI(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&Zn(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&XI(o,i.filters[a]),!0):!1}(t,e):void te(19439)}function YI(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(YI).join(" ,")+"}"}(t):"Filter"}class RM extends $e{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class PM extends $e{constructor(e,n){super(e,"in",n),this.keys=JI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bM extends $e{constructor(e,n){super(e,"not-in",n),this.keys=JI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class kM extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&Nl(n.arrayValue,this.value)}}class NM extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class OM extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nl(this.value.arrayValue,n)}}class DM extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function J_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new LM(t,e,n,r,i,s,o)}function $g(t){const e=de(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.Pe=n}return e.Pe}function Hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y_(t.startAt,e.startAt)&&Y_(t.endAt,e.endAt)}function qp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function MM(t,e,n,r,i,s,o,a){return new na(t,e,n,r,i,s,o,a)}function ZI(t){return new na(t)}function Z_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eS(t){return t.collectionGroup!==null}function tl(t){const e=de(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qe(_t.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Ol(s,r))}),n.has(_t.keyField().canonicalString())||e.Te.push(new Ol(_t.keyField(),r))}return e.Te}function Qn(t){const e=de(t);return e.Ie||(e.Ie=VM(e,tl(t))),e.Ie}function VM(t,e){if(t.limitType==="F")return J_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ol(i.field,s)});const n=t.endAt?new ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ch(t.startAt.position,t.startAt.inclusive):null;return J_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wp(t,e){const n=t.filters.concat([e]);return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return Hg(Qn(t),Qn(e))&&t.limitType===e.limitType}function tS(t){return`${$g(Qn(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YI(i)).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jo(i)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=X_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,tl(r),i)||r.endAt&&!function(o,a,u){const c=X_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,tl(r),i))}(t,e)}function FM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nS(t){return(e,n)=>{let r=!1;for(const i of tl(t)){const s=jM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jM(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Fo(u,c):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Ue(X.comparator);function Si(){return UM}const rS=new Ue(X.comparator);function Ua(...t){let e=rS;for(const n of t)e=e.insert(n.key,n);return e}function zM(t){let e=rS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qi(){return nl()}function iS(){return nl()}function nl(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const BM=new Qe(X.comparator);function fe(...t){let e=BM;for(const n of t)e=e.add(n);return e}const $M=new Qe(oe);function HM(){return $M}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function sS(t){return{integerValue:""+t}}function qM(t,e){return _M(e)?sS(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function WM(t,e,n){return t instanceof Gp?function(i,s){const o={fields:{[zI]:{stringValue:UI},[$I]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zg(s)&&(s=Qh(s)),s&&(o.fields[BI]=s),{mapValue:o}}(n,e):t instanceof hh?oS(t,e):t instanceof dh?aS(t,e):function(i,s){const o=GM(i,s),a=ew(o)+ew(i.Ee);return $p(o)&&$p(i.Ee)?sS(a):qg(i.serializer,a)}(t,e)}function KM(t,e,n){return t instanceof hh?oS(t,e):t instanceof dh?aS(t,e):n}function GM(t,e){return t instanceof Qp?function(r){return $p(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gp extends Jh{}class hh extends Jh{constructor(e){super(),this.elements=e}}function oS(t,e){const n=lS(e);for(const r of t.elements)n.some(i=>Zn(i,r))||n.push(r);return{arrayValue:{values:n}}}class dh extends Jh{constructor(e){super(),this.elements=e}}function aS(t,e){let n=lS(e);for(const r of t.elements)n=n.filter(i=>!Zn(i,r));return{arrayValue:{values:n}}}class Qp extends Jh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function ew(t){return Fe(t.integerValue||t.doubleValue)}function lS(t){return Bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hh&&i instanceof hh||r instanceof dh&&i instanceof dh?Vo(r.elements,i.elements,Zn):r instanceof Qp&&i instanceof Qp?Zn(r.Ee,i.Ee):r instanceof Gp&&i instanceof Gp}(t.transform,e.transform)}class rs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rs}static exists(e){return new rs(void 0,e)}static updateTime(e){return new rs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function uS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YM(t.key,rs.none()):new Kg(t.key,t.data,rs.none());{const n=t.data,r=Bn.empty();let i=new Qe(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zh(t.key,r,new Zr(i.toArray()),rs.none())}}function XM(t,e,n){t instanceof Kg?function(i,s,o){const a=i.value.clone(),u=nw(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zh?function(i,s,o){if(!wc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nw(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(cS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof Kg?function(s,o,a,u){if(!wc(s.precondition,o))return a;const c=s.value.clone(),h=rw(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zh?function(s,o,a,u){if(!wc(s.precondition,o))return a;const c=rw(s.fieldTransforms,u,o),h=o.data;return h.setAll(cS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return wc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vo(r,i,(s,o)=>QM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kg extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zh extends Wg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nw(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KM(o,a,n[i]))}return r}function rw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,WM(s,o,e))}return r}class YM extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=uS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>tw(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>tw(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,he;function hS(t){if(t===void 0)return xr("GRPC error has no .code"),B.UNKNOWN;switch(t){case ze.OK:return B.OK;case ze.CANCELLED:return B.CANCELLED;case ze.UNKNOWN:return B.UNKNOWN;case ze.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ze.INTERNAL:return B.INTERNAL;case ze.UNAVAILABLE:return B.UNAVAILABLE;case ze.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ze.NOT_FOUND:return B.NOT_FOUND;case ze.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ze.ABORTED:return B.ABORTED;case ze.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ze.DATA_LOSS:return B.DATA_LOSS;default:return te(39323,{code:t})}}(he=ze||(ze={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new di([4294967295,4294967295],0);function iw(t){const e=DI().encode(t),n=new CI;return n.update(e),new Uint8Array(n.digest())}function sw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new di([n,r],0),new di([i,s],0)]}class Gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new za(`Invalid padding: ${n}`);if(r<0)throw new za(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new za(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new za(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=di.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(di.fromNumber(r)));return i.compare(tV)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=iw(e),[r,i]=sw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Gg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=iw(e),[r,i]=sw(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ed(ee.min(),i,new Ue(oe),Si(),fe())}}class eu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new eu(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class dS{constructor(e,n){this.targetId=e,this.De=n}}class fS{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ow{constructor(){this.ve=0,this.Ce=aw(),this.Fe=lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),n=fe(),r=fe();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new eu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=aw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class nV{constructor(e){this.We=e,this.Ge=new Map,this.ze=Si(),this.je=Qu(),this.Je=Qu(),this.He=new Ue(oe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(qp(s))if(r===0){const o=new X(s.path);this.Xe(n,o,vt.newNoDocument(o,ee.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),u=a?this.ut(a,e,o):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=xi(r).toUint8Array()}catch(u){if(u instanceof jI)return wi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gg(o,i,s)}catch(u){return wi(u instanceof za?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&qp(a.target)){const u=new X(a.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,vt.newNoDocument(u,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=fe();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new ed(e,n,this.He,this.ze,r);return this.ze=Si(),this.je=Qu(),this.Je=Qu(),this.He=new Ue(oe),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ow,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Qe(oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Qe(oe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ow),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new Ue(X.comparator)}function aw(){return new Ue(X.comparator)}const rV={asc:"ASCENDING",desc:"DESCENDING"},iV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sV={and:"AND",or:"OR"};class oV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xp(t,e){return t.useProto3Json||Gh(e)?e:{value:e}}function Yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oo(t){return Oe(!!t,49232),ee.fromTimestamp(function(n){const r=Ti(n);return new Pe(r.seconds,r.nanos)}(t))}function mS(t,e){return Jp(t,e).canonicalString()}function Jp(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gS(t){const e=Re.fromString(t);return Oe(ES(e),10190,{key:e.toString()}),e}function mf(t,e){const n=gS(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(vS(n))}function yS(t,e){return mS(t.databaseId,e)}function aV(t){const e=gS(t);return e.length===4?Re.emptyPath():vS(e)}function lw(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vS(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:hS(c.code);return new K(h,c.message||"")}(o);n=new fS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mf(t,r.document.name),s=oo(r.document.updateTime),o=r.document.createTime?oo(r.document.createTime):ee.min(),a=new Bn({mapValue:{fields:r.document.fields}}),u=vt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ec(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mf(t,r.document),s=r.readTime?oo(r.readTime):ee.min(),o=vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mf(t,r.document),s=r.removedTargetIds||[];n=new Ec([],s,i,null)}else{if(!("filter"in e))return te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new eV(i,s),a=r.targetId;n=new dS(a,o)}}return n}function uV(t,e){return{documents:[yS(t,e.path)]}}function cV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yS(t,i);const s=function(c){if(c.length!==0)return wS(On.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Os(p.field),direction:fV(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function hV(t){let e=aV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=_S(f);return p instanceof On&&QI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new Ol(Ds(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Gh(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,y=f.values||[];return new ch(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,y=f.values||[];return new ch(y,p)}(n.endAt)),MM(e,i,o,s,a,"F",u,c)}function dV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _S(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ds(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ds(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ds(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ds(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Ds(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>_S(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function fV(t){return rV[t]}function pV(t){return iV[t]}function mV(t){return sV[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ds(t){return _t.fromServerFormat(t.fieldPath)}function wS(t){return t instanceof $e?function(n){if(n.op==="=="){if(Q_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(G_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(G_(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:pV(n.op),value:n.value}}}(t):t instanceof On?function(n){const r=n.getFilters().map(i=>wS(i));return r.length===1?r[0]:{compositeFilter:{op:mV(n.op),filters:r}}}(t):te(54877,{filter:t})}function ES(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.gt=e}}function yV(t){const e=hV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Dn=new _V}addToCollectionParentIndex(e,n){return this.Dn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ei.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class _V{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(TS,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Uo(0)}static ur(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="LruGarbageCollector",wV=1048576;function hw([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class EV{constructor(e){this.Tr=e,this.buffer=new Qe(hw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){q(cw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?q(cw,"Ignoring IndexedDB error during garbage collection: ",n):await Wh(n)}await this.Rr(3e5)})}}class xV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Kh.ue);const r=new EV(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(uw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ks()<=le.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function IV(t,e){return new xV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rl(r.mutation,i,Zr.empty(),Pe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=qi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ua();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Si();const o=nl(),a=function(){return nl()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Zh)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),rl(h.mutation,c,h.mutation.getFieldMask(),Pe.now())):o.set(c.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new CV(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=nl();let i=new Ue((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Zr.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=iS();h.forEach(p=>{if(!s.has(p)){const y=uS(n.get(p),r.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(qi());let a=Pl,u=s;return o.next(c=>U.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,fe())).next(h=>({batchId:a,changes:zM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ua();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(f,p){return new na(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,vt.newInvalidDocument(h)))});let a=Ua();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&rl(h.mutation,c,Zr.empty(),Pe.now()),Yh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return U.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:oo(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:yV(i.bundledQuery),readTime:oo(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.overlays=new Ue(X.comparator),this.kr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qi();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=qi(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=qi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=qi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZM(n,r));let s=this.kr.get(n);s===void 0&&(s=fe(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.qr=new Qe(Xe.Qr),this.$r=new Qe(Xe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Xe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new X(new Re([])),r=new Xe(n,e),i=new Xe(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new X(new Re([])),r=new Xe(n,e),i=new Xe(n,e+1);let s=fe();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return X.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Qe(Xe.Qr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?vM:this.er-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(oe);return n.forEach(i=>{const s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),U.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new Xe(new X(s),0);let a=new Qe(oe);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Hr)),!0)},o),U.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return U.forEach(n.mutations,i=>{const s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Xe(n,0),i=this.Yr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.ni=e,this.docs=function(){return new Ue(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=Si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Si();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||pM(fM(h),r)<=0||(i.has(h.key)||Yh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ri(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OV(this)}getSize(e){return U.resolve(this.size)}}class OV extends SV{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.persistence=e,this.ii=new Es(n=>$g(n),Hg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Qg,this.targetCount=0,this._i=Uo.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),U.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.hr(n),U.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Kh(0),this.ci=!1,this.ci=!0,this.li=new bV,this.referenceDelegate=e(this),this.hi=new DV(this),this.indexManager=new vV,this.remoteDocumentCache=function(i){return new NV(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new gV(n),this.Ti=new RV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new kV(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new LV(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return U.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class LV extends gM{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.Ai=new Qg,this.Ri=null}static Vi(e){return new Xg(e)}get mi(){if(this.Ri)return this.Ri;throw te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.mi,r=>{const i=X.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return U.or([()=>U.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class fh{constructor(e,n){this.persistence=e,this.gi=new Es(r=>wM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=IV(this,n)}static Vi(e,n){return new fh(e,n)}Ii(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return U.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),U.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_c(e.data.value)),n}Sr(e,n,r){return U.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return IO()?8:yM(Et())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new MV;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ks()<=le.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(ks()<=le.DEBUG&&q("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ks()<=le.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):U.resolve())}ps(e,n){if(Z_(n))return U.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kp(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ds(n,c,o,u.readTime)?this.ps(e,Kp(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,r,i){return Z_(n)||i.isEqual(ee.min())?U.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?U.resolve(null):(ks()<=le.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(n)),this.vs(e,o,n,dM(i,Pl)).next(a=>a))})}bs(e,n){let r=new Qe(nS(e));return n.forEach((i,s)=>{Yh(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return ks()<=le.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.gs.getDocumentsMatchingQuery(e,n,Ei.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",FV=3e8;class jV{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ue(oe),this.Ms=new Es(s=>$g(s),Hg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function UV(t,e,n,r){return new jV(t,e,n,r)}async function IS(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=fe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function SS(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function zV(t,e){const n=de(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.hi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,h.addedDocuments,f)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(T,S,v){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=FV?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,h)&&a.push(n.hi.updateTargetData(s,y))});let u=Si(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(BV(s,o,e.documentUpdates).next(h=>{u=h.Ls,c=h.ks})),!r.isEqual(ee.min())){const h=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Fs=i,s))}function BV(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Si();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q(Jg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ls:o,ks:i}})}function $V(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Zp(t,e,n){const r=de(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ea(o))throw o;q(Jg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function dw(t,e,n){const r=de(t);let i=ee.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=de(u),p=f.Ms.get(h);return p!==void 0?U.resolve(f.Fs.get(p)):f.hi.getTargetData(c,h)}(r,o,Qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:fe())).next(a=>(HV(r,FM(e),a),{documents:a,qs:s})))}function HV(t,e,n){let r=t.xs.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class fw{constructor(){this.activeTargetIds=HM()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qV{constructor(){this.Fo=new fw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new fw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="ConnectivityMonitor";class mw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){q(pw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){q(pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function em(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",KV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=em(),a=this.Go(e,n.toUriEncodedString());q(gf,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,s);const{host:c}=new URL(a),h=bi(c);return this.jo(e,a,u,r,h).then(f=>(q(gf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw wi(gf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=KV[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class XV extends GV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=em();return new Promise((a,u)=>{const c=new AI;c.setWithCredentials(!0),c.listenOnce(RI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vc.NO_ERROR:const f=c.getResponseJson();q(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case vc.TIMEOUT:q(pt,`RPC '${e}' ${o} timed out`),u(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const p=c.getStatus();if(q(pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y==null?void 0:y.error;if(x&&x.status&&x.message){const T=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(x.status);u(new K(T,x.message))}else u(new K(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new K(B.UNAVAILABLE,"Connection failed."));break;default:te(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{q(pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);q(pt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}P_(e,n,r){const i=em(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kI(),a=bI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");q(pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);this.T_(f);let p=!1,y=!1;const x=new QV({Ho:S=>{y?q(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(q(pt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),q(pt,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Yo:()=>f.close()}),T=(S,v,w)=>{S.listen(v,C=>{try{w(C)}catch(k){setTimeout(()=>{throw k},0)}})};return T(f,ja.EventType.OPEN,()=>{y||(q(pt,`RPC '${e}' stream ${i} transport opened.`),x.s_())}),T(f,ja.EventType.CLOSE,()=>{y||(y=!0,q(pt,`RPC '${e}' stream ${i} transport closed`),x.__(),this.I_(f))}),T(f,ja.EventType.ERROR,S=>{y||(y=!0,wi(pt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.__(new K(B.UNAVAILABLE,"The operation could not be completed")))}),T(f,ja.EventType.MESSAGE,S=>{var v;if(!y){const w=S.data[0];Oe(!!w,16349);const C=w,k=(C==null?void 0:C.error)||((v=C[0])===null||v===void 0?void 0:v.error);if(k){q(pt,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let V=function(A){const R=ze[A];if(R!==void 0)return hS(R)}(M),_=k.message;V===void 0&&(V=B.INTERNAL,_="Unknown error status: "+M+" with message "+k.message),y=!0,x.__(new K(V,_)),f.close()}else q(pt,`RPC '${e}' stream ${i} received:`,w),x.a_(w)}}),T(a,PI.STAT_EVENT,S=>{S.stat===jp.PROXY?q(pt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===jp.NOPROXY&&q(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return new oV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="PersistentStream";class YV{constructor(e,n,r,i,s,o,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new CS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return q(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(q(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JV extends YV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=lV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?oo(o.readTime):ee.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=lw(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=qp(u)?{documents:uV(s,u)}:{query:cV(s,u).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=pS(s,o.resumeToken);const c=Xp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=Yp(s,o.snapshotVersion.toTimestamp());const c=Xp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=dV(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=lw(this.serializer),n.removeTarget=e,this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{}class eF extends ZV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Jp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(B.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,Jp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class tF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xr(n),this._a=!1):q("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class nF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{nu(this)&&(q(zo,"Restarting streams for network reachability change."),await async function(u){const c=de(u);c.Ia.add(4),await tu(c),c.Aa.set("Unknown"),c.Ia.delete(4),await nd(c)}(this))})}),this.Aa=new tF(r,i)}}async function nd(t){if(nu(t))for(const e of t.da)await e(!0)}async function tu(t){for(const e of t.da)await e(!1)}function AS(t,e){const n=de(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ny(n)?ty(n):ra(n).x_()&&ey(n,e))}function Zg(t,e){const n=de(t),r=ra(n);n.Ta.delete(e),r.x_()&&RS(n,e),n.Ta.size===0&&(r.x_()?r.B_():nu(n)&&n.Aa.set("Unknown"))}function ey(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).H_(e)}function RS(t,e){t.Ra.$e(e),ra(t).Y_(e)}function ty(t){t.Ra=new nV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.Aa.aa()}function ny(t){return nu(t)&&!ra(t).M_()&&t.Ta.size>0}function nu(t){return de(t).Ia.size===0}function PS(t){t.Ra=void 0}async function rF(t){t.Aa.set("Online")}async function iF(t){t.Ta.forEach((e,n)=>{ey(t,e)})}async function sF(t,e){PS(t),ny(t)?(t.Aa.la(e),ty(t)):t.Aa.set("Unknown")}async function oF(t,e,n){if(t.Aa.set("Online"),e instanceof fS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){q(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yw(t,r)}else if(e instanceof Ec?t.Ra.Ye(e):e instanceof dS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{const r=await SS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ta.get(c);h&&s.Ta.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.Ta.get(u);if(!h)return;s.Ta.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),RS(s,u);const f=new ei(h.target,u,c,h.sequenceNumber);ey(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(zo,"Failed to raise snapshot:",r),await yw(t,r)}}async function yw(t,e,n){if(!ea(e))throw e;t.Ia.add(1),await tu(t),t.Aa.set("Offline"),n||(n=()=>SS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(zo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await nd(t)})}async function vw(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),q(zo,"RemoteStore received new credentials");const r=nu(n);n.Ia.add(3),await tu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await nd(n)}async function aF(t,e){const n=de(t);e?(n.Ia.delete(2),await nd(n)):e||(n.Ia.add(2),await tu(n),n.Aa.set("Unknown"))}function ra(t){return t.Va||(t.Va=function(n,r,i){const s=de(n);return s.ia(),new JV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:rF.bind(null,t),e_:iF.bind(null,t),n_:sF.bind(null,t),J_:oF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),ny(t)?ty(t):t.Aa.set("Unknown")):(await t.Va.stop(),PS(t))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ry(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bS(t,e){if(xr("AsyncQueue",`${e}: ${t}`),ea(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Ua(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.fa=new Ue(X.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Bo(e,n,ao.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class uF{constructor(){this.queries=ww(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=ww(),s.forEach((o,a)=>{for(const u of a.wa)u.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function ww(){return new Es(t=>tS(t),Xh)}async function cF(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new lF,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=bS(o,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&iy(n)}async function hF(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dF(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&iy(n)}function fF(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function iy(t){t.Da.forEach(e=>{e.next()})}var tm,Ew;(Ew=tm||(tm={})).Fa="default",Ew.Cache="cache";class pF{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.key=e}}class NS{constructor(e){this.key=e}}class mF{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=nS(e),this.eu=new ao(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new _w,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),y=Yh(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;p&&y?p.data.isEqual(y.data)?x!==T&&(r.track({type:3,doc:y}),S=!0):this.iu(p,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.Xa(y,u)>0||c&&this.Xa(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),S=!0):p&&!y&&(r.track({type:1,doc:p}),S=!0,(u||c)&&(a=!0)),S&&(y?(o=o.add(y),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(y,x){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{At:S})}};return T(y)-T(x)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,c=u!==this.Ya;return this.Ya=u,o.length!==0||c?{snapshot:new Bo(this.query,e.eu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new _w,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new NS(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new kS(r))}),n}uu(e){this.Ha=e.qs,this.Za=fe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Bo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const sy="SyncEngine";class gF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yF{constructor(e){this.key=e,this.lu=!1}}class vF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Es(a=>tS(a),Xh),this.Tu=new Map,this.Iu=new Set,this.du=new Ue(X.comparator),this.Eu=new Map,this.Au=new Qg,this.Ru={},this.Vu=new Map,this.mu=Uo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _F(t,e,n=!0){const r=VS(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await OS(r,e,n,!0),i}async function wF(t,e){const n=VS(t);await OS(n,e,!0,!1)}async function OS(t,e,n,r){const i=await $V(t.localStore,Qn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await EF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AS(t.remoteStore,i),a}async function EF(t,e,n,r,i){t.gu=(f,p,y)=>async function(T,S,v,w){let C=S.view.nu(v);C.Ds&&(C=await dw(T.localStore,S.query,!1).then(({documents:_})=>S.view.nu(_,C)));const k=w&&w.targetChanges.get(S.targetId),M=w&&w.targetMismatches.get(S.targetId)!=null,V=S.view.applyChanges(C,T.isPrimaryClient,k,M);return xw(T,S.targetId,V._u),V.snapshot}(t,f,p,y);const s=await dw(t.localStore,e,!0),o=new mF(e,s.qs),a=o.nu(s.documents),u=eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);xw(t,n,c._u);const h=new gF(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function TF(t,e,n){const r=de(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Xh(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zg(r.remoteStore,i.targetId),nm(r,i.targetId)}).catch(Wh)):(nm(r,i.targetId),await Zp(r.localStore,i.targetId,!0))}async function xF(t,e){const n=de(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(n.remoteStore,r.targetId))}async function DS(t,e){const n=de(t);try{const r=await zV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Oe(o.lu,14607):i.removedDocuments.size>0&&(Oe(o.lu,42227),o.lu=!1))}),await MS(n,r,e)}catch(r){await Wh(r)}}function Tw(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=de(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.wa)p.va(a)&&(c=!0)}),c&&iy(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IF(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Ue(X.comparator);o=o.insert(s,vt.newNoDocument(s,ee.min()));const a=fe().add(s),u=new ed(ee.min(),new Map,new Ue(oe),o,a);await DS(r,u),r.du=r.du.remove(s),r.Eu.delete(e),oy(r)}else await Zp(r.localStore,e,!1).then(()=>nm(r,e,n)).catch(Wh)}function nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||LS(t,r)})}function LS(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zg(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),oy(t))}function xw(t,e,n){for(const r of n)r instanceof kS?(t.Au.addReference(r.key,e),SF(t,r)):r instanceof NS?(q(sy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||LS(t,r.key)):te(19791,{yu:r})}function SF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(q(sy,"New document in limbo: "+n),t.Iu.add(r),oy(t))}function oy(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new X(Re.fromString(e)),r=t.mu.next();t.Eu.set(r,new yF(n)),t.du=t.du.insert(n,r),AS(t.remoteStore,new ei(Qn(ZI(n.path)),r,"TargetPurposeLimboResolution",Kh.ue))}}async function MS(t,e,n){const r=de(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{o.push(r.gu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Yg.Es(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(u,c){const h=de(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,p=>U.forEach(p.Is,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>U.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!ea(f))throw f;q(Jg,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const y=h.Fs.get(p),x=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(x);h.Fs=h.Fs.insert(p,T)}}}(r.localStore,s))}async function CF(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){q(sy,"User change. New user:",e.toKey());const r=await IS(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(u=>{u.reject(new K(B.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await MS(n,r.Bs)}}function AF(t,e){const n=de(t),r=n.Eu.get(e);if(r&&r.lu)return fe().add(r.key);{let i=fe();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function VS(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IF.bind(null,e),e.hu.J_=dF.bind(null,e.eventManager),e.hu.pu=fF.bind(null,e.eventManager),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return UV(this.persistence,new VV,e.initialUser,this.serializer)}Du(e){return new xS(Xg.Vi,this.serializer)}bu(e){return new qV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class RF extends ph{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Oe(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TV(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new xS(r=>fh.Vi(r,n),this.serializer)}}class rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CF.bind(null,this.syncEngine),await aF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uF}()}createDatastore(e){const n=td(e.databaseInfo.databaseId),r=function(s){return new XV(s)}(e.databaseInfo);return function(s,o,a,u){return new eF(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new nF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Tw(this.syncEngine,n,0),function(){return mw.C()?new mw:new WV}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new vF(i,s,o,a,u,c);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);q(zo,"RemoteStore shutting down."),s.Ia.add(5),await tu(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rm.provider={build:()=>new rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class bF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=LI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(Ci,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ci,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vf(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{wi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{wi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function Iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kF(t);q(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vw(e.remoteStore,i)),t._onlineComponents=e}async function kF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ci,"Using user provided OfflineComponentProvider");try{await vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wi("Error using user provided cache. Falling back to memory cache: "+n),await vf(t,new ph)}}else q(Ci,"Using default OfflineComponentProvider"),await vf(t,new RF(void 0));return t._offlineComponents}async function NF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ci,"Using user provided OnlineComponentProvider"),await Iw(t,t._uninitializedComponentsProvider._online)):(q(Ci,"Using default OnlineComponentProvider"),await Iw(t,new rm))),t._onlineComponents}async function OF(t){const e=await NF(t),n=e.eventManager;return n.onListen=_F.bind(null,e.syncEngine),n.onUnlisten=TF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xF.bind(null,e.syncEngine),n}function DF(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new PF({next:p=>{h.Ou(),o.enqueueAndForget(()=>hF(s,f)),p.fromCache&&u.source==="server"?c.reject(new K(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new pF(a,h,{includeMetadataChanges:!0,ka:!0});return cF(s,f)}(await OF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",Cw=!0;class Aw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=Cw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Cw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wV)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ay{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nM;switch(r.type){case"firstParty":return new oM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sw.get(n);r&&(q("ComponentProvider","Removing Datastore"),Sw.delete(n),r.terminate())}(this),Promise.resolve()}}function LF(t,e,n,r={}){var i;t=zp(t,ay);const s=bi(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s&&(Cg(`https://${u}`),Ag("Firestore",!0)),o.host!==jS&&o.host!==u&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:s,emulatorOptions:r});if(!ds(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=gt.MOCK_USER;else{h=jx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gt(p)}t._authCredentials=new rM(new OI(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zl(n,bt._jsonSchema))return new bt(e,r||null,new X(Re.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:He("string",bt._jsonSchemaVersion),referencePath:He("string")};class lo extends Ts{constructor(e,n,r){super(e,n,ZI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new X(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function MF(t,e,...n){if(t=Tt(t),t instanceof ay){const r=Re.fromString(e,...n);return j_(r),new lo(t,null,r)}{if(!(t instanceof bt||t instanceof lo))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return j_(r),new lo(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="AsyncQueue";class Pw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new CS(this,"async_queue_retry"),this.oc=()=>{const r=yf();r&&q(Rw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ns;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ea(e))throw e;q(Rw,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,xr("INTERNAL UNHANDLED ERROR: ",bw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=ry.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&te(47125,{hc:bw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function bw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class US extends ay{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Pw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pw(e),this._firestoreClient=void 0,await e}}}function VF(t,e){const n=typeof t=="object"?t:bg(),r=typeof t=="string"?t:lh,i=Uh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Mx("firestore");s&&LF(i,...s)}return i}function FF(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jF(t),t._firestoreClient}function jF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new xM(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,FS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new bF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(lt.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:He("string",ln._jsonSchemaVersion),bytes:He("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:He("string",Xn._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yn(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:He("string",Yn._jsonSchemaVersion),vectorValues:He("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^__.*__$/;function $S(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ec:t})}}class ly{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ly(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return im(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if($S(this.Ec)&&UF.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class zF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||td(e)}Dc(e,n,r,i=!1){return new ly({Ec:e,methodName:n,bc:r,path:_t.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BF(t){const e=t._freezeSettings(),n=td(t._databaseId);return new zF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $F(t,e,n,r=!1){return uy(n,t.Dc(r?4:3,e))}function uy(t,e){if(HS(t=Tt(t)))return qF("Unsupported field value:",e,t),HF(t,e);if(t instanceof BS)return function(r,i){if(!$S(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=uy(a,i.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pe.fromDate(r);return{timestampValue:Yp(i.serializer,s)}}if(r instanceof Pe){const s=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yp(i.serializer,s)}}if(r instanceof Xn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:pS(i.serializer,r._byteString)};if(r instanceof bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yn)return function(o,a){return{mapValue:{fields:{[HI]:{stringValue:WI},[uh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return qg(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${qh(r)}`)}(t,e)}function HF(t,e){const n={};return FI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,i)=>{const s=uy(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function HS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof Xn||t instanceof ln||t instanceof bt||t instanceof BS||t instanceof Yn)}function qF(t,e,n){if(!HS(n)||!MI(n)){const r=qh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}const WF=new RegExp("[~\\*/\\[\\]]");function KF(t,e,n){if(e.search(WF)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zS(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function im(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new K(B.INVALID_ARGUMENT,a+t+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GF extends qS{data(){return super.data()}}function rd(t,e){return typeof e=="string"?KF(t,e):e instanceof zS?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cy{}class WS extends cy{}function kw(t,e,...n){let r=[];e instanceof cy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof hy).length,a=s.filter(u=>u instanceof id).length;if(o>1||o>0&&a>0)throw new K(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class id extends WS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new id(e,n,r)}_apply(e){const n=this._parse(e);return KS(e._query,n),new Ts(e.firestore,e.converter,Wp(e._query,n))}_parse(e){const n=BF(e.firestore);return function(s,o,a,u,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ow(f,h);const x=[];for(const T of f)x.push(Nw(u,s,T));p={arrayValue:{values:x}}}else p=Nw(u,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ow(f,h),p=$F(a,o,f,h==="in"||h==="not-in");return $e.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XF(t,e,n){const r=e,i=rd("where",t);return id._create(i,r,n)}class hy extends cy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:On.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)KS(o,u),o=Wp(o,u)}(e._query,n),new Ts(e.firestore,e.converter,Wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dy extends WS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(s,o)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new na(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YF(t,e="asc"){const n=e,r=rd("orderBy",t);return dy._create(r,n)}function Nw(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!X.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return K_(t,new X(r))}if(n instanceof bt)return K_(t,n._key);throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function Ow(t,e){if(!Array.isArray(t)||t.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JF{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ta(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[uh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Fe(o.doubleValue));return new Yn(s)}convertGeoPoint(e){return new Xn(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Ti(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Oe(ES(r),9688,{name:e});const i=new kl(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||xr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends qS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:He("string",uo._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Tc extends uo{data(e={}){return super.data(e)}}class co{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tc(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:ZF(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=LI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:He("string",co._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};class ej extends JF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Dw(t){t=zp(t,Ts);const e=zp(t.firestore,US),n=FF(e),r=new ej(e);return QF(t._query),DF(n,t._query).then(i=>new co(e,r,t,i))}(function(e,n=!0){(function(i){Zo=i})(_s),fs(new _i("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new US(new iM(r.getProvider("auth-internal")),new aM(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wn(D_,L_,e),Wn(D_,L_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="firebasestorage.googleapis.com",QS="storageBucket",tj=2*60*1e3,nj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends tr{constructor(e,n,r=0){super(_f(e),`Firebase Storage: ${n} (${_f(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function _f(t){return"storage/"+t}function XS(){const t="An unknown error occurred, please check the error payload for server response.";return new et(Ze.UNKNOWN,t)}function rj(t){return new et(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ij(t){return new et(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ze.UNAUTHENTICATED,t)}function oj(){return new et(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aj(t){return new et(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lj(){return new et(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uj(){return new et(Ze.CANCELED,"User canceled the upload/download.")}function cj(t){return new et(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function hj(t){return new et(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dj(){return new et(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QS+"' property when initializing the app?")}function fj(){return new et(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sm(t){return new et(Ze.INVALID_ARGUMENT,t)}function YS(){return new et(Ze.APP_DELETED,"The Firebase app was deleted.")}function pj(t){return new et(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ka(t){throw new et(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qt.makeFromUrl(e,n)}catch{return new Qt(e,"")}if(r.path==="")return r;throw hj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},T=n===GS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",v=new RegExp(`^https?://${T}/${i}/${S}`,"i"),C=[{regex:a,indices:u,postModify:s},{regex:y,indices:x,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<C.length;k++){const M=C[k],V=M.regex.exec(e);if(V){const _=V[M.indices.bucket];let E=V[M.indices.path];E||(E=""),r=new Qt(_,E),M.postModify(r);break}}if(r==null)throw cj(e);return r}}class mj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...S){c||(c=!0,e.apply(null,S))}function f(S){i=setTimeout(()=>{i=null,t(y,u())},S)}function p(){s&&clearTimeout(s)}function y(S,...v){if(c){p();return}if(S){p(),h.call(null,S,...v);return}if(u()||o){p(),h.call(null,S,...v);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,f(C)}let x=!1;function T(S){x||(x=!0,p(),!c&&(i!==null?(S||(a=2),clearTimeout(i),f(0)):S||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function yj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){return t!==void 0}function _j(t){return typeof t=="object"&&!Array.isArray(t)}function JS(t){return typeof t=="string"||t instanceof String}function Lw(t,e,n,r){if(r<e)throw sm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(is||(is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,i,s,o,a,u,c,h,f,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,T)=>{this.resolve_=x,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ju(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===is.NO_ERROR,u=s.getStatus();if(!a||wj(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===is.ABORT;r(!1,new Ju(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Ju(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());vj(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=XS();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?YS():uj();o(u)}else{const u=lj();o(u)}};this.canceled_?n(!1,new Ju(!1,null,!0)):this.backoffId_=gj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ju{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Tj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ij(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Cj(t,e,n,r,i,s,o=!0,a=!1){const u=eC(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return Ij(h,e),Tj(h,n),xj(h,s),Sj(h,r),new Ej(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){let e;try{e=JSON.parse(t)}catch{return null}return _j(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Rj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function nC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e){return e}class Ct{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Pj}}let Zu=null;function bj(t){return!JS(t)||t.length<2?t:nC(t)}function kj(){if(Zu)return Zu;const t=[];t.push(new Ct("bucket")),t.push(new Ct("generation")),t.push(new Ct("metageneration")),t.push(new Ct("name","fullPath",!0));function e(s,o){return bj(o)}const n=new Ct("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ct("size");return i.xform=r,t.push(i),t.push(new Ct("timeCreated")),t.push(new Ct("updated")),t.push(new Ct("md5Hash",null,!0)),t.push(new Ct("cacheControl",null,!0)),t.push(new Ct("contentDisposition",null,!0)),t.push(new Ct("contentEncoding",null,!0)),t.push(new Ct("contentLanguage",null,!0)),t.push(new Ct("contentType",null,!0)),t.push(new Ct("metadata","customMetadata",!0)),Zu=t,Zu}function Nj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Oj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Nj(r,t),r}function Dj(t,e,n){const r=tC(e);return r===null?null:Oj(t,r,n)}function Lj(t,e,n,r){const i=tC(e);if(i===null||!JS(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,f=t.fullPath,p="/b/"+o(h)+"/o/"+o(f),y=ZS(p,n,r),x=eC({alt:"media",token:c});return y+x})[0]}class Mj{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){if(!t)throw XS()}function Fj(t,e){function n(r,i){const s=Dj(t,i,e);return Vj(s!==null),Lj(s,i,t.host,t._protocol)}return n}function jj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oj():i=sj():n.getStatus()===402?i=ij(t.bucket):n.getStatus()===403?i=aj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Uj(t){const e=jj(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rj(t.path)),s.serverResponse=i.serverResponse,s}return n}function zj(t,e,n){const r=e.fullServerUrl(),i=ZS(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Mj(i,s,Fj(t,n),o);return a.errorHandler=Uj(e),a}class Bj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw ka("cannot .send() more than once");if(bi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ka("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ka("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ka("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ka("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $j extends Bj{initXhr(){this.xhr_.responseType="text"}}function Hj(){return new $j}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this._service=e,n instanceof Qt?this._location=n:this._location=Qt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gs(e,n)}get root(){const e=new Qt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nC(this._location.path)}get storage(){return this._service}get parent(){const e=Aj(this._location.path);if(e===null)return null;const n=new Qt(this._location.bucket,e);return new gs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pj(e)}}function qj(t){t._throwIfRoot("getDownloadURL");const e=zj(t.storage,t._location,kj());return t.storage.makeRequestWithTokens(e,Hj).then(n=>{if(n===null)throw fj();return n})}function Wj(t,e){const n=Rj(t._location.path,e),r=new Qt(t._location.bucket,n);return new gs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t){return/^[A-Za-z]+:\/\//.test(t)}function Gj(t,e){return new gs(t,e)}function rC(t,e){if(t instanceof fy){const n=t;if(n._bucket==null)throw dj();const r=new gs(n,n._bucket);return e!=null?rC(r,e):r}else return e!==void 0?Wj(t,e):t}function Qj(t,e){if(e&&Kj(e)){if(t instanceof fy)return Gj(t,e);throw sm("To use ref(service, url), the first argument must be a Storage instance.")}else return rC(t,e)}function Mw(t,e){const n=e==null?void 0:e[QS];return n==null?null:Qt.makeFromBucketSpec(n,t)}function Xj(t,e,n,r={}){t.host=`${e}:${n}`;const i=bi(e);i&&(Cg(`https://${t.host}/b`),Ag("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:jx(s,t.app.options.projectId))}class fy{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=GS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tj,this._maxUploadRetryTime=nj,this._requests=new Set,i!=null?this._bucket=Qt.makeFromBucketSpec(i,this._host):this._bucket=Mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qt.makeFromBucketSpec(this._url,e):this._bucket=Mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mj(YS());{const o=Cj(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Vw="@firebase/storage",Fw="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="storage";function Yj(t){return t=Tt(t),qj(t)}function Jj(t,e){return t=Tt(t),Qj(t,e)}function Zj(t=bg(),e){t=Tt(t);const r=Uh(t,iC).getImmediate({identifier:e}),i=Mx("storage");return i&&e3(r,...i),r}function e3(t,e,n,r={}){Xj(t,e,n,r)}function t3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fy(n,r,i,e,_s)}function n3(){fs(new _i(iC,t3,"PUBLIC").setMultipleInstances(!0)),Wn(Vw,Fw,""),Wn(Vw,Fw,"esm2017")}n3();const mh={apiKey:"AIzaSyAWLbxmvwAKx1_rXS_4qMcZWttCRbPsyF4",authDomain:"app-hinos.firebaseapp.com",projectId:"app-hinos",storageBucket:"app-hinos.firebasestorage.app",messagingSenderId:"1070834473436",appId:"1:1070834473436:web:ff068364f18cb587f25719"};console.log("Firebase config status:",{hasApiKey:!0,hasProjectId:!0,hasAppId:!0,projectId:"app-hinos",authDomain:mh.authDomain,storageBucket:mh.storageBucket});const un=Object.values(mh).every(t=>t&&!String(t).startsWith("your_"));let ec,om,am,Ft,py;if(un){ec=Bx(mh),om=VF(ec);try{console.log("Production mode: Using Firebase online mode")}catch(t){console.warn("Could not enable Firestore persistence:",t)}am=Zj(ec),Ft=SI(ec),py=Promise.resolve().then(()=>{console.log("Firebase authentication initialized")})}else console.warn("Firebase not configured. Running in offline mode.");const sC=P.createContext(void 0);function ru(){const t=P.useContext(sC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function r3({children:t}){const[e,n]=P.useState(null),[r,i]=P.useState(!0);P.useEffect(()=>{if(!un||!Ft){i(!1);return}return pI(Ft,c=>{n(c),i(!1)})},[]);const a={user:e,loading:r,login:async(u,c)=>{if(!un||!Ft)throw new Error("Firebase não está configurado");try{await jL(Ft,u,c)}catch(h){throw console.error("Login error:",h),h}},logout:async()=>{if(!un||!Ft)throw new Error("Firebase não está configurado");try{await BL(Ft)}catch(u){throw console.error("Logout error:",u),u}}};return g.jsx(sC.Provider,{value:a,children:t})}const oC=P.createContext(void 0),jw="programacao";function i3({children:t}){const[e,n]=P.useState([]);P.useEffect(()=>{try{const a=localStorage.getItem(jw);a&&n(JSON.parse(a))}catch(a){console.error("Erro ao carregar programacao do localStorage",a)}},[]),P.useEffect(()=>{try{localStorage.setItem(jw,JSON.stringify(e))}catch(a){console.error("Erro ao salvar programacao no localStorage",a)}},[e]);const r=a=>{n(u=>u.some(c=>c.organKey===a.organKey&&c.hymnIndex===a.hymnIndex)?u:[...u,a])},i=(a,u)=>{n(c=>c.filter(h=>!(h.organKey===a&&h.hymnIndex===u)))},s=a=>{n(u=>u.some(h=>h.organKey===a.organKey&&h.hymnIndex===a.hymnIndex)?u.filter(h=>!(h.organKey===a.organKey&&h.hymnIndex===a.hymnIndex)):[...u,a])},o=(a,u)=>e.some(c=>c.organKey===a&&c.hymnIndex===u);return g.jsx(oC.Provider,{value:{programacao:e,addItem:r,removeItem:i,toggleItem:s,isProgrammed:o},children:t})}function sd(){const t=P.useContext(oC);if(!t)throw new Error("useProgramacao must be used within a ProgramacaoProvider");return t}const Uw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zw=$T,my=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],f=s==null?void 0:s[c];if(h===null)return null;const p=Uw(h)||Uw(f);return i[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...y}=h;return Object.entries(y).every(x=>{let[T,S]=x;return Array.isArray(S)?S.includes({...s,...a}[T]):{...s,...a}[T]===S})?[...c,f,p]:c},[]);return zw(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},s3=my("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=P.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?dN:"button";return g.jsx(o,{className:Ge(s3({variant:e,size:n,className:t})),ref:s,...i})});qe.displayName="Button";const pn=P.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));pn.displayName="Card";const ia=P.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ge("flex flex-col space-y-1.5 p-6",t),...e}));ia.displayName="CardHeader";const sa=P.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));sa.displayName="CardTitle";const aC=P.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ge("text-sm text-muted-foreground",t),...e}));aC.displayName="CardDescription";const mn=P.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ge("p-6 pt-0",t),...e}));mn.displayName="CardContent";const o3=P.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Ge("flex items-center p-6 pt-0",t),...e}));o3.displayName="CardFooter";function a3({onFinish:t,holdMs:e=3200,xfadeMs:n=950,logoHoldMs:r=1e3}){const[a,u]=P.useState(!1),[c,h]=P.useState(!1);return P.useEffect(()=>{const f=setTimeout(()=>{u(!0),h(!0)},e),p=setTimeout(()=>{t==null||t()},e+n+r);return()=>{clearTimeout(f),clearTimeout(p)}},[e,n,r,t]),g.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,display:"grid",placeItems:"center",background:"linear-gradient(135deg,#0a2a59,#0f4e98)"},children:[g.jsx("style",{children:`
        @keyframes sp_eqCenter{
          0%   { transform: scaleY(var(--sp-a0)); }
          25%  { transform: scaleY(var(--sp-a1)); }
          50%  { transform: scaleY(var(--sp-a2)); }
          75%  { transform: scaleY(var(--sp-a3)); }
          100% { transform: scaleY(var(--sp-a0)); }
        }
      `}),g.jsxs("div",{style:{position:"relative",width:"min(92vw, 900px)",height:"min(60vh, 520px)"},children:[g.jsxs("div",{style:{position:"absolute",inset:0,display:"grid",placeItems:"center",transform:`translate(0px, 0px) ${a?" translateX(140px)":""}`,transition:`transform ${n}ms ease, opacity ${n}ms ease, filter ${n}ms ease`,opacity:a?0:1,filter:a?"blur(4px)":"none"},children:[g.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,zIndex:-1,opacity:.22,background:"radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,.45), transparent 60%)",filter:"blur(18px)"}}),g.jsx("div",{style:{display:"flex",gap:14,alignItems:"center",height:70,filter:"drop-shadow(0 12px 30px rgba(0,0,0,.25))"},children:[{h:80,delay:0,amp:.45},{h:140,delay:.15,amp:.95},{h:110,delay:.3,amp:.7},{h:90,delay:.45,amp:.8}].map((f,p)=>g.jsx("div",{style:{width:9,height:f.h,borderRadius:999,background:"linear-gradient(180deg,#05d7ff,#34c17d)",boxShadow:"0 6px 24px rgba(0,0,0,.25), inset 0 0 18px rgba(5,215,255,.15)",transformOrigin:"center","--sp-a0":`calc(.70 + ${f.amp}*.05)`,"--sp-a1":`calc(.95 + ${f.amp}*.35)`,"--sp-a2":`calc(1.15 + ${f.amp}*.20)`,"--sp-a3":`calc(.90 + ${f.amp}*.30)`,animation:`sp_eqCenter 1.1s ease-in-out ${f.delay}s infinite`}},p))})]}),g.jsx("div",{style:{position:"absolute",inset:0,display:"grid",placeItems:"center",opacity:c?1:0,transform:c?"scale(1)":"scale(0.985)",transition:`opacity ${n}ms ease, transform ${n}ms ease`},children:g.jsx("img",{src:"/logo.png",alt:"Belém Play",style:{display:"block",width:"clamp(234px, 40vmin, 540px)",height:"auto",filter:"drop-shadow(0 10px 22px rgba(0,0,0,.25))"}})})]})]})}function Kt({children:t,title:e="",breadcrumbs:n,showBackButton:r=!1,onBackClick:i,showSettingsButton:s=!1}){const[o,a]=Sr(),{user:u,loading:c}=ru();P.useEffect(()=>{const x=()=>{try{sessionStorage.setItem("wasReload","1")}catch{}};return window.addEventListener("beforeunload",x),()=>window.removeEventListener("beforeunload",x)},[]),P.useEffect(()=>{let x=!1;try{x=sessionStorage.getItem("wasReload")==="1"}catch{}if(x){try{sessionStorage.removeItem("wasReload")}catch{}o!=="/"&&a("/",{replace:!0})}},[]);const[h,f]=P.useState(()=>!window.__splashShown),p=()=>{i?i():a("/")},y=()=>{c||a(u?"/config":"/login")};return g.jsxs("div",{className:"min-h-screen bg-church-bg",children:[h&&g.jsx(a3,{holdMs:1200,xfadeMs:950,logoHoldMs:800,onFinish:()=>{window.__splashShown=!0,f(!1)}}),g.jsxs("header",{className:"shadow-lg relative flex items-center",style:{background:"linear-gradient(90deg, #0F2247, #4DB4E7)",height:"100px"},children:[g.jsx("img",{src:"/detalhe-header.png",alt:"Detalhe",style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",height:"140%",opacity:.6,zIndex:1,mixBlendMode:"overlay",pointerEvents:"none"}}),g.jsxs("div",{className:"container mx-auto px-4 h-full",style:{position:"relative",zIndex:2},children:[g.jsxs("div",{className:"flex items-center justify-between h-full",children:[g.jsxs("div",{className:"flex items-center h-full",children:[r&&g.jsx(qe,{variant:"ghost",size:"sm",onClick:p,className:"mr-4 text-white hover:text-white hover:bg-white/10 p-4 rounded-lg",children:g.jsx(VT,{className:"h-6 w-6"})}),e?g.jsx("h1",{className:"text-white font-bold ml-5 text-[25px]",children:e}):g.jsx("img",{src:"/logo.svg",alt:"Belém Play",style:{maxHeight:"120%",marginLeft:15,display:"block"}})]}),s&&g.jsx("div",{className:"flex items-center",children:g.jsx(qe,{variant:"outline",size:"sm",onClick:y,className:"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-9 text-white hover:text-white hover:bg-white/10 p-5 rounded-xl border-2 border-white/30 hover:border-white/50 bg-[#3d8ebd] mt-[0px] mb-[0px] pt-[20px] pb-[20px]",style:{minHeight:"56px",minWidth:"56px"},children:g.jsx(_k,{className:"h-8 w-8"})})})]}),n&&n.length>0&&g.jsxs("nav",{className:"mt-2 text-church-light text-sm",children:[g.jsx("span",{children:"Início"}),n.map((x,T)=>g.jsxs("span",{children:[g.jsx("span",{className:"mx-2",children:"›"}),g.jsx("span",{children:x})]},T))]})]})]}),g.jsx("main",{className:"container mx-auto px-4 py-8",children:t})]})}const iu=[{key:"coral",name:"Coral",description:"Hinos do coral da igreja",icon:"users"},{key:"conjunto-musical",name:"Conjunto Musical",description:"Instrumentos e vocais",icon:"music"},{key:"criancas",name:"Crianças",description:"Hinos infantis",icon:"baby"},{key:"proat",name:"PROATI",description:"Programa de Orientação à Terceira Idade",icon:"user-check"},{key:"uniao-adolescentes",name:"União de Adolescentes",description:"Hinos para adolescentes",icon:"user-plus"},{key:"grupo-jovem",name:"Grupo Jovem",description:"Louvor dos jovens",icon:"guitar"},{key:"comissao",name:"Comissão",description:"Hinos da comissão",icon:"heart"},{key:"campanha",name:"Campanha",description:"Hinos de campanha",icon:"flag"}],l3=my("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function u3({className:t,variant:e,...n}){return g.jsx("div",{className:Ge(l3({variant:e}),t),...n})}const c3={users:zT,music:yk,baby:lk,"user-check":Ik,"user-plus":Sk,guitar:mk,heart:gk,flag:pk};function h3(){const[,t]=Sr(),{programacao:e}=sd(),n=r=>{t(`/organ/${r}`)};return g.jsx(Kt,{showSettingsButton:!0,children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsxs(qe,{onClick:()=>t("/programacao"),className:"relative px-8 py-8 text-xl rounded-xl font-semibold",children:["Programação",e.length>0&&g.jsx(u3,{variant:"destructive",className:"ml-3 px-3 py-1 text-sm",children:e.length})]})}),g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"font-bold text-church-primary mb-2 text-[27px]",children:"Selecione o Órgão"}),g.jsx("p",{className:"text-church-text opacity-75",children:"Escolha o órgão da igreja para acessar os hinos"})]}),g.jsx("div",{className:"flex flex-col items-center",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 w-full max-w-4xl",children:iu.map(r=>{const i=c3[r.icon]||zT;return g.jsx(qe,{variant:"ghost",className:"h-auto p-0 min-h-[80px] w-full",onClick:()=>n(r.key),children:g.jsx(pn,{className:"w-full bg-gradient-to-r from-white to-blue-50 hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-church-secondary group hover:scale-105 active:scale-100 shadow-md",children:g.jsx(mn,{className:"p-6 min-h-[80px] flex items-center",children:g.jsxs("div",{className:"flex items-center justify-between w-full",children:[g.jsxs("div",{className:"text-left flex items-center",children:[g.jsx(i,{className:"text-church-secondary mr-4 h-8 w-8"}),g.jsx("h3",{className:"font-semibold text-church-primary group-hover:text-church-secondary text-center md:text-left text-[18px]",style:{fontSize:"16px",fontWeight:"600"},children:r.name})]}),g.jsx(FT,{className:"text-church-accent opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6"})]})})})},r.key)})})})]})})}async function d3(t){var e,n,r;if(!un||!om)return console.warn("Firebase not configured, using offline mode"),[];try{console.log("Getting hymns for organ using Firebase SDK:",t);const i=MF(om,"hinos"),s=kw(i,XF("orgao","==",t),YF("numero","asc")),o=await Dw(s);if(console.log("Firebase SDK query completed, documents found:",o.size),o.size===0){console.log("No documents found for exact match, checking all documents for debugging...");const u=kw(i),c=await Dw(u);console.log("Total documents in hinos collection:",c.size);const h=new Set;c.docs.forEach(f=>{const p=f.data();p.orgao&&h.add(p.orgao)}),console.log("Available organ names in database:",Array.from(h)),console.log("Looking for organ name:",t)}const a=[];for(const u of o.docs){const c=u.data();console.log("Processing hymn:",c);let h="";if(c.audioPath&&am)try{const p=Jj(am,c.audioPath);h=await Yj(p),console.log("Got download URL:",h)}catch(p){console.error("Error getting download URL for",c.audioPath,p)}const f={numero:c.numero||0,titulo:c.titulo||"",orgao:c.orgao||"",audioPath:c.audioPath||"",audioUrl:h,criadoEm:((r=(n=(e=c.criadoEm)==null?void 0:e.toDate)==null?void 0:n.call(e))==null?void 0:r.toISOString())||c.criadoEm||new Date().toISOString()};a.push(f)}return console.log("Final hymns processed via SDK:",a.length),a}catch(i){return console.error("Error fetching hymns by organ with Firebase SDK:",i),[]}}const f3={coral:"Coral","conjunto-musical":"Conjunto Musical",criancas:"Crianças",proat:"PROATI","uniao-adolescentes":"União de Adolescentes","grupo-jovem":"Grupo Jovem",comissao:"Comissão",campanha:"Campanha"};function lC(t){const[e,n]=P.useState(navigator.onLine),[r,i]=P.useState(!1),[s,o]=P.useState([]),[a,u]=P.useState(!1),[c,h]=P.useState(0);P.useEffect(()=>{const S=()=>n(!0),v=()=>n(!1);return window.addEventListener("online",S),window.addEventListener("offline",v),()=>{window.removeEventListener("online",S),window.removeEventListener("offline",v)}},[]),P.useEffect(()=>{const S=v=>{h(w=>w+1)};return window.addEventListener("hymn-added",S),()=>{window.removeEventListener("hymn-added",S)}},[]),P.useEffect(()=>{(async()=>{if(!un&&t){u(!0);try{const v=await fetch(`/data/hymns/${t}.json`);if(v.ok){const w=await v.json();o(w)}}catch(v){console.error("Error loading fallback data:",v)}finally{u(!1)}}})()},[t]),P.useEffect(()=>{un&&e&&!r&&i(!0)},[e,r]);const f=tk({queryKey:["hymns",t,"sdk",c],queryFn:async()=>{if(!un)throw new Error("Firebase not configured");const S=f3[t];if(!S)throw new Error("Órgão não encontrado");return await d3(S)},enabled:un&&!!t,staleTime:3e4,retry:3});let p=[],y=[],x=!1,T=null;if(!un)p=s,x=a,y=[];else{const S=f.data||[];y=S,p=S.map(v=>({titulo:v.titulo,url:v.audioUrl||""})),x=f.isLoading,T=f.error}return{hymns:p,firebaseHymns:y,isLoading:x,error:T,isOnline:e,hasOfflineData:!1,refetch:f==null?void 0:f.refetch}}function p3(t,e){const{hymns:n,firebaseHymns:r,isLoading:i,error:s,isOnline:o}=lC(t),a=n[e]||null,u=r[e]||null;return{hymn:a,firebaseHymn:u,isLoading:i,error:s,isOnline:o}}function uC(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gy="Checkbox",[m3,PU]=Ko(gy),[g3,y3]=m3(gy),cC=P.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:u="on",onCheckedChange:c,form:h,...f}=t,[p,y]=P.useState(null),x=Nt(e,k=>y(k)),T=P.useRef(!1),S=p?h||!!p.closest("form"):!0,[v=!1,w]=Tx({prop:i,defaultProp:s,onChange:c}),C=P.useRef(v);return P.useEffect(()=>{const k=p==null?void 0:p.form;if(k){const M=()=>w(C.current);return k.addEventListener("reset",M),()=>k.removeEventListener("reset",M)}},[p,w]),g.jsxs(g3,{scope:n,state:v,disabled:a,children:[g.jsx(xt.button,{type:"button",role:"checkbox","aria-checked":fi(v)?"mixed":v,"aria-required":o,"data-state":fC(v),"data-disabled":a?"":void 0,disabled:a,value:u,...f,ref:x,onKeyDown:st(t.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:st(t.onClick,k=>{w(M=>fi(M)?!0:!M),S&&(T.current=k.isPropagationStopped(),T.current||k.stopPropagation())})}),S&&g.jsx(v3,{control:p,bubbles:!T.current,name:r,value:u,checked:v,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:fi(s)?!1:s})]})});cC.displayName=gy;var hC="CheckboxIndicator",dC=P.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=y3(hC,n);return g.jsx(Ig,{present:r||fi(s.state)||s.state===!0,children:g.jsx(xt.span,{"data-state":fC(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});dC.displayName=hC;var v3=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=P.useRef(null),a=uC(n),u=Tg(e);P.useEffect(()=>{const h=o.current,f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&y){const x=new Event("click",{bubbles:r});h.indeterminate=fi(n),y.call(h,fi(n)?!1:n),h.dispatchEvent(x)}},[a,n,r]);const c=P.useRef(fi(n)?!1:n);return g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fi(t){return t==="indeterminate"}function fC(t){return fi(t)?"indeterminate":t?"checked":"unchecked"}var pC=cC,_3=dC;const mC=P.forwardRef(({className:t,...e},n)=>g.jsx(pC,{ref:n,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:g.jsx(_3,{className:Ge("flex items-center justify-center text-current"),children:g.jsx(uk,{className:"h-4 w-4"})})}));mC.displayName=pC.displayName;function w3({organKey:t}){const[,e]=Sr(),n=iu.find(p=>p.key===t),{hymns:r,isLoading:i,error:s,isOnline:o,hasOfflineData:a}=lC(t),{toggleItem:u,isProgrammed:c}=sd(),h=p=>{e(`/organ/${t}/hymn/${p}`)},f=()=>{e("/")};return n?i?g.jsx(Kt,{title:n.name,breadcrumbs:[n.name],showBackButton:!0,onBackClick:f,children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"h-8 w-8 mx-auto mb-4 border-2 border-church-primary border-r-transparent rounded-full animate-spin"}),g.jsx("p",{className:"text-church-text",children:"Carregando hinos..."})]})}):s&&!a?g.jsx(Kt,{title:n.name,breadcrumbs:[n.name],showBackButton:!0,onBackClick:f,children:g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-church-text text-red-600",children:"Erro ao carregar hinos. Verifique sua conexão."})})}):g.jsx(Kt,{title:n.name,breadcrumbs:[n.name],showBackButton:!0,onBackClick:f,children:g.jsx("div",{className:"max-w-4xl mx-auto",children:g.jsxs(pn,{className:"bg-white shadow-lg overflow-hidden",children:[g.jsxs("div",{className:"bg-church-primary p-6",children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Hinos do ",n.name]}),g.jsxs("p",{className:"text-church-light",children:["Selecione um hino para reproduzir",!o&&a&&" (modo offline)"]})]}),g.jsx(mn,{className:"p-6",children:r.length===0?g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-church-text opacity-75",children:"Nenhum hino encontrado para este órgão."})}):g.jsx("div",{className:"space-y-3",children:r.map((p,y)=>g.jsx(qe,{variant:"ghost",className:"w-full h-auto p-0",onClick:()=>h(y),children:g.jsx(pn,{className:"w-full border-2 border-gray-100 hover:border-church-secondary hover:bg-church-light hover:bg-opacity-10 transition-all duration-200 group",children:g.jsx(mn,{className:"p-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center text-left",children:[g.jsx("span",{className:"text-church-primary font-bold text-lg mr-4 bg-church-light bg-opacity-30 w-10 h-10 rounded-full flex items-center justify-center",children:y+1}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-church-text font-semibold group-hover:text-church-primary",children:p.titulo}),g.jsxs("p",{className:"text-church-text opacity-60 text-sm",children:["Hino ",y+1]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("label",{className:"flex items-center space-x-1",onClick:x=>x.stopPropagation(),children:[g.jsx(mC,{checked:c(t,y),onCheckedChange:()=>u({organKey:t,hymnIndex:y,titulo:p.titulo})}),g.jsx("span",{className:"text-sm text-church-text",children:"Programar"})]}),g.jsx(UT,{className:"text-church-accent text-lg mr-2 opacity-0 group-hover:opacity-100 transition-opacity h-5 w-5"}),g.jsx(FT,{className:"text-church-text opacity-40 group-hover:opacity-100 transition-opacity h-4 w-4"})]})]})})})},`hymn-${y}-${p.titulo}`))})})]})})}):g.jsx(Kt,{title:"Órgão não encontrado",showBackButton:!0,onBackClick:f,children:g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-church-text",children:"Órgão não encontrado."})})})}function gC(t,[e,n]){return Math.min(n,Math.max(e,t))}var E3=P.createContext(void 0);function T3(t){const e=P.useContext(E3);return t||e||"ltr"}function x3(t){const e=t+"CollectionProvider",[n,r]=Ko(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:S,children:v}=T,w=Dr.useRef(null),C=Dr.useRef(new Map).current;return g.jsx(i,{scope:S,itemMap:C,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",u=Gc(a),c=Dr.forwardRef((T,S)=>{const{scope:v,children:w}=T,C=s(a,v),k=Nt(S,C.collectionRef);return g.jsx(u,{ref:k,children:w})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Gc(h),y=Dr.forwardRef((T,S)=>{const{scope:v,children:w,...C}=T,k=Dr.useRef(null),M=Nt(S,k),V=s(h,v);return Dr.useEffect(()=>(V.itemMap.set(k,{ref:k,...C}),()=>void V.itemMap.delete(k))),g.jsx(p,{[f]:"",ref:M,children:w})});y.displayName=h;function x(T){const S=s(t+"CollectionConsumer",T);return Dr.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((V,_)=>C.indexOf(V.ref.current)-C.indexOf(_.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:c,ItemSlot:y},x,r]}var yC=["PageUp","PageDown"],vC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_C={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},oa="Slider",[lm,I3,S3]=x3(oa),[wC,bU]=Ko(oa,[S3]),[C3,od]=wC(oa),EC=P.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:u=0,defaultValue:c=[r],value:h,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:x,...T}=t,S=P.useRef(new Set),v=P.useRef(0),C=o==="horizontal"?A3:R3,[k=[],M]=Tx({prop:h,defaultProp:c,onChange:N=>{var b;(b=[...S.current][v.current])==null||b.focus(),f(N)}}),V=P.useRef(k);function _(N){const O=O3(k,N);R(N,O)}function E(N){R(N,v.current)}function A(){const N=V.current[v.current];k[v.current]!==N&&p(k)}function R(N,O,{commit:b}={commit:!1}){const Z=V3(s),ge=F3(Math.round((N-r)/s)*s+r,Z),ie=gC(ge,[r,i]);M((ne=[])=>{const j=k3(ne,ie,O);if(M3(j,u*s)){v.current=j.indexOf(ie);const H=String(j)!==String(ne);return H&&b&&p(j),H?j:ne}else return ne})}return g.jsx(C3,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:v,thumbs:S.current,values:k,orientation:o,form:x,children:g.jsx(lm.Provider,{scope:t.__scopeSlider,children:g.jsx(lm.Slot,{scope:t.__scopeSlider,children:g.jsx(C,{"aria-disabled":a,"data-disabled":a?"":void 0,...T,ref:e,onPointerDown:st(T.onPointerDown,()=>{a||(V.current=k)}),min:r,max:i,inverted:y,onSlideStart:a?void 0:_,onSlideMove:a?void 0:E,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&R(r,0,{commit:!0}),onEndKeyDown:()=>!a&&R(i,k.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:O})=>{if(!a){const ge=yC.includes(N.key)||N.shiftKey&&vC.includes(N.key)?10:1,ie=v.current,ne=k[ie],j=s*ge*O;R(ne+j,ie,{commit:!0})}}})})})})});EC.displayName=oa;var[TC,xC]=wC(oa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A3=P.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:u,onStepKeyDown:c,...h}=t,[f,p]=P.useState(null),y=Nt(e,C=>p(C)),x=P.useRef(void 0),T=T3(i),S=T==="ltr",v=S&&!s||!S&&s;function w(C){const k=x.current||f.getBoundingClientRect(),M=[0,k.width],_=yy(M,v?[n,r]:[r,n]);return x.current=k,_(C-k.left)}return g.jsx(TC,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:g.jsx(IC,{dir:T,"data-orientation":"horizontal",...h,ref:y,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const k=w(C.clientX);o==null||o(k)},onSlideMove:C=>{const k=w(C.clientX);a==null||a(k)},onSlideEnd:()=>{x.current=void 0,u==null||u()},onStepKeyDown:C=>{const M=_C[v?"from-left":"from-right"].includes(C.key);c==null||c({event:C,direction:M?-1:1})}})})}),R3=P.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:u,...c}=t,h=P.useRef(null),f=Nt(e,h),p=P.useRef(void 0),y=!i;function x(T){const S=p.current||h.current.getBoundingClientRect(),v=[0,S.height],C=yy(v,y?[r,n]:[n,r]);return p.current=S,C(T-S.top)}return g.jsx(TC,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:g.jsx(IC,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:T=>{const S=x(T.clientY);s==null||s(S)},onSlideMove:T=>{const S=x(T.clientY);o==null||o(S)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:T=>{const v=_C[y?"from-bottom":"from-top"].includes(T.key);u==null||u({event:T,direction:v?-1:1})}})})}),IC=P.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:u,...c}=t,h=od(oa,n);return g.jsx(xt.span,{...c,ref:e,onKeyDown:st(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):yC.concat(vC).includes(f.key)&&(u(f),f.preventDefault())}),onPointerDown:st(t.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(p)?p.focus():r(f)}),onPointerMove:st(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:st(t.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),s(f))})})}),SC="SliderTrack",CC=P.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=od(SC,n);return g.jsx(xt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});CC.displayName=SC;var um="SliderRange",AC=P.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=od(um,n),s=xC(um,n),o=P.useRef(null),a=Nt(e,o),u=i.values.length,c=i.values.map(p=>PC(p,i.min,i.max)),h=u>1?Math.min(...c):0,f=100-Math.max(...c);return g.jsx(xt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:f+"%"}})});AC.displayName=um;var cm="SliderThumb",RC=P.forwardRef((t,e)=>{const n=I3(t.__scopeSlider),[r,i]=P.useState(null),s=Nt(e,a=>i(a)),o=P.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return g.jsx(P3,{...t,ref:s,index:o})}),P3=P.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=od(cm,n),a=xC(cm,n),[u,c]=P.useState(null),h=Nt(e,w=>c(w)),f=u?o.form||!!u.closest("form"):!0,p=Tg(u),y=o.values[r],x=y===void 0?0:PC(y,o.min,o.max),T=N3(r,o.values.length),S=p==null?void 0:p[a.size],v=S?D3(S,x,a.direction):0;return P.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),g.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${v}px)`},children:[g.jsx(lm.ItemSlot,{scope:t.__scopeSlider,children:g.jsx(xt.span,{role:"slider","aria-label":t["aria-label"]||T,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:h,style:y===void 0?{display:"none"}:t.style,onFocus:st(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&g.jsx(b3,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},r)]})});RC.displayName=cm;var b3=t=>{const{value:e,...n}=t,r=P.useRef(null),i=uC(e);return P.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&u){const c=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(c)}},[i,e]),g.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function k3(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function PC(t,e,n){const s=100/(n-e)*(t-e);return gC(s,[0,100])}function N3(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function O3(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function D3(t,e,n){const r=t/2,s=yy([0,50],[0,r]);return(r-s(e)*n)*n}function L3(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function M3(t,e){if(e>0){const n=L3(t);return Math.min(...n)>=e}return!0}function yy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function V3(t){return(String(t).split(".")[1]||"").length}function F3(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var bC=EC,j3=CC,U3=AC,z3=RC;const hm=P.forwardRef(({className:t,...e},n)=>g.jsxs(bC,{ref:n,className:Ge("relative flex w-full touch-none select-none items-center",t),...e,children:[g.jsx(j3,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:g.jsx(U3,{className:"absolute h-full bg-primary"})}),g.jsx(z3,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));hm.displayName=bC.displayName;function B3({hymn:t,onError:e,onPlay:n}){const r=P.useRef(null),[i,s]=P.useState(!1),[o,a]=P.useState(0),[u,c]=P.useState(0),[h,f]=P.useState(50),[p,y]=P.useState(!1),[x,T]=P.useState(!0);P.useEffect(()=>{const _=r.current;if(!_)return;if(!t.url||t.url.trim()===""){T(!1),e==null||e("URL do áudio não disponível. Tente sincronizar novamente.");return}const E=_.src,A=t.url;if(E!==A){T(!0),s(!1),a(0),c(0),_.removeAttribute("src"),_.load();const j=A.trim().replace(/\n/g,"").replace(/\r/g,"").replace(/\s+/g," ").trim();try{j.includes("firebasestorage.googleapis.com"),_.removeAttribute("crossOrigin"),_.src=j,_.load()}catch{e==null||e("Erro ao carregar áudio. Tente novamente.")}}const R=()=>{c(_.duration),T(!1)},N=()=>a(_.currentTime),O=()=>{s(!1),a(0)},b=()=>{T(!1),e==null||e("Erro ao reproduzir o áudio. Faça deploy da aplicação.")},Z=()=>T(!0),ge=()=>T(!1),ie=()=>s(!0),ne=()=>s(!1);return _.addEventListener("loadedmetadata",R),_.addEventListener("timeupdate",N),_.addEventListener("ended",O),_.addEventListener("error",b),_.addEventListener("loadstart",Z),_.addEventListener("canplay",ge),_.addEventListener("play",ie),_.addEventListener("pause",ne),()=>{try{_.removeEventListener("loadedmetadata",R),_.removeEventListener("timeupdate",N),_.removeEventListener("ended",O),_.removeEventListener("error",b),_.removeEventListener("loadstart",Z),_.removeEventListener("canplay",ge),_.removeEventListener("play",ie),_.removeEventListener("pause",ne)}catch{}}},[t.url,e]),P.useEffect(()=>{const _=r.current;_&&(_.volume=p?0:h/100)},[h,p]);const S=async()=>{const _=r.current;if(_)try{i?_.pause():(await _.play(),n==null||n(),s(!0))}catch(E){e==null||e(`Erro ao reproduzir o áudio: ${E.message}`)}},v=_=>{const E=r.current;if(E&&u>0){const A=_[0]/100*u;E.currentTime=A,a(A)}},w=()=>{const _=r.current;_&&(_.currentTime=Math.max(0,_.currentTime-10))},C=()=>{const _=r.current;_&&(_.currentTime=Math.min(u,_.currentTime+10))},k=()=>y(!p),M=_=>{const E=Math.floor(_/60),A=Math.floor(_%60);return`${E}:${A.toString().padStart(2,"0")}`},V=u>0?o/u*100:0;return!t.url||t.url.trim()===""?g.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:g.jsxs("div",{className:"bg-gradient-to-r from-church-primary to-church-secondary p-8 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.titulo}),g.jsx("p",{className:"text-church-light",children:"Áudio não disponível. Tente sincronizar novamente."})]})}):g.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[g.jsxs("div",{className:"bg-gradient-to-r from-church-primary to-church-secondary p-8 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.titulo}),g.jsx("p",{className:"text-church-light",children:x?"Carregando...":"Pronto para reproduzir"})]}),g.jsxs("div",{className:"p-8",children:[g.jsx("audio",{ref:r,preload:"metadata",crossOrigin:"anonymous",controls:!1,children:"Seu navegador não suporta o elemento de áudio."}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex justify-between text-sm text-church-text mb-2",children:[g.jsx("span",{children:M(o)}),g.jsx("span",{children:M(u)})]}),g.jsx(hm,{value:[V],onValueChange:v,max:100,step:1,className:"w-full"})]}),g.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6",children:[g.jsx(qe,{variant:"ghost",size:"lg",onClick:w,disabled:x,className:"text-church-secondary hover:text-church-primary",children:g.jsx(wk,{className:"h-6 w-6"})}),g.jsx(qe,{onClick:S,disabled:x,className:"bg-church-primary hover:bg-church-secondary text-white rounded-full w-16 h-16 shadow-lg",size:"lg",children:i?g.jsx(vk,{className:"h-6 w-6"}):g.jsx(UT,{className:"h-6 w-6 ml-1"})}),g.jsx(qe,{variant:"ghost",size:"lg",onClick:C,disabled:x,className:"text-church-secondary hover:text-church-primary",children:g.jsx(Ek,{className:"h-6 w-6"})})]}),i&&g.jsx("div",{className:"audio-visualizer flex justify-center items-center mb-4 h-12",children:g.jsx("div",{className:"flex items-end space-x-1",children:[...Array(15)].map((_,E)=>g.jsx("div",{className:"bg-gradient-to-t from-church-primary to-church-secondary rounded-t-sm equalizer-bar",style:{width:"4px",height:`${8+E%3*4}px`,animationDelay:`${E*.1}s`,animationDuration:`${.5+E%3*.2}s`}},E))})}),g.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[g.jsx(qe,{variant:"ghost",size:"sm",onClick:k,className:"text-church-text",children:p?g.jsx(Ak,{className:"h-4 w-4"}):g.jsx(Ck,{className:"h-4 w-4"})}),g.jsx("div",{className:"w-32",children:g.jsx(hm,{value:[h],onValueChange:_=>f(_[0]),max:100,step:1,className:"w-full"})}),g.jsxs("span",{className:"text-xs text-church-text w-8",children:[h,"%"]})]})]})]})}function $3({onRetry:t}){return g.jsxs(pn,{className:"w-full max-w-md mx-auto border-red-200",children:[g.jsxs(ia,{className:"text-center",children:[g.jsx("div",{className:"mx-auto mb-2 w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:g.jsx(fg,{className:"w-6 h-6 text-red-600"})}),g.jsx(sa,{className:"text-red-800",children:"Problema de Conexão"})]}),g.jsxs(mn,{className:"text-center space-y-4",children:[g.jsx("p",{className:"text-gray-700 text-sm",children:"Este problema ocorre porque estamos em ambiente de desenvolvimento. Para ouvir os hinos, a aplicação precisa ser implantada."}),g.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-left",children:[g.jsx("h4",{className:"font-semibold text-blue-800 text-sm mb-2",children:"Solução:"}),g.jsx("p",{className:"text-blue-700 text-xs",children:"Implante a aplicação no Firebase Hosting para resolver automaticamente os problemas de CORS e permitir a reprodução de áudio."})]}),t&&g.jsx(qe,{onClick:t,variant:"outline",size:"sm",className:"w-full",children:"Tentar Novamente"}),g.jsx("div",{className:"text-xs text-gray-500",children:g.jsx("p",{children:"Código do erro: CORS/Media Element"})})]})]})}function H3({organKey:t,hymnIndex:e}){const[,n]=Sr(),[r,i]=P.useState(null),[s,o]=P.useState(!1),a=iu.find(v=>v.key===t),u=parseInt(e,10),{hymn:c,isLoading:h,error:f,isOnline:p}=p3(t,u),{removeItem:y}=sd(),x=()=>{n(`/organ/${t}`)},T=v=>{console.error("Audio player error:",v),i(v),(v.includes("CORS")||v.includes("Media Element")||v.includes("deploy")||v.includes("formato"))&&o(!0)},S=()=>{i(null),o(!1)};return a?h?g.jsx(Kt,{title:"Carregando...",breadcrumbs:[a.name,"Carregando..."],showBackButton:!0,onBackClick:x,children:g.jsxs("div",{className:"max-w-2xl mx-auto text-center py-8",children:[g.jsx("div",{className:"h-8 w-8 mx-auto mb-4 border-2 border-church-primary border-r-transparent rounded-full animate-spin"}),g.jsx("p",{className:"text-church-text",children:"Carregando hino..."})]})}):f?g.jsx(Kt,{title:"Erro",breadcrumbs:[a.name,"Erro"],showBackButton:!0,onBackClick:x,children:g.jsx("div",{className:"max-w-2xl mx-auto text-center py-8",children:g.jsx("p",{className:"text-church-text text-red-600",children:"Erro ao carregar hino. Verifique sua conexão."})})}):c?g.jsx(Kt,{title:c.titulo,breadcrumbs:[a.name,c.titulo],showBackButton:!0,onBackClick:x,children:g.jsxs("div",{className:"max-w-2xl mx-auto",children:[s?g.jsx($3,{onRetry:S}):g.jsx(B3,{hymn:c,onError:T,onPlay:()=>y(t,u)}),r&&!s&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center mt-4",children:g.jsx("p",{className:"text-red-800 text-sm",children:r})}),!p&&g.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:g.jsx("p",{className:"text-sm text-blue-800",children:"ℹ️ Reproduzindo em modo offline"})})]})}):g.jsx(Kt,{title:"Hino não encontrado",breadcrumbs:[a.name,"Hino não encontrado"],showBackButton:!0,onBackClick:x,children:g.jsx("div",{className:"max-w-2xl mx-auto text-center",children:g.jsx("p",{className:"text-church-text",children:"Hino não encontrado."})})}):g.jsx(Kt,{title:"Órgão não encontrado",showBackButton:!0,onBackClick:()=>n("/"),children:g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-church-text",children:"Órgão não encontrado."})})})}const Dl=P.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Dl.displayName="Input";var q3="Label",kC=P.forwardRef((t,e)=>g.jsx(xt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kC.displayName=q3;var NC=kC;const W3=my("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ho=P.forwardRef(({className:t,...e},n)=>g.jsx(NC,{ref:n,className:Ge(W3(),t),...e}));ho.displayName=NC.displayName;const OC="app-hinos",ur="app-hinos.firebasestorage.app";async function Ll(){if(!(Ft!=null&&Ft.currentUser))throw new Error("User not authenticated");try{const t=await Ft.currentUser.getIdToken(!0);return console.log("Auth token obtained successfully"),t}catch(t){throw console.error("Failed to get auth token:",t),new Error("Failed to get authentication token")}}async function K3(t,e,n){try{if(console.log("Starting upload for file:",t.name,"size:",t.size,"type:",t.type),console.log("Upload path:",e),!t)throw new Error("No file provided for upload");if(!t.type.startsWith("audio/"))throw new Error("File must be an audio file");const r=await Ll();console.log("Got auth token, proceeding with upload..."),console.log("Original STORAGE_BUCKET:",ur);const i=e.startsWith("hinos/")?e:`hinos/${e}`,s=`https://firebasestorage.googleapis.com/v0/b/${ur}/o?name=${encodeURIComponent(i)}`;return console.log("Upload URL:",s),console.log("Clean path:",i),console.log("Storage bucket:",ur),new Promise((o,a)=>{const u=new XMLHttpRequest;u.upload.addEventListener("progress",c=>{if(c.lengthComputable){const h=c.loaded/c.total*100;console.log(`Upload progress: ${h.toFixed(1)}%`),n==null||n(h)}}),u.addEventListener("load",()=>{console.log("Upload completed with status:",u.status),console.log("Upload response:",u.responseText);try{if(u.status===200){const c=JSON.parse(u.responseText);console.log("Upload successful, response:",c),o(c.name||i)}else{const c=u.responseText||u.statusText;console.error("Upload error response:",c),console.error("Upload error status:",u.status),a(new Error(`Upload failed: ${u.status} ${c}`))}}catch(c){console.error("Error parsing upload response:",c),console.error("Raw response text:",u.responseText),a(new Error("Invalid response from upload server"))}}),u.addEventListener("error",c=>{console.error("Upload network error:",c),console.error("XHR error details:",u.status,u.statusText),a(new Error(`Upload failed due to network error: ${u.status} ${u.statusText}`))}),u.addEventListener("timeout",()=>{console.error("Upload timeout"),a(new Error("Upload timeout"))}),u.open("POST",s),u.setRequestHeader("Authorization",`Bearer ${r}`),u.setRequestHeader("Content-Type",t.type),u.timeout=6e4,console.log("Sending file via XHR..."),u.send(t)})}catch(r){console.error("Error in uploadFileToStorage:",r);const i=r instanceof Error?r.message:"Unknown error",s=r instanceof Error?r.stack:void 0;throw console.error("Error details:",i,s),new Error(`Upload setup failed: ${i}`)}}async function G3(t){try{const e=t.startsWith("hinos/")?t:`hinos/${t}`;try{const i=await Ll(),s=`https://firebasestorage.googleapis.com/v0/b/${ur}/o/${encodeURIComponent(e)}`;console.log("Getting file metadata from:",s);const o=await fetch(s,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(o.ok){const a=await o.json();if(console.log("File metadata:",a),a.downloadTokens){const u=`https://firebasestorage.googleapis.com/v0/b/${ur}/o/${encodeURIComponent(e)}?alt=media&token=${a.downloadTokens}`;return console.log("Using authenticated URL:",u),u}}}catch(i){console.log("Metadata fetch failed, trying direct URL:",i)}const n=`https://firebasestorage.googleapis.com/v0/b/${ur}/o/${encodeURIComponent(e)}?alt=media`;console.log("Trying public URL:",n);const r=await fetch(n,{method:"HEAD"});if(r.ok)return console.log("Public URL works:",n),n;{console.log("Public URL failed, status:",r.status);const i=await Ll(),s=`https://firebasestorage.googleapis.com/v0/b/${ur}/o/${encodeURIComponent(e)}?alt=media&token=${i}`;return console.log("Using auth URL:",s),s}}catch(e){console.error("Error getting download URL:",e);const n=t.startsWith("hinos/")?t:`hinos/${t}`,r=`https://firebasestorage.googleapis.com/v0/b/${ur}/o/${encodeURIComponent(n)}?alt=media`;return console.log("Using fallback URL:",r),r}}async function Q3(t,e){try{const n=await Ll();console.log("Adding document to collection:",t,"Data:",e);const r=`https://firestore.googleapis.com/v1/projects/${OC}/databases/(default)/documents/${t}`,i={fields:{numero:{integerValue:e.numero.toString()},titulo:{stringValue:e.titulo},orgao:{stringValue:e.orgao},audioPath:{stringValue:e.audioPath},criadoEm:{timestampValue:new Date().toISOString()}}};console.log("Firestore payload:",JSON.stringify(i,null,2));const s=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(i)}),o=await s.text();if(console.log("Firestore response status:",s.status),console.log("Firestore response text:",o),!s.ok)throw new Error(`Firestore write failed: ${s.status} - ${o}`);return JSON.parse(o).name.split("/").pop()}catch(n){throw console.error("Error in addDocumentToFirestore:",n),n}}async function DC(t,e,n){try{const r=await Ll();console.log("Getting documents from collection:",t);let i=`https://firestore.googleapis.com/v1/projects/${OC}/databases/(default)/documents/${t}`;const s=await fetch(i,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!s.ok){const a=await s.text();throw console.error("Firestore read error:",s.status,a),new Error(`Firestore read failed: ${s.status} - ${a}`)}const o=await s.json();return console.log("Firestore response:",o),o.documents?o.documents.map(a=>({id:a.name.split("/").pop(),numero:parseInt(a.fields.numero.integerValue),titulo:a.fields.titulo.stringValue,orgao:a.fields.orgao.stringValue,audioPath:a.fields.audioPath.stringValue.trim(),criadoEm:new Date(a.fields.criadoEm.timestampValue)})):[]}catch(r){throw console.error("Error in getDocumentsFromFirestore:",r),r}}async function X3(t){try{console.log("Getting next hymn number for organ:",t);const e=await DC("hinos");console.log("Total hymns found:",e.length);const n=e.filter(s=>s.orgao===t);if(console.log("Hymns for organ",t,":",n.length),n.length===0)return console.log("No hymns found for organ, starting with 1"),1;const i=Math.max(...n.map(s=>s.numero))+1;return console.log("Next hymn number will be:",i),i}catch(e){return console.error("Error getting hymn number:",e),console.warn("Using random number as fallback"),Math.floor(Math.random()*9e3)+1e3}}const LC="hinos";async function Y3(t,e,n,r){var i,s,o,a;try{if(r==null||r(5,"Verificando autenticação..."),await py,!(Ft!=null&&Ft.currentUser))throw new Error("Usuário não autenticado. Recarregue a página e tente novamente.");r==null||r(10,"Calculando número do hino...");let u;try{u=await X3(e)}catch(f){console.warn("Error getting hymn number, using random:",f),u=Math.floor(Math.random()*9e3)+1e3}const c=`hinos/${e.toLowerCase().replace(/\s+/g,"-")}-${u}-${Date.now()}.mp3`;r==null||r(15,"Iniciando upload do arquivo...");try{console.log("About to upload file:",n.name,"to path:",c),await K3(n,c,f=>{const p=f*.65+15;r==null||r(p,`Enviando arquivo... ${Math.round(f)}%`)}),console.log("Upload completed successfully"),r==null||r(80,"Upload do arquivo concluído")}catch(f){throw console.error("Upload error:",f),console.error("Upload error type:",typeof f),console.error("Upload error message:",f==null?void 0:f.message),console.error("Upload error stack:",f==null?void 0:f.stack),(i=f==null?void 0:f.message)!=null&&i.includes("unauthorized")?new Error("Sem permissão para upload. Verifique as regras do Firebase Storage."):(s=f==null?void 0:f.message)!=null&&s.includes("network")?new Error("Erro de conexão no upload. Verifique sua internet."):new Error(`Erro no upload: ${(f==null?void 0:f.message)||JSON.stringify(f)||"Erro desconhecido"}`)}r==null||r(85,"Salvando informações do hino...");let h;try{h=await Q3(LC,{numero:u,titulo:t,orgao:e,audioPath:c})}catch(f){console.error("Firestore error:",f);try{console.warn("Upload successful but Firestore save failed. Manual cleanup may be needed.")}catch(p){console.warn("Could not clean up uploaded file:",p)}throw(o=f.message)!=null&&o.includes("permission")?new Error("Sem permissão para salvar no Firestore. Verifique as regras do Firebase."):(a=f.message)!=null&&a.includes("401")?new Error("Erro de autenticação. Recarregue a página e tente novamente."):new Error(`Erro ao salvar no Firestore: ${f.message||"Erro desconhecido"}`)}r==null||r(95,"Atualizando dados locais...");try{await Z3()}catch(f){console.warn("Failed to refresh offline data:",f)}return r==null||r(100,"Hino adicionado com sucesso!"),h}catch(u){throw console.error("Error adding hymn:",u),new Error(u.message||"Erro ao adicionar hino")}}async function J3(){try{await py;const t=await DC(LC),e=[];for(const n of t)try{let r;n.audioPath.startsWith("http")?r=n.audioPath:r=await G3(n.audioPath),e.push({numero:n.numero,titulo:n.titulo,orgao:n.orgao,audioUrl:r,criadoEm:n.criadoEm})}catch(r){console.warn(`Failed to get URL for hymn ${n.numero}:`,r),e.push({numero:n.numero,titulo:n.titulo,orgao:n.orgao,audioUrl:"",criadoEm:n.criadoEm})}localStorage.setItem("hymns_offline_data",JSON.stringify(e)),localStorage.setItem("hymns_last_sync",new Date().toISOString()),console.log("Offline data initialized with",e.length,"hymns")}catch(t){throw console.error("Error initializing offline data:",t),new Error("Erro ao inicializar dados offline")}}async function Z3(){await J3()}var vy="Progress",_y=100,[eU,kU]=Ko(vy),[tU,nU]=eU(vy),MC=P.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=rU,...o}=t;(i||i===0)&&!Bw(i)&&console.error(iU(`${i}`,"Progress"));const a=Bw(i)?i:_y;r!==null&&!$w(r,a)&&console.error(sU(`${r}`,"Progress"));const u=$w(r,a)?r:null,c=gh(u)?s(u,a):void 0;return g.jsx(tU,{scope:n,value:u,max:a,children:g.jsx(xt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":gh(u)?u:void 0,"aria-valuetext":c,role:"progressbar","data-state":jC(u,a),"data-value":u??void 0,"data-max":a,...o,ref:e})})});MC.displayName=vy;var VC="ProgressIndicator",FC=P.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=nU(VC,n);return g.jsx(xt.div,{"data-state":jC(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});FC.displayName=VC;function rU(t,e){return`${Math.round(t/e*100)}%`}function jC(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function gh(t){return typeof t=="number"}function Bw(t){return gh(t)&&!isNaN(t)&&t>0}function $w(t,e){return gh(t)&&!isNaN(t)&&t<=e&&t>=0}function iU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_y}\`.`}function sU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_y} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var UC=MC,oU=FC;const zC=P.forwardRef(({className:t,value:e,...n},r)=>g.jsx(UC,{ref:r,className:Ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:g.jsx(oU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zC.displayName=UC.displayName;function BC(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,s]=P.useState(null),[o,a]=P.useState(!1),[u,c]=P.useState(0),[h,f]=P.useState(""),p=10*1024*1024,y=P.useCallback(T=>{var S;try{const v=(S=T.target.files)==null?void 0:S[0];if(v){if(!v.type.startsWith("audio/")){bs("Por favor, selecione um arquivo de áudio válido.","error");return}if(v.size>p){bs(`Arquivo muito grande. Máximo ${Math.round(p/(1024*1024))}MB, atual: ${Math.round(v.size/(1024*1024))}MB`,"error");return}s(v),c(0),f("")}}catch(v){console.warn("File change error:",v),bs("Erro ao processar o arquivo selecionado.","error")}},[p]),x=P.useCallback(async T=>{if(T.preventDefault(),!t||!n||!i){bs("Por favor, preencha todos os campos.","error");return}if(!o){a(!0),c(0),f("Iniciando upload...");try{const v=await Y3(t,n,i,(w,C)=>{c(w),f(C)});c(100),f("Upload concluído!"),bs("Hino adicionado com sucesso!","success"),e(""),r(""),s(null),c(0),f("");try{const w=document.getElementById("audioFile");w&&(w.value="")}catch(w){console.warn("File input reset error:",w)}setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("hymn-added",{detail:{docId:v,orgao:n}}))}catch(w){console.warn("Event dispatch error:",w)}},100)}catch(S){console.error("Error adding hymn:",S),c(0),f(""),bs(typeof(S==null?void 0:S.message)=="string"?S.message:"Erro ao adicionar hino. Verifique sua conexão e tente novamente.","error")}finally{a(!1)}}},[t,n,i]);return g.jsxs(pn,{className:"w-full max-w-md",children:[g.jsx(ia,{children:g.jsx(sa,{className:"text-church-primary",children:"Adicionar Hino"})}),g.jsx(mn,{children:g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(ho,{htmlFor:"titulo",children:"Título do Hino"}),g.jsx(Dl,{id:"titulo",type:"text",value:t,onChange:T=>e(T.target.value),placeholder:"Digite o título do hino",required:!0})]}),g.jsxs("div",{children:[g.jsx(ho,{htmlFor:"orgao",children:"Órgão"}),g.jsxs("select",{value:n,onChange:T=>r(T.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[g.jsx("option",{value:"",children:"Selecione o órgão"}),iu.map(T=>g.jsx("option",{value:T.name,children:T.name},T.key))]})]}),g.jsxs("div",{children:[g.jsx(ho,{htmlFor:"audioFile",children:"Arquivo de Áudio"}),g.jsx(Dl,{id:"audioFile",type:"file",accept:"audio/*",onChange:y,required:!0}),i&&g.jsxs("div",{className:"mt-1",children:[g.jsxs("p",{className:"text-sm text-gray-600",children:["Arquivo selecionado: ",i.name]}),g.jsxs("p",{className:"text-xs text-gray-500",children:["Tamanho: ",Math.round(i.size/(1024*1024)*100)/100,"MB"]})]}),o&&g.jsxs("div",{className:"mt-4",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("div",{className:"h-4 w-4 border-2 border-church-primary border-r-transparent rounded-full animate-spin"}),g.jsx("span",{className:"text-sm text-gray-600",children:h})]}),g.jsx(zC,{value:u,className:"w-full"}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Math.round(u),"% concluído"]})]})]}),g.jsx(qe,{type:"submit",className:"w-full bg-church-primary hover:bg-church-secondary",disabled:o,children:o?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-r-transparent rounded-full animate-spin"}),"Enviando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(xk,{className:"w-4 h-4 mr-2"}),"Adicionar Hino"]})})]})})]})}const aU={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAWLbxmvwAKx1_rXS_4qMcZWttCRbPsyF4",VITE_FIREBASE_APP_ID:"1:1070834473436:web:ff068364f18cb587f25719",VITE_FIREBASE_AUTH_DOMAIN:"app-hinos.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"1070834473436",VITE_FIREBASE_PROJECT_ID:"app-hinos",VITE_FIREBASE_STORAGE_BUCKET:"app-hinos.firebasestorage.app"};function lU(){const[t,e]=P.useState({hasConfig:!1,missingVars:[],isValid:!1});return P.useEffect(()=>{const r=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(s=>{const o=aU[s];return!o||o.startsWith("your_")}),i=r.length===0;e({hasConfig:i,missingVars:r,isValid:i})},[]),t}function $C(){const{hasConfig:t,missingVars:e}=lU();return t?null:g.jsx(pn,{className:"border-yellow-200 bg-yellow-50",children:g.jsx(mn,{className:"p-4",children:g.jsxs("div",{className:"flex items-start space-x-2",children:[g.jsx(Tk,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-yellow-800 font-medium mb-2",children:"Configuração do Firebase Necessária"}),g.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"O sistema está funcionando com dados locais. Para habilitar a sincronização com Firebase, configure as seguintes variáveis de ambiente:"}),g.jsx("ul",{className:"text-yellow-700 text-xs space-y-1",children:e.map(n=>g.jsxs("li",{className:"flex items-center space-x-1",children:[g.jsx(hk,{className:"h-3 w-3"}),g.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:n})]},n))}),g.jsx("div",{className:"mt-3",children:g.jsx(qe,{size:"sm",variant:"outline",className:"text-yellow-800 border-yellow-300 hover:bg-yellow-100",onClick:()=>window.open("/admin","_blank"),children:"Ver instruções completas"})})]})]})})})}function HC({children:t}){const{user:e,loading:n}=ru(),[,r]=Sr();return P.useEffect(()=>{!n&&!e&&r("/login")},[e,n,r]),n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600",children:"Verificando autenticação..."})]})}):e?g.jsx(g.Fragment,{children:t}):null}function uU(){const{user:t,logout:e}=ru(),[,n]=Sr(),r=async()=>{try{await e(),n("/")}catch(i){console.error("Logout error:",i)}};return g.jsx(Kt,{title:"Adicionar Hinos",showBackButton:!0,children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsx("div",{className:"flex justify-end items-center",children:t&&g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Usuário:"})," ",t.email]}),g.jsxs(qe,{variant:"outline",size:"sm",onClick:r,className:"text-red-600 border-red-300 hover:bg-red-50",children:[g.jsx(jT,{className:"h-4 w-4 mr-2"}),"Sair"]})]})}),g.jsx($C,{}),g.jsx("div",{className:"flex justify-center",children:un?g.jsx(BC,{}):g.jsxs(pn,{children:[g.jsx(ia,{children:g.jsx(sa,{className:"text-church-primary",children:"Adicionar Hino"})}),g.jsx(mn,{children:g.jsx("p",{className:"text-gray-600 text-sm",children:"Configure o Firebase para adicionar novos hinos."})})]})})]})})}function cU(){return g.jsx(HC,{children:g.jsx(uU,{})})}function hU(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,s]=P.useState(!1),[o,a]=P.useState(!1),[u,c]=P.useState(""),[h,f]=P.useState(!1),{login:p}=ru(),[,y]=Sr();P.useEffect(()=>{const T=SI(),S=pI(T,v=>{v&&!h&&(f(!0),a(!1),setTimeout(()=>{y("/config")},100))});return()=>S()},[y,h]);const x=async T=>{if(T.preventDefault(),!(o||h)){a(!0),c("");try{await p(t,n)}catch(S){console.error("Login failed:",S),f(!1),S.code==="auth/user-not-found"?c("Usuário não encontrado"):S.code==="auth/wrong-password"?c("Senha incorreta"):S.code==="auth/invalid-email"?c("Email inválido"):S.code==="auth/too-many-requests"?c("Muitas tentativas. Tente novamente mais tarde"):c("Erro ao fazer login. Tente novamente"),a(!1)}}};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs(qe,{variant:"ghost",onClick:()=>y("/"),className:"mb-6 text-gray-600 hover:text-gray-900",children:[g.jsx(VT,{className:"h-4 w-4 mr-2"}),"Voltar ao início"]}),g.jsxs(pn,{className:"shadow-lg",children:[g.jsxs(ia,{className:"text-center",children:[g.jsx(sa,{className:"text-2xl font-bold text-gray-900",children:"Entrar"}),g.jsx(aC,{children:"Faça login para acessar a área de administração"})]}),g.jsxs(mn,{children:[g.jsxs("form",{onSubmit:x,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(ho,{htmlFor:"email",children:"Email"}),g.jsx(Dl,{id:"email",type:"email",value:t,onChange:T=>e(T.target.value),placeholder:"seu@email.com",required:!0,disabled:o})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(ho,{htmlFor:"password",children:"Senha"}),g.jsxs("div",{className:"relative",children:[g.jsx(Dl,{id:"password",type:i?"text":"password",value:n,onChange:T=>r(T.target.value),placeholder:"Sua senha",required:!0,disabled:o}),g.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),disabled:o,children:i?g.jsx(dk,{className:"h-4 w-4"}):g.jsx(fk,{className:"h-4 w-4"})})]})]}),u&&g.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",children:u}),g.jsx(qe,{type:"submit",className:"w-full",disabled:o||h||!t||!n,children:h?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Redirecionando..."]}):o?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Entrando..."]}):"Entrar"})]}),g.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:g.jsx("p",{children:"Use suas credenciais de administrador"})})]})]})]})})}function dU(){const{user:t,logout:e}=ru(),[,n]=Sr(),r=async()=>{try{await e(),n("/")}catch(i){console.error("Logout error:",i)}};return g.jsx(Kt,{title:"Adicionar Hinos",showBackButton:!0,children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsx("div",{className:"flex justify-end items-center",children:t&&g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-700",children:[g.jsx("strong",{children:"Usuário:"})," ",t.email]}),g.jsxs(qe,{variant:"outline",size:"sm",onClick:r,className:"text-red-600 border-red-300 hover:bg-red-50",children:[g.jsx(jT,{className:"h-4 w-4 mr-2"}),"Sair"]})]})}),g.jsx($C,{}),g.jsx("div",{className:"flex justify-center",children:un?g.jsx(BC,{}):g.jsxs(pn,{children:[g.jsx(ia,{children:g.jsx(sa,{className:"text-church-primary",children:"Adicionar Hino"})}),g.jsx(mn,{children:g.jsx("p",{className:"text-gray-600",children:"Configure o Firebase para poder adicionar hinos."})})]})})]})})}function fU(){return g.jsx(HC,{children:g.jsx(dU,{})})}function pU(){return g.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:g.jsx(pn,{className:"w-full max-w-md mx-4",children:g.jsxs(mn,{className:"pt-6",children:[g.jsxs("div",{className:"flex mb-4 gap-2",children:[g.jsx(fg,{className:"h-8 w-8 text-red-500"}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),g.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function mU(){const[,t]=Sr(),{programacao:e,removeItem:n}=sd(),r=()=>t("/"),i=e.reduce((a,u)=>(a[u.organKey]||(a[u.organKey]=[]),a[u.organKey].push(u),a),{}),s=a=>{var u;return((u=iu.find(c=>c.key===a))==null?void 0:u.name)||a},o=a=>{t(`/organ/${a.organKey}/hymn/${a.hymnIndex}`)};return g.jsx(Kt,{title:"Programação",breadcrumbs:["Programação"],showBackButton:!0,onBackClick:r,children:g.jsx("div",{className:"max-w-4xl mx-auto",children:e.length===0?g.jsx("div",{className:"text-center py-8",children:g.jsx("p",{className:"text-church-text opacity-75",children:"Nenhum hino programado."})}):Object.entries(i).map(([a,u])=>g.jsx(pn,{className:"mb-6",children:g.jsxs(mn,{className:"p-6",children:[g.jsx("h3",{className:"text-lg font-bold text-church-primary mb-4",children:s(a)}),g.jsx("div",{className:"space-y-3",children:u.map(c=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-church-text",children:c.titulo}),g.jsxs("div",{className:"space-x-2",children:[g.jsx(qe,{size:"sm",onClick:()=>o(c),children:"Reproduzir"}),g.jsx(qe,{size:"sm",variant:"destructive",onClick:()=>n(c.organKey,c.hymnIndex),children:"Remover"})]})]},`${c.organKey}-${c.hymnIndex}`))})]})},a))})})}function gU(){return g.jsxs(Eb,{children:[g.jsx(br,{path:"/",component:h3}),g.jsx(br,{path:"/organ/:organKey",children:t=>g.jsx(w3,{organKey:t.organKey})}),g.jsx(br,{path:"/organ/:organKey/hymn/:hymnIndex",children:t=>g.jsx(H3,{organKey:t.organKey,hymnIndex:t.hymnIndex})}),g.jsx(br,{path:"/programacao",component:mU}),g.jsx(br,{path:"/admin",component:cU}),g.jsx(br,{path:"/login",component:hU}),g.jsx(br,{path:"/config",component:fU}),g.jsx(br,{component:pU})]})}function yU(){return g.jsx(oO,{children:g.jsx(Bb,{client:ik,children:g.jsx(r3,{children:g.jsx(i3,{children:g.jsx(iO,{children:g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g.jsx(gU,{}),g.jsx(cN,{})]})})})})})})}const vU=Node.prototype.insertBefore,_U=Node.prototype.removeChild;let Hw=!1;function wU(){Hw||(Hw=!0,Node.prototype.insertBefore=function(t,e){try{return e&&this.contains&&!this.contains(e)?this.appendChild(t):e&&e.parentNode!==this?this.appendChild(t):vU.call(this,t,e)}catch{try{return this.appendChild(t)}catch{return t}}},Node.prototype.removeChild=function(t){try{return this.contains&&!this.contains(t)?t:_U.call(this,t)}catch{return t}},window.addEventListener("error",t=>{var e,n,r;if((e=t.message)!=null&&e.includes("insertBefore")||(n=t.message)!=null&&n.includes("removeChild")||(r=t.message)!=null&&r.includes("NotFoundError"))return console.warn("DOM Error Suppressed:",t.message),t.preventDefault(),t.stopPropagation(),!1},!0),console.log("DOM Error Suppression enabled"))}wU();window.addEventListener("error",t=>{if(t.message&&(t.message.includes("insertBefore")||t.message.includes("runtime-error-plugin")||t.message.includes("Failed to execute 'insertBefore' on 'Node'")||t.message.includes("NotFoundError")||t.message.includes("DOM manipulation")))return console.warn("Vite plugin error suppressed:",t.message),t.preventDefault(),t.stopPropagation(),!1},!0);window.addEventListener("unhandledrejection",t=>{t.reason&&t.reason.message&&(t.reason.message.includes("insertBefore")||t.reason.message.includes("runtime-error-plugin"))&&(console.warn("Vite plugin promise rejection suppressed"),t.preventDefault())});if(typeof window<"u"){const t=console.error,e=console.warn;console.error=function(...n){const r=n.join(" ");if(!(r.includes("insertBefore")||r.includes("runtime-error-plugin")||r.includes("removeChild")||r.includes("NotFoundError")||r.includes("Failed to execute")||r.includes("DOM")&&r.includes("manipulation")))return t.apply(console,n)},console.warn=function(...n){const r=n.join(" ");if(!(r.includes("DOM Error Suppressed")||r.includes("insertBefore with invalid reference node")))return e.apply(console,n)}}const qw=document.getElementById("root");qw?fT(qw).render(g.jsx(yU,{})):console.error('Root element not found. Make sure there is a div with id="root" in your HTML.');
